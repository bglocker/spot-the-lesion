{"version":3,"sources":["res/constants.ts","utils/axiosUtils.ts","utils/errorUtils.ts","utils/firebaseUtils.ts","res/variables.ts","firebase/firebaseApp.ts","components/ColoredLinearProgress.tsx","components/HideFragment.tsx","components/LightTooltip.tsx","components/LoadingButton.tsx","components/NavigationAppBar.tsx","components/ProtectedRoute.tsx","res/colors.ts","components/ScoreWithIncrement.tsx","components/TabPanel.tsx","components/ToggleButton.tsx","components/ToggleButtonGroup.tsx","screens/loading/Loading.tsx","utils/numberUtils.ts","hooks/useArrayGenerator.ts","hooks/useCanvasContext.ts","hooks/useHeatmap.ts","hooks/useInterval.ts","hooks/useSessionState.ts","hooks/useUniqueRandomGenerator.ts","utils/arrayUtils.ts","res/images/achievements/block.png","res/images/achievements/tick.png","res/images/achievements/investigation.png","res/images/achievements/medal.png","res/images/achievements/trophy.png","res/images/achievements/5.png","res/images/achievements/summit.png","res/images/achievements/brainstorm.png","res/images/achievements/flash.png","res/images/achievements/timer.png","res/images/achievements/confetti.png","screens/achievements/achievementItems.ts","screens/achievements/Achievements.tsx","screens/admin/Admin.tsx","screens/admin/AdminAuthContext.ts","screens/admin/AdminLogin.tsx","screens/admin/GameSettings.tsx","utils/fileUtils.ts","screens/admin/FileUpload.tsx","utils/creditsUtils.ts","res/images/credits/imperial.png","res/images/credits/mira.png","screens/credits/Credits.tsx","screens/game/GameMenu.tsx","utils/canvasUtils.ts","utils/gameUtils.ts","screens/game/GameTopBar.tsx","screens/game/GameSideBar.tsx","screens/game/SubmitScoreDialog.tsx","screens/game/ShareScoreDialog.tsx","screens/game/ChallengeDialog.tsx","screens/game/ImageStatsDialog.tsx","screens/game/useFileIdGenerator.ts","screens/game/Game.tsx","screens/game/GameRoute.tsx","res/images/home/logo.gif","res/images/home/ct-scan.png","res/images/home/brain.png","screens/home/Home.tsx","utils/leaderboardsUtils.ts","screens/leaderboards/Leaderboards.tsx","res/images/404/notFound.gif","screens/404/PageNotFound.tsx","screens/statistics/Statistics.tsx","screens/tutorial/TutorialCard.tsx","res/images/tutorial/doctor.png","res/images/tutorial/start screen.png","res/images/tutorial/help.png","res/images/tutorial/answer.png","res/images/tutorial/scoring.png","res/images/tutorial/hourglass.png","res/images/tutorial/giftbox.png","res/images/tutorial/wrong ai.png","res/images/tutorial/right ai.png","res/images/tutorial/calm.png","res/images/tutorial/mystery.png","res/images/tutorial/application.png","res/images/tutorial/lesion.png","screens/tutorial/tutorialItems.ts","res/images/tutorial/strategy_game.png","screens/tutorial/Tutorial.tsx","Router.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["constants","numberOfAchievements","axiosTimeout","defaultImageSize","domainUriPrefix","scoresCasual","scoresCompetitive","images","difficulty","maxOperationRetryTime","animationCubesNumber","canvasSize","animationLineWidth","clickLineWidth","clickSize","hintRange","predictedLineWidth","roundEndTextSize","roundEndTextLineWidth","truthLineWidth","drawPredictedTime","drawTruthTime","evaluationTime","redTime","achievementSnackbarOptions","anchorOrigin","vertical","horizontal","autoHideDuration","variant","errorSnackbarOptions","informationSnackbarOptions","successSnackbarOptions","uploadFilesSnackbarOptions","handleAxiosError","error","enqueueSnackbar","response","console","status","headers","data","request","message","logAxiosError","includes","handleImageLoadError","logImageLoadError","handleUncaughtError","fnName","logUncaughtError","months","getMonthName","month","Error","handleAuthError","code","logAuthError","isFirebaseStorageError","undefined","startsWith","handleFirebaseStorageError","logFirebaseStorageError","isFirestoreError","handleFirestoreError","logFirestoreError","variables","aiScoreMultiplier","roundsNumber","hintLineWidth","hintRadius","animationDuration","hintTime","roundDuration","easyFilesNumber","mediumFilesNumber","hardFilesNumber","firebaseConfig","apiKey","process","appId","authDomain","databaseURL","storageBucket","messagingSenderId","measurementId","projectId","initializeFirebase","a","firebase","apps","length","initializeApp","auth","signInWithEmailAndPassword","storage","setMaxOperationRetryTime","getGlobalVariables","firestore","collection","doc","get","optionsSnapshot","optionsData","Object","assign","ref","getDownloadURL","url","axios","timeout","easy","medium","hard","isAxiosError","useStyles","makeStyles","theme","createStyles","root","width","backgroundColor","props","barBackgroundColor","bar","barColor","palette","primary","main","ColoredLinearProgress","other","classes","LinearProgress","HideFragment","children","hide","arrow","color","common","white","tooltip","boxShadow","shadows","fontSize","LightTooltip","Tooltip","LoadingButton","loading","disabled","Button","CircularProgress","size","backButton","marginRight","title","flexGrow","NavigationAppBar","showBack","history","useHistory","AppBar","position","Toolbar","IconButton","className","style","display","edge","aria-label","onClick","goBack","KeyboardBackspace","Typography","ProtectedRoute","show","redirectTo","to","colors","secondary","primaryTabBar","secondaryTabBar","tabIndicator","fileUploadError","fileUploadSuccess","animation","click","hint","timerInitial","timerOrange","timerRed","truth","playerCorrect","playerIncorrect","predicted","draw","playerLost","playerWon","bronze","gold","rowBorder","rowDefault","header","headerText","silver","legendText","legendTextHover","pieImageCorrectAnswers","pieImageHints","pieImageWrongAnswers","pieAllAiWins","pieAllHumanWins","pieAllDraws","pieAllHints","pieAllNoHints","positiveIncrement","zeroIncrement","text","breakpoints","down","up","incrementText","increment","showIncrement","ScoreWithIncrement","player","score","TabPanel","value","index","fade","action","active","selected","ToggleButton","onToggle","clsx","event","isValueSelected","selectedValues","indexOf","ToggleButtonGroup","exclusive","handleToggle","buttonValue","ix","newValue","slice","splice","push","handleExclusiveToggle","ButtonGroup","React","Children","map","child","isValidElement","cloneElement","container","height","flexDirection","justifyContent","alignItems","Loading","modulo","x","y","randomAround","range","Math","floor","random","useArrayGenerator","array","useState","setIx","number","prevState","useCanvasContext","context","setContext","useCallback","canvas","getContext","useHeatmap","loadData","heatmapInstance","setHeatmapInstance","useEffect","current","instance","h337","create","valueField","_renderer","removeAttribute","setData","min","max","useInterval","callback","delay","savedCallback","useRef","id","window","setInterval","clearInterval","useSessionState","defaultValue","key","sessionValue","sessionStorage","getItem","JSON","parse","_error","setValue","setItem","stringify","useUniqueRandomGenerator","start","stop","step","nums","i","randomIx","randomNum","lockedAchievement","description","image","question","achievementItems","firstCorrect","firstCorrectWithoutHint","firstCasualWin","firstCompetitiveWin","fiveCorrectAnswers","competitivePoints","allCorrectCompetitive","fastAnswer","slowAnswer","correctAnswers","flex","infoText","padding","between","gridContainer","overflow","gridItem","only","Achievements","dialogOpen","setDialogOpen","selectedAchievement","setSelectedAchievement","onDialogClose","localStorage","Grid","item","displayItem","xs","src","alt","Dialog","open","onClose","DialogTitle","DialogContent","dividers","DialogActions","buttonContainer","button","margin","borderRadius","Admin","AdminAuthContext","createContext","adminLoggedIn","adminLogIn","card","marginBottom","textAlign","formContainer","marginTop","AdminLogin","password","setPassword","showPassword","setShowPassword","showError","setShowError","useContext","onSubmitClick","then","catch","Card","TextField","autoFocus","label","required","type","helperText","onChange","target","InputProps","onKeyDown","endAdornment","InputAdornment","onMouseDown","preventDefault","Visibility","VisibilityOff","boxSizing","settingsList","settingItem","buttonGroup","GameSettings","setLoadData","currentData","setCurrentData","smallScreen","useMediaQuery","useSnackbar","setAnimationDuration","setHintTime","setHintRadius","setHintLineWidth","setRoundDuration","setRoundsNumber","name","setter","settingsSnapshot","exists","settingsData","keys","sort","prototype","hasOwnProperty","call","getData","onUpdateClick","values","setting","newData","set","onResetDefault","defaultSettingsSnapshot","defaultSettingsData","Number","changeValue","getMinValue","orientation","compareFiles","b","localeCompare","getFileNames","files","file","join","removeExtension","fileName","replace","uploadList","uploadItem","uploadButton","uploadTextField","successText","errorText","submitButton","axiosConfig","FileUpload","selectedImages","setSelectedImages","selectedJsons","setSelectedJsons","imageHelperText","setImageHelperText","jsonHelperText","setJsonHelperText","uploadSuccessful","setUploadSuccessful","resetState","accept","multiple","hidden","htmlFor","startIcon","CloudUpload","component","placeholder","FormHelperTextProps","readOnly","jsons","checkSelectedFiles","formData","FormData","append","post","successful","responseSnackbarOptions","pkgRegex","getLibrariesArray","libraries","pkg","version","licenseInfo","appBar","tab","imageContainer","justifyItems","marginLeft","list","Credits","tabIndex","setTabIndex","Tabs","indicator","centered","_event","Tab","href","imperial","mira","download","List","ListItem","ListItemText","selectorsContainer","selectorContainer","selectText","fontWeight","toggleButton","startButton","GameMenu","gameModes","setGameModes","difficulties","setDifficulties","newGameModes","newDifficulties","drawRectangle","ctx","rect","lineWidth","strokeStyle","xBase","xEnd","yBase","beginPath","stroke","toDefaultScale","round","toCanvasScale","mapRectangleToCanvasScale","drawRoundEndText","align","strokeWidth","fillStyle","font","lineJoin","miterLimit","strokeText","fillText","drawStrokedText","getAnnotationPath","annotationId","getFilesNumber","val","assertUnreachable","unlockAchievement","maxWidth","timer","GameTopBar","gameMode","hintDisabled","onHintClick","roundTime","timerColor","time","toFixed","alignContent","minWidth","scoresContainer","cardText","submitShareContainer","GameSideBar","gameStarted","gameEnded","roundEnded","roundLoading","onStartRound","onShareClick","onChallenge","playerScore","aiScore","challengeLoading","setChallengeLoading","useMemo","playerScoreFull","total","aiScoreFull","gameEndText","gameEndColor","onChallengeClick","SubmitScoreDialog","onSubmit","username","setUsername","setError","setLoading","onCloseDialog","trimmedUsername","trim","DialogContentText","fullWidth","closeButton","right","spacing","top","grey","shareButton","ShareScoreDialog","TwitterShareButton","TwitterIcon","FacebookShareButton","quote","FacebookIcon","LinkedinShareButton","LinkedinIcon","EmailShareButton","subject","EmailIcon","ChallengeDialog","link","tooltipOpen","setTooltipOpen","tooltipTitle","setTooltipTitle","inputRef","selectInputText","select","setSelectionRange","onMouseEnter","onMouseLeave","document","execCommand","AssignmentTurnedInOutlined","pieContainer","zeroValueText","ImageStatsDialog","imageData","predicate","correctClicks","wrongClicks","hintCount","reduce","acc","nonZeroData","zeroData","startAngle","cornerRadius","bottom","left","datum","borderWidth","borderColor","from","modifiers","enableRadialLabels","sliceLabel","legends","anchor","direction","justify","translateY","itemWidth","itemHeight","itemsSpacing","itemTextColor","symbolSize","symbolShape","effects","on","useFileIdGenerator","challengeFileIds","getNewRandomFileId","getNewChallengeFileId","emptyDiv","topBarCanvasContainer","canvasContainer","maxHeight","imageCanvas","zIndex","animationCanvas","heatmapCanvas","defaultImageData","clicks","Game","heatmapLoading","setHeatmapLoading","showHeatmap","setShowHeatmap","submitDialogOpen","setSubmitDialogOpen","shareDialogOpen","setShareDialogOpen","imageStatsDialogOpen","setImageStatsDialogOpen","challengeDialogOpen","setChallengeDialogOpen","challengeLink","setChallengeLink","roundNumber","setRoundNumber","setGameEnded","hinted","setHinted","fileId","setFileId","fileIds","setFileIds","setTruth","setPredicted","setClick","setImageData","setRoundLoading","setRoundEnded","setShowIncrement","roundRunning","setRoundRunning","setRoundTime","endRunning","setEndRunning","endTime","setEndTime","animationRunning","setAnimationRunning","animationPosition","setAnimationPosition","setTimerColor","hintedCurrent","setHintedCurrent","setPlayerScore","playerCorrectAnswers","setPlayerCorrectAnswers","playerCorrectCurrent","setPlayerCorrectCurrent","setAiScore","aiCorrectAnswers","setAiCorrectAnswers","canvasRef","animationContext","animationCanvasRef","getNewFileId","drawHint","radius","arc","PI","drawCircle","uploadClick","correct","newClick","clickCount","existingClick","find","clk","docName","toString","newImageData","moveTo","lineTo","drawCross","casualScore","competitiveScore","roundScore","textColor","textSize","textLineWidth","intersectionOverUnion","rectA","rectB","xA","xB","yA","yB","inter","getIntersectionOverUnion","competitiveRoundScore","clearRect","cubeSide","baseX","baseY","cube","unlockAchievementHandler","msg","unsubscribe","onSnapshot","snapshot","loadAnnotation","annotation","loadImage","imageId","Promise","resolve","reject","Image","onload","drawImage","onerror","_ev","_src","_line","_col","getImagePath","startRound","newFileId","loadHeatmapData","heatmapData","submitScore","date","Date","scoreData","user","ai_score","correct_player_answers","usedHints","correct_ai_answers","day","getDate","getMonth","year","getFullYear","scores","go","createChallenge","shortLinksUrl","fileIdsString","location","host","dynamicLinkInfo","socialMetaTagInfo","socialTitle","socialDescription","suffix","option","shortLink","getBoundingClientRect","widthScale","heightScale","mapClickToCanvas","clientX","clientY","GameRoute","query","URLSearchParams","search","def","getGameModeOrDefault","getDifficultyOrDefault","getFileIdsOrDefault","gameModeParam","difficultyParam","fileIdsParam","logo","iconsAndButtonsContainer","Home","onPlayClick","onTutorialClick","scan","brain","getColorByRank","rank","timeAppBar","gameModeAppBar","tableContainer","tableCell","borderBottom","tableCellHead","Leaderboards","timeTabIndex","setTimeTabIndex","gameModeTabIndex","setGameModeTabIndex","rows","setRows","timeIndex","gameModeIndex","collectionRef","where","orderBy","getQueryOnTimeAndGameMode","seenUsers","Set","newRows","prevRow","forEach","has","prevScore","prevRank","row","add","TableContainer","Paper","Table","stickyHeader","TableHead","TableRow","TableCell","TableBody","scope","gif","error404Text","returnButton","PageNotFound","notFound","overflowX","defaultStatsData","aiWins","humanWins","draws","hints","noHints","Statistics","slideIndex","setSlideIndex","slideIn","setSlideIn","slideDirection","setSlideDirection","statsData","setStatsData","onTabChange","onArrowClick","Slide","appear","in","enter","exit","onExited","innerRadius","padAngle","enableSliceLabels","defs","background","stagger","rotation","fill","match","ArrowBack","ArrowForward","textContainer","TutorialCard","forwardRef","tutorialItem","imageSrc","displayName","tutorialHowToPlayItems","doctor","start_screen","help","answer","points","hourglass","giftbox","wrong_ai","ai_answer","calm","application","tutorialLesionsItems","lesion","tutorialCard","playButtonContainer","playButton","numSlides","Tutorial","addEventListener","removeEventListener","Router","setAdminLoggedIn","Provider","basename","exact","path","render","createMuiTheme","App","warn","ThemeProvider","maxSnack","preventDuplicate","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8eb3aa5b.chunk.js","sourcesContent":["import { OptionsObject } from \"notistack\";\n\nconst constants = {\n  /* Achievements */\n  numberOfAchievements: 12,\n\n  /* axios */\n  axiosTimeout: 3000,\n\n  /* canvasUtils */\n  defaultImageSize: 512,\n\n  /* Dynamic Links */\n  domainUriPrefix: \"https://spotthelesion.page.link\",\n\n  /* Firebase Firestore */\n  scoresCasual: \"leaderboard_casual\",\n  scoresCompetitive: \"leaderboard_competitive\",\n  images: (difficulty: Difficulty): string => `images_${difficulty}`,\n\n  /* Firebase Storage */\n  maxOperationRetryTime: 3000,\n\n  /* Game */\n  animationCubesNumber: 10,\n  canvasSize: 1024,\n\n  /* Game drawings */\n  animationLineWidth: 3.5,\n  clickLineWidth: 3.5,\n  clickSize: 7,\n  hintRange: 50,\n  predictedLineWidth: 3.5,\n  roundEndTextSize: 48,\n  roundEndTextLineWidth: 2,\n  truthLineWidth: 3.5,\n\n  /* Game timings */\n  drawPredictedTime: 100,\n  drawTruthTime: 500,\n  evaluationTime: 1000,\n  redTime: 2000,\n\n  /* Snackbar */\n  achievementSnackbarOptions: {\n    anchorOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\",\n    },\n    autoHideDuration: 3000,\n    variant: \"success\",\n  } as OptionsObject,\n  errorSnackbarOptions: {\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"right\",\n    },\n    autoHideDuration: 3000,\n    variant: \"error\",\n  } as OptionsObject,\n  informationSnackbarOptions: {\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"left\",\n    },\n    autoHideDuration: 3000,\n    variant: \"info\",\n  } as OptionsObject,\n  successSnackbarOptions: {\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"left\",\n    },\n    autoHideDuration: 6000,\n    variant: \"success\",\n  } as OptionsObject,\n  uploadFilesSnackbarOptions: {\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"left\",\n    },\n    autoHideDuration: 4000,\n    variant: \"warning\",\n  } as OptionsObject,\n};\n\nexport default constants;\n","import { AxiosError } from \"axios\";\nimport { ReactNode } from \"react\";\nimport { OptionsObject } from \"notistack\";\nimport constants from \"../res/constants\";\n\n/**\n * Logs an axios error\n *\n * @param error Axios error to log\n */\nconst logAxiosError = (error: AxiosError): void => {\n  if (error.response) {\n    /* Received response error (4xx, 5xx) */\n    console.error(\n      `Axios response error\\n status: ${error.response.status}\\n headers: ${error.response.headers}\\n data: ${error.response.data}`\n    );\n  } else if (error.request) {\n    /* No response received */\n    console.error(`Axios no response error\\n request: ${error.request}`);\n  } else {\n    /* Request could not be created */\n    console.error(`Axios unknown error\\n message: ${error.message}`);\n  }\n};\n\n/**\n * Logs the given error, optionally displaying a snackbar\n *\n * @param error           Error to handle\n * @param enqueueSnackbar Function to display a snackbar\n */\nconst handleAxiosError = (\n  error: AxiosError,\n  enqueueSnackbar?: (message: ReactNode, options?: OptionsObject) => void\n): void => {\n  logAxiosError(error);\n\n  /* Snackbar should be displayed */\n  if (enqueueSnackbar) {\n    let message = \"Please try again.\";\n\n    /* Internet connection error */\n    if (error.message.includes(\"timeout\")) {\n      message = \"Please check your internet connection and try again.\";\n    }\n\n    enqueueSnackbar(message, constants.errorSnackbarOptions);\n  }\n};\n\nexport { logAxiosError, handleAxiosError };\n","import { ReactNode } from \"react\";\nimport { OptionsObject } from \"notistack\";\nimport constants from \"../res/constants\";\n\n/**\n * Asserts a part of the code that should not be reached (e.g. default case of exhaustive switch)\n *\n * @param val Unreachable value\n */\nconst assertUnreachable = (val: never): never => {\n  throw new Error(`Unreachable value ${val} reached.`);\n};\n\n/**\n * Logs the given image loading error\n *\n * @param error Image load error to log\n */\nconst logImageLoadError = (error: Error): void =>\n  console.error(`Image loading error\\n message: ${error.message}`);\n\n/**\n * Logs the given error, optionally displaying a snackbar\n *\n * @param error           Error to handle\n * @param enqueueSnackbar Function to display a snackbar\n */\nconst handleImageLoadError = (\n  error: Error,\n  enqueueSnackbar?: (message: ReactNode, options?: OptionsObject) => void\n): void => {\n  logImageLoadError(error);\n\n  if (enqueueSnackbar) {\n    const message = \"Please try again.\";\n\n    enqueueSnackbar(message, constants.errorSnackbarOptions);\n  }\n};\n\n/**\n * Logs an uncaught error in a function\n *\n * @param error  Uncaught error to log\n * @param fnName Function name where error occurred\n */\nconst logUncaughtError = (error: Error, fnName: string): void =>\n  console.error(`Uncaught error in ${fnName}\\n ${error.message}`);\n\n/**\n * Logs the given error, optionally displaying a snackbar\n *\n * @param error           Error to handle\n * @param fnName          Function name where error occurred\n * @param enqueueSnackbar Function to display a snackbar\n */\nconst handleUncaughtError = (\n  error: Error,\n  fnName: string,\n  enqueueSnackbar?: (message: ReactNode, options?: OptionsObject) => void\n): void => {\n  logUncaughtError(error, fnName);\n\n  /* Snackbar should be displayed */\n  if (enqueueSnackbar) {\n    const message = \"Please try again.\";\n\n    enqueueSnackbar(message, constants.errorSnackbarOptions);\n  }\n};\n\nexport {\n  assertUnreachable,\n  handleImageLoadError,\n  handleUncaughtError,\n  logImageLoadError,\n  logUncaughtError,\n};\n","import firebase from \"firebase\";\nimport { ReactNode } from \"react\";\nimport { OptionsObject } from \"notistack\";\nimport constants from \"../res/constants\";\n\ntype AuthError = firebase.auth.AuthError;\n\ntype FirestoreError = firebase.firestore.FirestoreError;\n\ntype FirebaseStorageError = firebase.storage.FirebaseStorageError;\n\nconst months: Month[] = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\n\n/**\n * Return a three letter month name for the given month number\n *\n * @param month Month number\n *\n * @return Three letter month name\n */\nconst getMonthName = (month: number): Month => {\n  if (month < 0 || month > 11) {\n    throw new Error(\"Month number must be between 0 and 11 inclusively.\");\n  }\n\n  return months[month];\n};\n\n/**\n * Checks if an error is an Auth error\n *\n * @param error Error to check\n *\n * @return AuthError type predicate\n */\nconst isAuthError = (error: unknown): error is AuthError =>\n  (error as AuthError).code !== undefined && (error as AuthError).code.startsWith(\"auth/\");\n\n/**\n * Logs an Auth error\n *\n * @param error Auth error to log\n */\nconst logAuthError = (error: AuthError): void =>\n  console.error(`Firebase auth error\\n code: ${error.code}\\n message: ${error.message}`);\n\n/**\n * Logs the given error, optionally displaying a snackbar\n *\n * @param error           Error to handle\n * @param enqueueSnackbar Function to display a snackbar\n */\nconst handleAuthError = (\n  error: AuthError,\n  enqueueSnackbar?: (message: ReactNode, options?: OptionsObject) => void\n): void => {\n  logAuthError(error);\n\n  /* Snackbar should be displayed */\n  if (enqueueSnackbar) {\n    const message = \"Please try again.\";\n\n    enqueueSnackbar(message, constants.errorSnackbarOptions);\n  }\n};\n\n/**\n * Checks if an error is a Firebase storage error\n *\n * @param error Error to check\n *\n * @return FirebaseStorageError type predicate\n */\nconst isFirebaseStorageError = (error: Error): error is FirebaseStorageError =>\n  (error as FirebaseStorageError).code !== undefined &&\n  (error as FirebaseStorageError).code.startsWith(\"storage/\");\n\n/**\n * Logs a Firebase storage error\n *\n * @param error Firebase storage error to log\n */\nconst logFirebaseStorageError = (error: FirebaseStorageError): void =>\n  console.error(`Firebase storage error\\n code: ${error.code}\\n message: ${error.message}`);\n\n/**\n * Log the given error, optionally displaying a snackbar\n *\n * @param error           Error to handle\n * @param enqueueSnackbar Function to display a snackbar\n */\nconst handleFirebaseStorageError = (\n  error: FirebaseStorageError,\n  enqueueSnackbar?: (message: ReactNode, options?: OptionsObject) => void\n): void => {\n  logFirebaseStorageError(error);\n\n  /* Snackbar should be displayed */\n  if (enqueueSnackbar) {\n    let message = \"Please try again.\";\n\n    /* Internet connection error */\n    if (error.code === \"storage/retry-limit-exceeded\") {\n      message = \"Please check your internet connection and try again.\";\n    }\n\n    enqueueSnackbar(message, constants.errorSnackbarOptions);\n  }\n};\n\n/**\n * Checks if an error is a Firestore error\n *\n * @param error Error to check\n *\n * @return FirestoreError type predicate\n */\nconst isFirestoreError = (error: Error): error is FirestoreError =>\n  (error as FirestoreError).code !== undefined;\n\n/**\n * Logs a Firestore error\n *\n * @param error Firestore error to log\n */\nconst logFirestoreError = (error: FirestoreError): void =>\n  console.error(`Firebase firestore error\\n code: ${error.code}\\n message: ${error.message}`);\n\n/**\n * Log the given error, optionally displaying a snackbar\n *\n * @param error           Error to handle\n * @param enqueueSnackbar Function to display a snackbar\n */\nconst handleFirestoreError = (\n  error: FirestoreError,\n  enqueueSnackbar?: (message: ReactNode, options?: OptionsObject) => void\n): void => {\n  logFirestoreError(error);\n\n  /* Snackbar should be displayed */\n  if (enqueueSnackbar) {\n    let message = \"Please try again.\";\n\n    if (error.code === \"unavailable\") {\n      message = \"Please check your internet connection and try again.\";\n    }\n\n    enqueueSnackbar(message, constants.errorSnackbarOptions);\n  }\n};\n\nexport {\n  getMonthName,\n  handleAuthError,\n  handleFirebaseStorageError,\n  handleFirestoreError,\n  isAuthError,\n  isFirebaseStorageError,\n  isFirestoreError,\n  logAuthError,\n  logFirebaseStorageError,\n  logFirestoreError,\n};\n","const variables = {\n  /* Game */\n  aiScoreMultiplier: 72,\n  roundsNumber: 10,\n\n  /* Game drawings */\n  hintLineWidth: 2,\n  hintRadius: 100,\n\n  /* Game timings */\n  animationDuration: 3000,\n  hintTime: 5000,\n  roundDuration: 10000,\n\n  /* Firebase */\n  easyFilesNumber: 1252,\n  mediumFilesNumber: 2202,\n  hardFilesNumber: 1269,\n};\n\nexport default variables;\n","import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\nimport \"firebase/auth\";\nimport axios from \"axios\";\nimport { handleAxiosError } from \"../utils/axiosUtils\";\nimport { handleUncaughtError } from \"../utils/errorUtils\";\nimport {\n  handleAuthError,\n  handleFirebaseStorageError,\n  handleFirestoreError,\n  isAuthError,\n  isFirebaseStorageError,\n  isFirestoreError,\n} from \"../utils/firebaseUtils\";\nimport constants from \"../res/constants\";\nimport variables from \"../res/variables\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  appId: \"1:131387805123:web:9bdbabe358ffcf04ad4176\",\n  authDomain: \"spot-the-lesion.firebaseapp.com\",\n  databaseURL: \"https://spot-the-lesion.firebaseio.com\",\n  storageBucket: \"spot-the-lesion.appspot.com\",\n  messagingSenderId: \"131387805123\",\n  measurementId: \"G-13PZY5QQPK\",\n  projectId: \"spot-the-lesion\",\n};\n\n/**\n * Initialize the Firebase app\n * Sign in with a default account to enable Firestore security rules\n * Set the maximum operation retry time for Storage\n *\n * @return True if successful, false otherwise\n */\nconst initializeFirebase = async (): Promise<boolean> => {\n  if (process.env.REACT_APP_FIREBASE_API_KEY === undefined) {\n    console.error(\"Firebase API key not set.\");\n\n    return false;\n  }\n\n  /* Check if app already initialized */\n  if (firebase.apps.length === 1) {\n    return true;\n  }\n\n  firebase.initializeApp(firebaseConfig);\n\n  const defaultEmail = \"user@gmail.com\";\n  const defaultPassword = process.env.REACT_APP_SERVER_KEY || \"N/A\";\n\n  try {\n    await firebase.auth().signInWithEmailAndPassword(defaultEmail, defaultPassword);\n\n    firebase.storage().setMaxOperationRetryTime(constants.maxOperationRetryTime);\n\n    return true;\n  } catch (error) {\n    if (isAuthError(error)) {\n      console.error(\"Default user sign in failed.\");\n\n      handleAuthError(error);\n    }\n\n    return false;\n  }\n};\n\n/**\n * Get the global variables for the app\n *\n * Get game settings from Firestore\n * Get image numbers from Storage\n *\n * @return True if successful, false otherwise\n */\nconst getGlobalVariables = async (): Promise<boolean> => {\n  try {\n    /* Get game settings form Firestore */\n    const optionsSnapshot = await firebase\n      .firestore()\n      .collection(\"game_options\")\n      .doc(\"current_options\")\n      .get();\n\n    const optionsData = optionsSnapshot.data() as FirestoreOptionsData | undefined;\n\n    Object.assign(variables, optionsData);\n\n    /* Get image numbers from Storage */\n    const url = await firebase.storage().ref(\"image_numbers.json\").getDownloadURL();\n\n    const response = await axios.get<ImageNumbersData>(url, { timeout: constants.axiosTimeout });\n\n    const { easy, medium, hard } = response.data;\n\n    variables.easyFilesNumber = easy;\n    variables.mediumFilesNumber = medium;\n    variables.hardFilesNumber = hard;\n\n    return true;\n  } catch (error) {\n    if (isFirestoreError(error)) {\n      handleFirestoreError(error);\n    } else if (isFirebaseStorageError(error)) {\n      handleFirebaseStorageError(error);\n    } else if (axios.isAxiosError(error)) {\n      handleAxiosError(error);\n    } else {\n      handleUncaughtError(error, \"getGlobalVariables\");\n    }\n\n    return false;\n  }\n};\n\nexport { getGlobalVariables, initializeFirebase };\n","import React from \"react\";\nimport { LinearProgress, LinearProgressProps } from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\n\ninterface StylesProps {\n  barColor?: string;\n  barBackgroundColor?: string;\n}\n\ninterface ColoredLinearProgressProps extends LinearProgressProps {\n  barColor?: string;\n  barBackgroundColor?: string;\n}\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      width: \"100%\",\n      backgroundColor: (props: StylesProps) => props.barBackgroundColor || \"gray\",\n    },\n    bar: {\n      backgroundColor: (props: StylesProps) => props.barColor || theme.palette.primary.main,\n    },\n  })\n);\n\nconst ColoredLinearProgress: React.FC<ColoredLinearProgressProps> = ({\n  barColor,\n  barBackgroundColor,\n  ...other\n}: ColoredLinearProgressProps) => {\n  const classes = useStyles({ barColor, barBackgroundColor });\n\n  // Props are properly destructured and passed\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  return <LinearProgress classes={classes} {...other} />;\n};\n\nexport default ColoredLinearProgress;\n","import React, { ReactNode } from \"react\";\n\ninterface HideFragmentProps {\n  hide?: boolean;\n  children: ReactNode;\n}\n\nconst HideFragment: React.FC<HideFragmentProps> = ({\n  children,\n  hide = false,\n}: HideFragmentProps) => {\n  if (hide) {\n    return null;\n  }\n\n  return <>{children}</>;\n};\n\nexport default HideFragment;\n","import React from \"react\";\nimport { Tooltip, TooltipProps } from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    arrow: {\n      color: theme.palette.common.white,\n    },\n    tooltip: {\n      backgroundColor: theme.palette.common.white,\n      color: \"rgba(0, 0, 0, 0.87)\",\n      boxShadow: theme.shadows[1],\n      fontSize: 14,\n    },\n  })\n);\n\nconst LightTooltip: React.FC<TooltipProps> = ({ children, ...other }: TooltipProps) => {\n  const classes = useStyles();\n\n  return (\n    // Props are properly destructured and passed\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    <Tooltip classes={classes} {...other}>\n      {children}\n    </Tooltip>\n  );\n};\n\nexport default LightTooltip;\n","import React, { ReactNode } from \"react\";\nimport { Button, ButtonProps, CircularProgress } from \"@material-ui/core\";\n\ninterface LoadingButtonProps extends ButtonProps {\n  loading: boolean;\n  children: ReactNode;\n}\n\nconst LoadingButton: React.FC<LoadingButtonProps> = ({\n  children,\n  loading,\n  disabled,\n  ...other\n}: LoadingButtonProps) => {\n  return (\n    // Props are properly destructured and passed\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    <Button disabled={disabled || loading} {...other}>\n      {loading ? <CircularProgress color=\"secondary\" size={24} /> : children}\n    </Button>\n  );\n};\n\nexport default LoadingButton;\n","import React, { ReactNode } from \"react\";\nimport { AppBar, IconButton, Toolbar, Typography } from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { KeyboardBackspace } from \"@material-ui/icons\";\nimport { useHistory } from \"react-router-dom\";\n\ninterface NavigationAppBarProps {\n  showBack?: boolean;\n  children?: ReactNode;\n}\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    backButton: {\n      marginRight: 8,\n    },\n    title: {\n      flexGrow: 1,\n    },\n  })\n);\n\nconst NavigationAppBar: React.FC<NavigationAppBarProps> = ({\n  children,\n  showBack,\n}: NavigationAppBarProps) => {\n  const classes = useStyles();\n\n  const history = useHistory();\n\n  const onBackClick = () => history.goBack();\n\n  return (\n    <AppBar position=\"sticky\">\n      <Toolbar variant=\"dense\">\n        <IconButton\n          className={classes.backButton}\n          style={{ display: showBack ? \"\" : \"none\" }}\n          edge=\"start\"\n          color=\"inherit\"\n          aria-label=\"Back\"\n          onClick={onBackClick}\n        >\n          <KeyboardBackspace />\n        </IconButton>\n\n        <Typography className={classes.title}>Spot the Lesion</Typography>\n\n        {children}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default NavigationAppBar;\n","import React, { ReactNode } from \"react\";\nimport { Route, Redirect, RouteProps } from \"react-router-dom\";\n\ninterface ProtectedRouteProps extends RouteProps {\n  show: boolean;\n  redirectTo: string;\n  children: ReactNode;\n}\n\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = ({\n  children,\n  show,\n  redirectTo,\n  ...other\n}: ProtectedRouteProps) => {\n  // Props are properly destructured and passed\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  return <Route {...other}>{show ? children : <Redirect to={redirectTo} />}</Route>;\n};\n\nexport default ProtectedRoute;\n","const colors = {\n  primary: \"#07575B\",\n  secondary: \"#63A2AB\",\n\n  primaryTabBar: \"#004445\",\n  secondaryTabBar: \"#003B46\",\n  tabIndicator: \"#C4DFE6\",\n\n  /* FileUpload */\n  fileUploadError: \"red\",\n  fileUploadSuccess: \"green\",\n\n  /* Game */\n  animation: \"#63A2AB\",\n  click: \"orange\",\n  hint: \"red\",\n  timerInitial: \"#373737\",\n  timerOrange: \"orange\",\n  timerRed: \"red\",\n  truth: \"green\",\n  playerCorrect: \"green\",\n  playerIncorrect: \"red\",\n  predicted: \"red\",\n\n  /* GameSideBar */\n  draw: \"gray\",\n  playerLost: \"red\",\n  playerWon: \"green\",\n\n  /* Leaderboards */\n  bronze: \"#CD7F32\",\n  gold: \"#FFCC00\",\n  rowBorder: \"#003B46\",\n  rowDefault: \"#C4DFE6\",\n  header: \"#07575B\",\n  headerText: \"white\",\n  silver: \"#A9A9A9\",\n\n  /* Pie Chart */\n  legendText: \"black\",\n  legendTextHover: \"#888888\",\n\n  /* Pie Chart - ImageStatsDialog */\n  pieImageCorrectAnswers: \"#00B359\",\n  pieImageHints: \"#E6B800\",\n  pieImageWrongAnswers: \"#FF0000\",\n\n  /* Pie Chart - Statistics */\n  pieAllAiWins: \"#D9267A\",\n  pieAllHumanWins: \"#26AFD9\",\n  pieAllDraws: \"#BAE3BC\",\n  pieAllHints: \"#26AFD9\",\n  pieAllNoHints: \"#D9267A\",\n\n  /* ScoreWithIncrement */\n  positiveIncrement: \"green\",\n  zeroIncrement: \"red\",\n};\n\nexport default colors;\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport colors from \"../res/colors\";\n\ninterface StylesProps {\n  increment: number;\n  showIncrement: boolean;\n}\n\ninterface ScoreWithIncrementProps {\n  player: string;\n  score: number;\n  increment: number;\n  showIncrement: boolean;\n}\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    text: {\n      [theme.breakpoints.down(\"sm\")]: {\n        fontSize: \"1.5rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        fontSize: \"2rem\",\n      },\n    },\n    incrementText: {\n      color: (props: StylesProps) =>\n        props.increment > 0 ? colors.positiveIncrement : colors.zeroIncrement,\n      display: (props: StylesProps) => (props.showIncrement ? \"\" : \"none\"),\n    },\n  })\n);\n\nconst ScoreWithIncrement: React.FC<ScoreWithIncrementProps> = ({\n  player,\n  score,\n  increment,\n  showIncrement,\n}: ScoreWithIncrementProps) => {\n  const classes = useStyles({ increment, showIncrement });\n\n  return (\n    <Typography className={classes.text}>\n      {player}: {score} <span className={classes.incrementText}>+{increment}</span>\n    </Typography>\n  );\n};\n\nexport default ScoreWithIncrement;\n","import React, { ReactNode } from \"react\";\n\ninterface TabPanelProps {\n  value: number;\n  index: number;\n  children: ReactNode;\n}\n\nconst TabPanel: React.FC<TabPanelProps> = ({ children, value, index }: TabPanelProps) => {\n  if (value !== index) {\n    return null;\n  }\n\n  return <>{children}</>;\n};\n\nexport default TabPanel;\n","import React from \"react\";\nimport { Button, ButtonProps } from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\nimport clsx from \"clsx\";\n\ninterface ToggleButtonProps extends ButtonProps {\n  value: string;\n  onToggle?: (event: React.MouseEvent<HTMLButtonElement>, value: string) => void;\n  selected?: boolean;\n}\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    root: {\n      color: fade(theme.palette.action.active, 0.38),\n    },\n    selected: {\n      backgroundColor: fade(theme.palette.action.active, 0.12),\n      \"&:hover\": {\n        backgroundColor: fade(theme.palette.action.active, 0.15),\n      },\n    },\n  })\n);\n\nconst ToggleButton: React.FC<ToggleButtonProps> = ({\n  children,\n  className,\n  value,\n  onClick,\n  onToggle,\n  selected,\n  ...other\n}: ToggleButtonProps) => {\n  const classes = useStyles();\n\n  const onButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    if (onClick) {\n      onClick(event);\n    }\n\n    if (onToggle) {\n      onToggle(event, value);\n    }\n  };\n\n  return (\n    <Button\n      className={clsx(\n        {\n          [classes.selected]: selected,\n        },\n        className\n      )}\n      onClick={onButtonClick}\n      // Props are properly destructured and passed\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      {...other}\n    >\n      {children}\n    </Button>\n  );\n};\n\nexport default ToggleButton;\n","import React from \"react\";\nimport { ButtonGroup, ButtonGroupProps } from \"@material-ui/core\";\n\ninterface ToggleButtonGroupProps<T> extends ButtonGroupProps {\n  exclusive?: boolean;\n  value: T[];\n  onToggle?: (event: React.MouseEvent<HTMLButtonElement>, newValue: T[]) => void;\n}\n\nconst isValueSelected = <T extends string>(value: T, selectedValues: T[]) =>\n  selectedValues.indexOf(value) >= 0;\n\nconst ToggleButtonGroup = <T extends string>({\n  children,\n  exclusive = false,\n  value,\n  onToggle,\n  size = \"medium\",\n  ...other\n}: ToggleButtonGroupProps<T>): JSX.Element => {\n  const handleToggle = (event: React.MouseEvent<HTMLButtonElement>, buttonValue: T) => {\n    if (!onToggle) {\n      return;\n    }\n\n    const ix = value.indexOf(buttonValue);\n    const newValue = value.slice();\n\n    if (ix >= 0) {\n      newValue.splice(ix, 1);\n    } else {\n      newValue.push(buttonValue);\n    }\n\n    onToggle(event, newValue);\n  };\n\n  const handleExclusiveToggle = (event: React.MouseEvent<HTMLButtonElement>, buttonValue: T) => {\n    if (!onToggle) {\n      return;\n    }\n\n    const ix = value.indexOf(buttonValue);\n    const newValue: T[] = [];\n\n    if (ix < 0) {\n      newValue.push(buttonValue);\n    }\n\n    onToggle(event, newValue);\n  };\n\n  return (\n    // Props are properly destructured and passed\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    <ButtonGroup {...other}>\n      {React.Children.map(children, (child) => {\n        if (!React.isValidElement(child)) {\n          return null;\n        }\n\n        return React.cloneElement(child, {\n          onToggle: exclusive ? handleExclusiveToggle : handleToggle,\n          selected: child.props.selected || isValueSelected(child.props.value, value),\n          size: child.props.size || size,\n        });\n      })}\n    </ButtonGroup>\n  );\n};\n\nexport default ToggleButtonGroup;\n","import React from \"react\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    container: {\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n  })\n);\n\nconst Loading: React.FC = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.container}>\n      <CircularProgress color=\"primary\" size={128} />\n    </div>\n  );\n};\n\nexport default Loading;\n","/**\n * Returns the modulo of two given numbers\n * This differs from the remainder operator (%) for negative dividends\n *\n * @param x Dividend\n * @param y Divider\n *\n * @return Modulo of the two numbers\n */\nconst modulo = (x: number, y: number): number => ((x % y) + y) % y;\n\n/**\n * Get a random value in a range around a start point\n *\n * @param x     Start point\n * @param range Random range [-range, range]\n *\n * @return Random value in range around x\n */\nconst randomAround = (x: number, range: number): number =>\n  x + Math.floor(Math.random() * (range * 2 + 1)) - range;\n\nexport { modulo, randomAround };\n","import { useState } from \"react\";\nimport { modulo } from \"../utils/numberUtils\";\n\n/**\n * Custom hook for creating a generator from a given array\n * If the array is empty, it will always return -1\n *\n * @param array Array of numbers out of which to create a generator\n *\n * @return Array value generator function\n */\nconst useArrayGenerator = (array: number[]): (() => number) => {\n  const [ix, setIx] = useState(0);\n\n  if (array.length === 0) {\n    return () => -1;\n  }\n\n  return () => {\n    const number = array[ix];\n\n    setIx((prevState) => modulo(prevState + 1, array.length));\n\n    return number;\n  };\n};\n\nexport default useArrayGenerator;\n","import { useCallback, useState } from \"react\";\n\n/**\n * Custom hook for accessing a canvas's context\n *\n * @return Canvas rendering context and callback ref for setting it\n */\nconst useCanvasContext = (): readonly [\n  CanvasRenderingContext2D,\n  (canvas: HTMLCanvasElement | null) => void\n] => {\n  /* State won't ever be called while null, as it is set on render with the callback ref */\n  const [context, setContext] = useState<CanvasRenderingContext2D>(null!);\n\n  /* Callback ref for setting canvas context */\n  const ref = useCallback((canvas: HTMLCanvasElement | null) => {\n    /* Called with null on component unmount */\n    if (canvas !== null) {\n      setContext(canvas.getContext(\"2d\")!);\n    }\n  }, []);\n\n  return [context, ref] as const;\n};\n\nexport default useCanvasContext;\n","import { RefObject, useEffect, useState } from \"react\";\nimport h337 from \"heatmap.js\";\nimport constants from \"../res/constants\";\n\n/**\n * Custom hook for drawing a Heatmap over a canvas\n *\n * @param show       If true, the heatmap is shown\n * @param loadData   Function to load heatmap data\n * @param container  Ref to the container element to draw the heatmap in\n * @param className  Canvas className\n */\nconst useHeatmap = (\n  show: boolean,\n  loadData: (any) => void,\n  container: RefObject<HTMLDivElement>,\n  className: string\n): void => {\n  const [heatmapInstance, setHeatmapInstance] = useState<h337>(null!);\n\n  /* Initialize a heatmap instance */\n  useEffect(() => {\n    if (container.current === null) {\n      return;\n    }\n\n    /* Initialize heatmap instance */\n    const instance = h337.create({\n      container: container.current,\n      valueField: \"clickCount\",\n      width: constants.canvasSize,\n      height: constants.canvasSize,\n    });\n\n    // eslint-disable-next-line no-underscore-dangle\n    const { canvas }: { canvas: HTMLCanvasElement } = instance._renderer;\n\n    /* Replace default style with Game canvas style */\n    canvas.removeAttribute(\"style\");\n    canvas.className = className;\n\n    setHeatmapInstance(instance);\n  }, [className, container]);\n\n  /* Load data on the heatmap instance */\n  useEffect(() => {\n    if (heatmapInstance === null) {\n      return;\n    }\n\n    // eslint-disable-next-line no-underscore-dangle\n    const { canvas }: { canvas: HTMLCanvasElement } = heatmapInstance._renderer;\n\n    if (show) {\n      /* Show heatmap and load data */\n      canvas.style.display = \"\";\n\n      loadData(heatmapInstance);\n    } else {\n      /* Hide heatmap */\n      canvas.style.display = \"none\";\n\n      heatmapInstance.setData({ min: 0, max: 1, data: [] });\n    }\n  }, [heatmapInstance, loadData, show]);\n};\n\nexport default useHeatmap;\n","import { useEffect, useRef } from \"react\";\n\n/**\n * Custom hook for intervals\n *\n * @param callback Function to be called in interval\n * @param delay    How often to call the function, or null to pause the interval\n */\nconst useInterval = (callback: () => void, delay: number | null): void => {\n  const savedCallback = useRef<(() => void) | null>(null);\n\n  /* Update callback to catch state changes */\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  /* Trigger or pause the interval */\n  useEffect(() => {\n    const tick = () => {\n      if (savedCallback.current !== null) {\n        savedCallback.current();\n      }\n    };\n\n    if (delay !== null) {\n      const id = window.setInterval(tick, delay);\n\n      return () => clearInterval(id);\n    }\n\n    return () => {};\n  }, [delay]);\n};\n\nexport default useInterval;\n","import { Dispatch, SetStateAction, useEffect, useState } from \"react\";\n\n/**\n * Custom hook for creating stateful variable saved in the browser's sessionStorage\n *\n * @param defaultValue Default value for the state variable\n * @param key          Key for saving/accessing the state variable in sessionStorage\n *\n * @return State variable value and setter\n */\nconst useSessionState = <T>(\n  defaultValue: T,\n  key: string\n): readonly [T, Dispatch<SetStateAction<T>>] => {\n  const [value, setValue] = useState<T>(() => {\n    const sessionValue = sessionStorage.getItem(key) || \"\";\n\n    try {\n      return JSON.parse(sessionValue);\n    } catch (_error) {\n      return defaultValue;\n    }\n  });\n\n  useEffect(() => {\n    sessionStorage.setItem(key, JSON.stringify(value));\n  }, [key, value]);\n\n  return [value, setValue];\n};\n\nexport default useSessionState;\n","import { useState } from \"react\";\nimport { range } from \"../utils/arrayUtils\";\nimport { modulo } from \"../utils/numberUtils\";\n\n/**\n * Custom hook for creating a unique random generator\n *\n * When all unique values have been generated, restart with the same range\n *\n * @param min Minimum random value (inclusive)\n * @param max Maximum random value (exclusive)\n *\n * @return Unique random generator function\n */\nconst useUniqueRandomGenerator = (min: number, max: number): (() => number) => {\n  const [nums] = useState(() => range(min, max));\n  const [ix, setIx] = useState(max - min - 1);\n\n  return () => {\n    const randomIx = Math.floor(Math.random() * (ix + 1));\n\n    const randomNum = nums[randomIx];\n\n    nums[randomIx] = nums[ix];\n\n    nums[ix] = randomNum;\n\n    setIx((prevState) => modulo(prevState - 1, max - min));\n\n    return randomNum;\n  };\n};\n\nexport default useUniqueRandomGenerator;\n","/**\n * Given an array, partitions it into two complementary arrays based on a predicate function\n *\n * @param xs        Array of elements\n * @param predicate Predicate function to partition the array on\n *\n * @return A pair of two arrays, the first being the values for which the predicate returned true,\n *         and the latter the values for which it returned false\n */\nconst partition = <T>(xs: T[], predicate: (value: T) => boolean): [T[], T[]] =>\n  xs.reduce(\n    (acc, x) => {\n      acc[predicate(x) ? 0 : 1].push(x);\n\n      return acc;\n    },\n    [[], []] as [T[], T[]]\n  );\n\n/**\n * Create an array from a given range\n *\n * @param start First value of range (inclusive)\n * @param stop  Last value of range (exclusive)\n * @param step  Strictly positive step between consecutive range values\n *\n * @return Array range\n */\nconst range = (start = 1, stop: number, step = 1): number[] => {\n  if (stop <= start) {\n    throw new Error(\"Stop must be greater than start.\");\n  }\n\n  if (step <= 0) {\n    throw new Error(\"Step must be positive.\");\n  }\n\n  const nums: number[] = [];\n\n  for (let i = start; i < stop; i += step) {\n    nums.push(i);\n  }\n\n  return nums;\n};\n\n/**\n * Create a (randomly) shuffled array from a given range\n *\n * @param start First value of range (inclusive)\n * @param stop  Last value of range (exclusive)\n * @param step  Step between consecutive range values\n *\n * @return Shuffled array range\n */\nconst shuffledRange = (start = 1, stop: number, step = 1): number[] => {\n  if (stop <= start) {\n    throw new Error(\"Stop must be greater than start.\");\n  }\n\n  if (step <= 0) {\n    throw new Error(\"Step must be positive.\");\n  }\n\n  const nums: number[] = [];\n\n  for (let i = 0; i < (stop - start) / step; i++) {\n    const j = Math.floor(Math.random() * (i + 1));\n\n    if (j !== i) {\n      nums.push(nums[j]);\n    }\n\n    nums[j] = start + i * step;\n  }\n\n  return nums;\n};\n\nexport { partition, range, shuffledRange };\n","export default __webpack_public_path__ + \"static/media/block.76020d92.png\";","export default __webpack_public_path__ + \"static/media/tick.77996589.png\";","export default __webpack_public_path__ + \"static/media/investigation.7162d033.png\";","export default __webpack_public_path__ + \"static/media/medal.46f2243b.png\";","export default __webpack_public_path__ + \"static/media/trophy.c2d7389d.png\";","export default __webpack_public_path__ + \"static/media/5.36ae9f54.png\";","export default __webpack_public_path__ + \"static/media/summit.da279dec.png\";","export default __webpack_public_path__ + \"static/media/brainstorm.f8359c94.png\";","export default __webpack_public_path__ + \"static/media/flash.fae3cf9d.png\";","export default __webpack_public_path__ + \"static/media/timer.dda31662.png\";","export default __webpack_public_path__ + \"static/media/confetti.313aa6bd.png\";","import question from \"../../res/images/achievements/block.png\";\nimport firstCorrect from \"../../res/images/achievements/tick.png\";\nimport firstCorrectWithoutHint from \"../../res/images/achievements/investigation.png\";\nimport firstCasualWin from \"../../res/images/achievements/medal.png\";\nimport firstCompetitiveWin from \"../../res/images/achievements/trophy.png\";\nimport fiveCorrectAnswers from \"../../res/images/achievements/5.png\";\nimport competitivePoints from \"../../res/images/achievements/summit.png\";\nimport allCorrectCompetitive from \"../../res/images/achievements/brainstorm.png\";\nimport fastAnswer from \"../../res/images/achievements/flash.png\";\nimport slowAnswer from \"../../res/images/achievements/timer.png\";\nimport correctAnswers from \"../../res/images/achievements/confetti.png\";\n\n/* Placeholder for not yet unlocked achievements */\nconst lockedAchievement: AchievementItem = {\n  key: \"\",\n  title: \"Not found yet\",\n  description: \"Play more in order to unlock this achievement\",\n  image: question,\n};\n\nconst achievementItems: AchievementItem[] = [\n  {\n    key: \"firstCorrect\",\n    title: \"First Step\",\n    description: \"Congratulations! You have spotted your first lesion. How many more can you spot?\",\n    image: firstCorrect,\n  },\n  {\n    key: \"firstCorrectWithoutHint\",\n    title: \"Independent Spotter\",\n    description:\n      \"Getting better, eh? You have spotted your first lesion without the help of a hint.\",\n    image: firstCorrectWithoutHint,\n  },\n  {\n    key: \"firstCasualWin\",\n    title: \"Casually Winning\",\n    description: \"Congratulations! You have won your first casual game. How about a new challenge?\",\n    image: firstCasualWin,\n  },\n  {\n    key: \"firstCompetitiveWin\",\n    title: \"Competitive Winner\",\n    description:\n      \"Who said machines have outsmarted humans? You have beaten the AI in a race against time!\",\n    image: firstCompetitiveWin,\n  },\n  {\n    key: \"fiveCorrectSameRunCasual\",\n    title: \"Practice makes perfect\",\n    description:\n      \"You are getting the hang of it! You have spotted five lesions in the same casual run.\",\n    image: fiveCorrectAnswers,\n  },\n  {\n    key: \"fiveCorrectSameRunCompetitive\",\n    title: \"Master Spotter\",\n    description: \"An impressive run! You have spotted five lesions in the same competitive run\",\n    image: fiveCorrectAnswers,\n  },\n  {\n    key: \"competitivePointsRun\",\n    title: \"IT'S OVER 1000!!!\",\n    description: \"1000 points?! You really have an eye for spotting lesions!\",\n    image: competitivePoints,\n  },\n  {\n    key: \"allCorrectCompetitive\",\n    title: \"Perfectionist\",\n    description: \"You got them all right! Have you considered a career in medicine?\",\n    image: allCorrectCompetitive,\n  },\n  {\n    key: \"fastAnswer\",\n    title: \"The flash!\",\n    description: \"You spotted a lesion in less than 2 seconds! Are you even human?\",\n    image: fastAnswer,\n  },\n  {\n    key: \"slowAnswer\",\n    title: \"Nerves of steel\",\n    description:\n      \"You operate well under difficult circumstances. You spotted a lesion with less than 0.5 seconds remaining\",\n    image: slowAnswer,\n  },\n  {\n    key: \"twentyCorrectSameRunCasual\",\n    title: \"Going the distance\",\n    description: \"20 correct answers? You are spot-on!\",\n    image: correctAnswers,\n  },\n  {\n    key: \"fiftyCorrectSameRunCasual\",\n    title: \"Still going?!\",\n    description: \"50 correct answers? You really put the spot in spot-the-lesion!\",\n    image: correctAnswers,\n  },\n];\n\nexport { lockedAchievement, achievementItems };\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  Typography,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { LightTooltip, NavigationAppBar } from \"../../components\";\nimport { lockedAchievement, achievementItems } from \"./achievementItems\";\nimport constants from \"../../res/constants\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    container: {\n      flex: 1,\n      height: 0,\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n    },\n    infoText: {\n      padding: 16,\n      [theme.breakpoints.down(\"xs\")]: {\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.between(\"sm\", \"md\")]: {\n        fontSize: \"1.5rem\",\n      },\n      [theme.breakpoints.up(\"lg\")]: {\n        fontSize: \"2rem\",\n      },\n    },\n    gridContainer: {\n      overflow: \"auto\",\n    },\n    gridItem: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      padding: 16,\n    },\n    image: {\n      [theme.breakpoints.down(\"xs\")]: {\n        width: \"100%\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        width: 150,\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        width: 200,\n      },\n    },\n  })\n);\n\nconst Achievements: React.FC = () => {\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [selectedAchievement, setSelectedAchievement] = useState(lockedAchievement);\n\n  const classes = useStyles();\n\n  const onDialogClose = () => setDialogOpen(false);\n\n  const infoText = `Achievements unlocked: ${Math.max(localStorage.length - 1, 0)} out of \n                    ${constants.numberOfAchievements}. Click on an achievement to see details.`;\n\n  return (\n    <>\n      <NavigationAppBar showBack />\n\n      <div className={classes.container}>\n        <Typography className={classes.infoText}>{infoText}</Typography>\n\n        <Grid container className={classes.gridContainer}>\n          {achievementItems.map((item) => {\n            const { key } = item;\n\n            const unlocked = localStorage.getItem(key);\n\n            const displayItem = unlocked === \"true\" ? item : lockedAchievement;\n\n            const { title, image } = displayItem;\n\n            const onButtonClick = () => {\n              setSelectedAchievement(displayItem);\n              setDialogOpen(true);\n            };\n\n            return (\n              <Grid key={key} item xs={4} className={classes.gridItem}>\n                <LightTooltip title={title} arrow>\n                  <Button onClick={onButtonClick}>\n                    <img className={classes.image} src={image} alt={title} />\n                  </Button>\n                </LightTooltip>\n              </Grid>\n            );\n          })}\n        </Grid>\n      </div>\n\n      <Dialog open={dialogOpen} onClose={onDialogClose}>\n        <DialogTitle>{selectedAchievement.title}</DialogTitle>\n\n        <DialogContent dividers>\n          <Typography>{selectedAchievement.description} </Typography>\n        </DialogContent>\n\n        <DialogActions>\n          <Button color=\"primary\" onClick={onDialogClose}>\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default Achievements;\n","import React from \"react\";\nimport { Button } from \"@material-ui/core/\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport { NavigationAppBar } from \"../../components\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    container: {\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    buttonContainer: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n    },\n    button: {\n      margin: 8,\n      borderRadius: 20,\n      [theme.breakpoints.only(\"xs\")]: {\n        width: 250,\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        width: 300,\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        width: 320,\n        fontSize: \"1.25rem\",\n      },\n    },\n  })\n);\n\nconst Admin: React.FC = () => {\n  const history = useHistory();\n\n  const classes = useStyles();\n\n  const onGameSettingsClick = () => history.push(\"/admin/game-settings\");\n\n  const onFileUploadClick = () => history.push(\"/admin/file-upload\");\n\n  return (\n    <>\n      <NavigationAppBar showBack />\n\n      <div className={classes.container}>\n        <div className={classes.buttonContainer}>\n          <Button\n            className={classes.button}\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={onGameSettingsClick}\n          >\n            Game Settings Panel\n          </Button>\n\n          <Button\n            className={classes.button}\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={onFileUploadClick}\n          >\n            File Upload Panel\n          </Button>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Admin;\n","import { createContext } from \"react\";\n\nconst AdminAuthContext = createContext({\n  adminLoggedIn: false,\n  adminLogIn: () => {},\n});\n\nexport default AdminAuthContext;\n","import React, { useContext, useState } from \"react\";\nimport { Button, Card, IconButton, InputAdornment, TextField, Typography } from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport firebase from \"firebase/app\";\nimport AdminAuthContext from \"./AdminAuthContext\";\nimport { NavigationAppBar } from \"../../components\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    container: {\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    card: {\n      width: \"60%\",\n      height: \"60%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n      alignItems: \"center\",\n    },\n    text: {\n      marginBottom: 24,\n      textAlign: \"center\",\n      [theme.breakpoints.only(\"xs\")]: {\n        fontSize: \"1.25rem\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        fontSize: \"1.5rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        fontSize: \"2rem\",\n      },\n    },\n    formContainer: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n    },\n    button: {\n      width: \"100%\",\n      marginTop: 24,\n      borderRadius: 20,\n      [theme.breakpoints.only(\"xs\")]: {\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        fontSize: \"1.25rem\",\n      },\n    },\n  })\n);\n\nconst AdminLogin: React.FC = () => {\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false);\n  const [showError, setShowError] = useState(false);\n\n  const { adminLogIn } = useContext(AdminAuthContext);\n\n  const classes = useStyles();\n\n  const onPasswordChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setShowError(false);\n    setPassword(event.target.value);\n  };\n\n  const onPasswordKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (event.key === \"Enter\") {\n      onSubmitClick().then(() => {});\n    }\n  };\n\n  const onShowPasswordClick = () => setShowPassword((prevState) => !prevState);\n\n  const onShowPasswordMouseDown = (event: React.MouseEvent<HTMLButtonElement>) =>\n    event.preventDefault();\n\n  const onSubmitClick = () =>\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(\"spot-the-lesion@gmail.com\", password)\n      .then(() => adminLogIn())\n      .catch((_error) => setShowError(true));\n\n  return (\n    <>\n      <NavigationAppBar showBack />\n\n      <div className={classes.container}>\n        <Card className={classes.card}>\n          <Typography className={classes.text}>Admin Screen</Typography>\n\n          <div className={classes.formContainer}>\n            <TextField\n              autoFocus\n              variant=\"outlined\"\n              label=\"Password\"\n              required\n              type={showPassword ? \"text\" : \"password\"}\n              error={showError}\n              helperText={showError ? \"Incorrect password\" : \"\"}\n              value={password}\n              onChange={onPasswordChange}\n              InputProps={{\n                onKeyDown: onPasswordKeyDown,\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      aria-label=\"toggle password visibility\"\n                      onClick={onShowPasswordClick}\n                      onMouseDown={onShowPasswordMouseDown}\n                    >\n                      {showPassword ? <Visibility /> : <VisibilityOff />}\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={onSubmitClick}\n            >\n              Log In\n            </Button>\n          </div>\n        </Card>\n      </div>\n    </>\n  );\n};\n\nexport default AdminLogin;\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  ButtonGroup,\n  Card,\n  TextField,\n  Theme,\n  Typography,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { useSnackbar } from \"notistack\";\nimport firebase from \"firebase/app\";\nimport { handleFirestoreError, isFirestoreError } from \"../../utils/firebaseUtils\";\nimport { NavigationAppBar } from \"../../components\";\nimport constants from \"../../res/constants\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    container: {\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    card: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      boxSizing: \"border-box\",\n      padding: 24,\n      [theme.breakpoints.down(\"xs\")]: {\n        width: \"80%\",\n        height: \"95%\",\n      },\n      [theme.breakpoints.up(\"sm\")]: {\n        width: \"60%\",\n        height: \"80%\",\n      },\n    },\n    text: {\n      padding: 8,\n      textAlign: \"center\",\n      [theme.breakpoints.only(\"xs\")]: {\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        fontSize: \"1.5rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        fontSize: \"2rem\",\n      },\n    },\n    settingsList: {\n      flex: 1,\n      overflow: \"auto\",\n    },\n    settingItem: {\n      margin: 16,\n    },\n    buttonGroup: {\n      alignItems: \"center\",\n      [theme.breakpoints.down(\"xs\")]: {\n        width: \"70%\",\n      },\n      [theme.breakpoints.up(\"sm\")]: {\n        width: \"100%\",\n      },\n    },\n    button: {\n      margin: 8,\n      borderRadius: 20,\n      [theme.breakpoints.only(\"xs\")]: {\n        width: \"80%\",\n        fontSize: \"0.6rem\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        width: \"80%\",\n        fontSize: \"0.6rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        width: \"100%\",\n        fontSize: \"1rem\",\n      },\n    },\n  })\n);\n\n/**\n * Given a setting name, returns its minimum valid value\n *\n * @param name Setting name\n *\n * @return Minimum valid value\n */\nconst getMinValue = (name: string): number => {\n  switch (name) {\n    case \"Number of Rounds\":\n      return 1;\n    default:\n      return 0;\n  }\n};\n\nconst GameSettings: React.FC = () => {\n  const [loadData, setLoadData] = useState(true);\n  const [currentData, setCurrentData] = useState<FirestoreOptionsData>(null!);\n\n  const smallScreen = useMediaQuery((theme: Theme) => theme.breakpoints.down(\"xs\"));\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const classes = useStyles();\n\n  // To add an option to the list:\n  //  a) Create Firebase number field: in default_options and current_options\n  //  b) Add the name of that field in firebaseTypes.d.ts in SettingsData\n  //  b) Create a hook (const [<name1>, set<name1>] = useState(0);)\n  //  c) Add a line in settingsList with the name of the option and the two values from the hook\n  // WARNING! Make sure that SettingsData and settingsList are sorted lexicographically by the field name.\n  // WARNING! Only number values are supported. To change this to string, replace all occurrences of \"number\" with \"string\".\n\n  const [animationDuration, setAnimationDuration] = useState(0);\n  const [hintTime, setHintTime] = useState(0);\n  const [hintRadius, setHintRadius] = useState(0);\n  const [hintLineWidth, setHintLineWidth] = useState(0);\n  const [roundDuration, setRoundDuration] = useState(0);\n  const [roundsNumber, setRoundsNumber] = useState(0);\n  const [aiScoreMultiplier, setAiScoreMultiplier] = useState(0);\n\n  const settingsList: GameSetting[] = [\n    { name: \"AI Score Multiplier\", value: aiScoreMultiplier, setter: setAiScoreMultiplier },\n    { name: \"Animation Duration\", value: animationDuration, setter: setAnimationDuration },\n    { name: \"Hint Line Width\", value: hintLineWidth, setter: setHintLineWidth },\n    { name: \"Hint Radius\", value: hintRadius, setter: setHintRadius },\n    { name: \"Hint Time\", value: hintTime, setter: setHintTime },\n    { name: \"Round duration\", value: roundDuration, setter: setRoundDuration },\n    { name: \"Number of Rounds\", value: roundsNumber, setter: setRoundsNumber },\n  ];\n\n  /**\n   * Function for retrieving the current game options from Firebase\n   */\n  const getData = async () => {\n    setLoadData(false);\n\n    try {\n      const settingsSnapshot = await firebase\n        .firestore()\n        .collection(\"game_options\")\n        .doc(\"current_options\")\n        .get();\n\n      if (!settingsSnapshot.exists) {\n        return;\n      }\n\n      const settingsData = settingsSnapshot.data() as FirestoreOptionsData;\n\n      setCurrentData(settingsData);\n\n      const keys = Object.keys(settingsData);\n\n      keys.sort();\n\n      let i = 0;\n      for (const key in keys) {\n        if (Object.prototype.hasOwnProperty.call(keys, key)) {\n          settingsList[i].setter(settingsData[keys[key]]);\n          i += 1;\n        }\n      }\n    } catch (error) {\n      if (isFirestoreError(error)) {\n        handleFirestoreError(error);\n      }\n    }\n  };\n\n  if (loadData) {\n    getData().then(() => {});\n  }\n\n  const onUpdateClick = async () => {\n    const values = settingsList.map((setting) => setting.value);\n\n    const newData: FirestoreOptionsData = currentData;\n\n    const keys = Object.keys(currentData);\n\n    keys.sort();\n\n    let i = 0;\n    for (const key in keys) {\n      if (Object.prototype.hasOwnProperty.call(keys, key)) {\n        newData[keys[key]] = values[i];\n        i += 1;\n      }\n    }\n\n    try {\n      await firebase.firestore().collection(\"game_options\").doc(\"current_options\").set(newData);\n\n      enqueueSnackbar(\n        \"The game options were updated successfully!\",\n        constants.successSnackbarOptions\n      );\n    } catch (error) {\n      if (isFirestoreError(error)) {\n        handleFirestoreError(error, enqueueSnackbar);\n      }\n    }\n  };\n\n  const onResetDefault = async () => {\n    try {\n      const defaultSettingsSnapshot = await firebase\n        .firestore()\n        .collection(\"game_options\")\n        .doc(\"default_options\")\n        .get();\n\n      const defaultSettingsData = defaultSettingsSnapshot.data() as FirestoreOptionsData;\n\n      await firebase\n        .firestore()\n        .collection(\"game_options\")\n        .doc(\"current_options\")\n        .set(defaultSettingsData);\n\n      enqueueSnackbar(\"The game options were reset to default!\", constants.successSnackbarOptions);\n\n      setLoadData(true);\n    } catch (error) {\n      if (isFirestoreError(error)) {\n        handleFirestoreError(error, enqueueSnackbar);\n      }\n    }\n  };\n\n  return (\n    <>\n      <NavigationAppBar showBack />\n\n      <div className={classes.container}>\n        <Card className={classes.card}>\n          <Typography className={classes.text}>Game Settings</Typography>\n\n          <div className={classes.settingsList}>\n            {settingsList.map(({ name, value, setter }) => {\n              const onSettingChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n                const newValue = Number(event.target.value);\n                const changeValue = Math.max(newValue, getMinValue(name));\n\n                setter(changeValue);\n              };\n\n              return (\n                <div key={name} className={classes.settingItem}>\n                  <TextField\n                    variant=\"outlined\"\n                    label={name}\n                    type=\"number\"\n                    value={value}\n                    onChange={onSettingChange}\n                  />\n                </div>\n              );\n            })}\n          </div>\n\n          <ButtonGroup\n            orientation={smallScreen ? \"vertical\" : \"horizontal\"}\n            className={classes.buttonGroup}\n          >\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={onUpdateClick}\n            >\n              Update\n            </Button>\n\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={onResetDefault}\n            >\n              Reset Default\n            </Button>\n          </ButtonGroup>\n        </Card>\n      </div>\n    </>\n  );\n};\n\nexport default GameSettings;\n","/**\n * Given two Files, compares their names\n *\n * @param a First file to compare\n * @param b Second file to compare\n *\n * @return Negative value if a < b, zero if equal, and positive value otherwise\n */\nconst compareFiles = (a: File, b: File): number => a.name.localeCompare(b.name);\n\n/**\n * Get the names of the files in an array of Files\n *\n * @param files Array of Files to retrieve the names from\n *\n * @return String of file names, separated by ';'\n */\nconst getFileNames = (files: File[]): string => files.map((file) => file.name).join(\"; \");\n\n/**\n * Given a file name, returns the string without the extension\n *\n * @param fileName File name to remove the extension from\n *\n * @return File name without extension\n */\nconst removeExtension = (fileName: string): string => fileName.replace(/(.*)\\.[^.]+$/, \"$1\");\n\nexport { compareFiles, getFileNames, removeExtension };\n","import React, { useState } from \"react\";\nimport { Button, Card, TextField, Typography } from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { CloudUpload } from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport clsx from \"clsx\";\nimport { useSnackbar } from \"notistack\";\nimport { NavigationAppBar } from \"../../components\";\nimport { handleAxiosError } from \"../../utils/axiosUtils\";\nimport { compareFiles, getFileNames, removeExtension } from \"../../utils/fileUtils\";\nimport colors from \"../../res/colors\";\nimport constants from \"../../res/constants\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    container: {\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    card: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      boxSizing: \"border-box\",\n      padding: 24,\n      [theme.breakpoints.down(\"xs\")]: {\n        width: \"80%\",\n        height: \"95%\",\n      },\n      [theme.breakpoints.up(\"sm\")]: {\n        width: \"60%\",\n        height: \"80%\",\n      },\n    },\n    text: {\n      padding: 8,\n      [theme.breakpoints.only(\"xs\")]: {\n        fontSize: \"1.25rem\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        fontSize: \"1.5rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        fontSize: \"2rem\",\n      },\n    },\n    uploadList: {\n      width: \"100%\",\n      margin: 24,\n    },\n    uploadItem: {\n      display: \"flex\",\n      justifyContent: \"space-evenly\",\n      alignItems: \"center\",\n      [theme.breakpoints.down(\"xs\")]: {\n        flexDirection: \"column\",\n      },\n      [theme.breakpoints.up(\"sm\")]: {\n        flexDirection: \"row\",\n      },\n    },\n    uploadButton: {\n      margin: 16,\n    },\n    uploadTextField: {\n      margin: 16,\n    },\n    successText: {\n      color: colors.fileUploadSuccess,\n    },\n    errorText: {\n      color: colors.fileUploadError,\n    },\n    submitButton: {\n      borderRadius: 20,\n      [theme.breakpoints.only(\"xs\")]: {\n        width: \"70%\",\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        width: \"75%\",\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        width: \"40%\",\n        fontSize: \"1.25rem\",\n      },\n    },\n  })\n);\n\nconst axiosConfig = { headers: { \"content-type\": \"multipart/form-data\" } };\n\nconst wrongPasswordResponse = \"Upload has not been completed, the server password was not correct!\";\n\nconst FileUpload: React.FC = () => {\n  const [selectedImages, setSelectedImages] = useState<File[]>([]);\n  const [selectedJsons, setSelectedJsons] = useState<File[]>([]);\n\n  const [imageHelperText, setImageHelperText] = useState(\"\");\n  const [jsonHelperText, setJsonHelperText] = useState(\"\");\n\n  const [uploadSuccessful, setUploadSuccessful] = useState(false);\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const classes = useStyles();\n\n  const resetState = () => {\n    setImageHelperText(\"\");\n    setJsonHelperText(\"\");\n    setUploadSuccessful(false);\n  };\n\n  const onUploadImageInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files === null) {\n      return;\n    }\n\n    const files = [...event.target.files].sort(compareFiles);\n\n    setSelectedImages(files);\n    resetState();\n  };\n\n  const onUploadJsonInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files === null) {\n      return;\n    }\n\n    const files = [...event.target.files].sort(compareFiles);\n\n    setSelectedJsons(files);\n    resetState();\n  };\n\n  /**\n   * Check the selected files, setting the helper texts if invalid\n   *\n   * @param images Selected image files\n   * @param jsons  Selected json files\n   *\n   * @return True if valid, false otherwise\n   */\n  const checkSelectedFiles = (images: File[], jsons: File[]) => {\n    if (images.length === 0 || jsons.length === 0) {\n      if (images.length === 0) {\n        setImageHelperText(\"Please select a file.\");\n      }\n\n      if (jsons.length === 0) {\n        setJsonHelperText(\"Please select a file.\");\n      }\n\n      return false;\n    }\n\n    if (images.length !== jsons.length) {\n      if (images.length < jsons.length) {\n        setImageHelperText(\"Too few images for the selected jsons.\");\n      }\n\n      if (jsons.length < images.length) {\n        setJsonHelperText(\"Too few jsons for the selected images.\");\n      }\n\n      return false;\n    }\n\n    for (let i = 0; i < images.length; i++) {\n      const imageName = removeExtension(images[i].name);\n      const jsonName = removeExtension(jsons[i].name);\n\n      if (imageName !== jsonName) {\n        setImageHelperText(\"Images and jsons names don't match.\");\n        setJsonHelperText(\"Images and jsons names don't match.\");\n\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  /**\n   * Function for sending POST Request to the server,\n   * after at least 1 image and at least 1 JSONs were selected\n   */\n  const onSubmitClick = () => {\n    if (!checkSelectedFiles(selectedImages, selectedJsons)) {\n      return;\n    }\n\n    enqueueSnackbar(\"Uploading files to the server...\", constants.uploadFilesSnackbarOptions);\n\n    for (let i = 0; i < selectedImages.length; i++) {\n      /* Send one POST Request per each image and json pair to the server */\n      const serverKey = process.env.REACT_APP_SERVER_KEY || \"N/A\";\n\n      const formData = new FormData();\n      formData.append(\"pass\", serverKey);\n      formData.append(\"scan\", selectedImages[i]);\n      formData.append(\"json\", selectedJsons[i]);\n\n      axios\n        .post(\"https://spot-the-lesion.herokuapp.com/post/\", formData, axiosConfig)\n        .then((response) => {\n          const successful = response.status === 200 && response.data !== wrongPasswordResponse;\n\n          if (successful) {\n            setImageHelperText(\"Upload successful!\");\n            setJsonHelperText(\"Upload successful!\");\n\n            setUploadSuccessful(true);\n          } else {\n            setImageHelperText(response.data);\n            setJsonHelperText(response.data);\n          }\n\n          /* Enqueue snackbar with the Server Response */\n          const responseSnackbarOptions = successful\n            ? constants.successSnackbarOptions\n            : constants.errorSnackbarOptions;\n\n          enqueueSnackbar(response.data, responseSnackbarOptions);\n        })\n        .catch((error) => {\n          if (axios.isAxiosError(error)) {\n            handleAxiosError(error);\n\n            if (error.response) {\n              setImageHelperText(error.response.data);\n              setJsonHelperText(error.response.data);\n\n              /* Enqueue snackbar with the Server Error */\n              enqueueSnackbar(error.response.data, constants.errorSnackbarOptions);\n            }\n          }\n        });\n    }\n  };\n\n  return (\n    <>\n      <NavigationAppBar showBack />\n\n      <div className={classes.container}>\n        <Card className={classes.card}>\n          <Typography className={classes.text}>Image upload panel</Typography>\n\n          <div className={classes.uploadList}>\n            <div className={classes.uploadItem}>\n              <input\n                id=\"upload-image-input\"\n                accept=\"image/*\"\n                type=\"file\"\n                multiple\n                hidden\n                onChange={onUploadImageInputChange}\n              />\n\n              <label htmlFor=\"upload-image-input\" className={classes.uploadButton}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  size=\"large\"\n                  startIcon={<CloudUpload />}\n                  component=\"span\"\n                >\n                  Upload Image\n                </Button>\n              </label>\n\n              <TextField\n                className={classes.uploadTextField}\n                placeholder=\"No file selected\"\n                value={getFileNames(selectedImages)}\n                helperText={imageHelperText}\n                FormHelperTextProps={{\n                  className: clsx({\n                    [classes.successText]: uploadSuccessful,\n                    [classes.errorText]: !uploadSuccessful,\n                  }),\n                }}\n                InputProps={{ readOnly: true }}\n              />\n            </div>\n\n            <div className={classes.uploadItem}>\n              <input\n                id=\"upload-json-input\"\n                accept=\".json\"\n                type=\"file\"\n                multiple\n                hidden\n                onChange={onUploadJsonInputChange}\n              />\n\n              <label htmlFor=\"upload-json-input\" className={classes.uploadButton}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  size=\"large\"\n                  startIcon={<CloudUpload />}\n                  component=\"span\"\n                >\n                  Upload JSON\n                </Button>\n              </label>\n\n              <TextField\n                className={classes.uploadTextField}\n                placeholder=\"No file selected\"\n                value={getFileNames(selectedJsons)}\n                helperText={jsonHelperText}\n                FormHelperTextProps={{\n                  className: clsx({\n                    [classes.successText]: uploadSuccessful,\n                    [classes.errorText]: !uploadSuccessful,\n                  }),\n                }}\n                InputProps={{ readOnly: true }}\n              />\n            </div>\n          </div>\n\n          <Button\n            className={classes.submitButton}\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={onSubmitClick}\n          >\n            Submit\n          </Button>\n        </Card>\n      </div>\n    </>\n  );\n};\n\nexport default FileUpload;\n","const pkgRegex = /(.+)@(.+)$/;\n\n/**\n * Given an NPM Package, get the name and version\n *\n * @param pkg NPM Package string\n *\n * @return Name and version of the given package\n */\nconst getPackageNameAndVersion = (pkg: string): [string, string] => {\n  const name = pkg.replace(pkgRegex, \"$1\");\n  const version = pkg.replace(pkgRegex, \"$2\");\n\n  return [name, version];\n};\n\n/**\n * Processes a libraries json, returning an array of Library objects\n *\n * @param libraries Libraries json to process\n *\n * @return Array of Library objects\n */\nconst getLibrariesArray = (libraries: Record<string, LicenseInfo>): Library[] => {\n  return Object.keys(libraries).map((key) => {\n    const [name, version] = getPackageNameAndVersion(key);\n\n    return {\n      name,\n      version,\n      licenseInfo: libraries[key],\n    };\n  });\n};\n\nexport { getPackageNameAndVersion, getLibrariesArray };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZ8AAABtCAMAAABJEZwAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURf///wAAAJycnJSUjKWlpe/374yMjAgICO/m79bOzkJKUq2lrXNzc2NSWtbe3ubm3r3FxRBK5hBKWhBKtUJKhEIZ5pQZ5kIZtZQZtRAZjGuUa5QZWsXvvUIZWmsZ5msZtWsZWozmzozOnIy1zr1SEL0ZEL2MEDo6OkLOY1Lv5hnv5iEhKdaUpYxzaxDvY70ppb0IpbW1tZRK5pRKhEJK5hBKjEJKtZRKtYxKWr3vEGtK5mtKhGtKtb29EBkQECk6MbW9tZSca0IZjJQZjGsZjO9SEO8ZEO+MEJQZEGsZEIzm74zvnIy1771SMb0ZMb2MMb1Sc70p5r2U771atb0Zc72Mc71SUr0I5r2Uzr1alL0ZUr2MUnuE5nuEtb1K5kLvY+8ppe8IpebF773F5kIQEL3vQr3vlO/vEL3va5RKEO+9EBClEGtKEBB7EBDOEPeUpb29Mb29c729UhAI5hAItRAIWu9Sc+9SMe8p5lKlte8ZMe+U7+9ate8Zc++MMRmltZQZMe+Mc0JKEGsZMVJ7tRl7tVLOtRnOtbWMpe9SUu8I5lKllO+Uzu9alO8ZUhmllO+MUiFKEFJ7lBl7lFLOlBnOlO9K5kKl5tbFpQil5kJ75gh75kLO5gjO5s7FxZyE5pyEtb1r5u/vlO/vQu/va0KlEJR7OpTvEGt7OmvvEEJ7EJR7EJTFEGt7EGvFEELOEJRKMe+9c++9MUIQMRClMRClc2tKMRB7MRB7cxDOMRDOc+/vvQhCEBDvEO+9UhClUhB7UhDOUiEhGWtrY1LvtRnvtVLvlBnvlBAp5hAptRApWoStnO9r5mOl5vfFpSml5mN75il75mPO5inO5pTvc0Klc0KlMZScOpTvMWucOmvvMWvvc0J7MZScEJTFMWucEGvFMZTFc0J7c2vFc0LOMbXFnL3v5kLvEJTvUkKlUmvvUpTFUkJ7UmvFUghCMRDvMULvMQgQKUJSMc7v/3t7lJx7lLWllAgAIXuUlIxzlKWtlP/m/5ycjAgAAJSUnAAAACnoqD0AAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAABcRAAAXEQHKJvM/AAAZt0lEQVR4Xu1dy5biyK5NzCMDDIZx/wAD1hn0D1D+Un9MMrz/cefd6w7yUNled2+FJEcYGzh9KutBs7MetiMcD0lbUoRN8vIzY1ksqqDHVzFRlHr+CVhpFyeerPWkkKJPRai2lfzV858H1Z4iOCz19AqCCAu4Tz9NXZdFsSgWZd3opdv4U7tY8+SkJ99BP/v9/oC/b59oen8TarFvd8gw1pxMaj0fRyjWm4PWBo6rxe17BGIsgOjH+LOQok+F9vQ9TOE/Q6kDm2z0wjjmWvM2f04m5g7H1V0kMv+W8eefrJ+NDuweD6c1b+mnPWq9HH+ttPwaBvnzHYSmPf3E+jne1M998Wd5yR3FUWtcw5M/Pbh+vmz1yji05tX4U2idAZy1yjVk+cEz/ry81DqwKJGruCP+hN+0SsR+tV6fVpoo7O/JXTP/9gP4M9XznwfqUf64I8GKNa/p599aQ1CUS1FJUxZU0c2sgsj825M/QCUu5XhHduXxZ1SVZ60AHMvUX4Z6f092MMKff3J+8PLydXfaLOZ6chU6h1EmNFoOrG5Hs0EYf7L9g9uu97+G9vQz6udu3MrftloMiHj/Dn40f76DK/086BzG9OOp4B1r3TH8jPEnLOvdtpfcNPX1TavQ7OpKj4dQ4f5r5ahwPZ1a1vWuyat4/jYcf6pXLb5PPaHBCC/GcFf+Fqq62Y0PH6VXpw6whWwW2lPUz2xzWm9OpxO7aNb7L4fj8XBYlRYDqsXqcDjg0n7hgwinzfqEewpeCX7PdGiUzQnFf6D8y6pMyt83aACt8LjF/W8rmUWLoaxPp64r5Nyn/eHwFltIDUrnMLKQ+U92ItabQ5zBl01uhrf5g8Hx1uNhfxricbFi6dthJRMqTpgbflIxhXqD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\"","export default __webpack_public_path__ + \"static/media/mira.e21c963d.png\";","import React, { useState } from \"react\";\nimport {\n  AppBar,\n  Card,\n  List,\n  ListItem,\n  ListItemText,\n  Tab,\n  Tabs,\n  Theme,\n  Typography,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { getLibrariesArray } from \"../../utils/creditsUtils\";\nimport { NavigationAppBar, TabPanel } from \"../../components\";\nimport libraries from \"./libraries.json\";\nimport imperial from \"../../res/images/credits/imperial.png\";\nimport mira from \"../../res/images/credits/mira.png\";\nimport colors from \"../../res/colors\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    appBar: {\n      backgroundColor: colors.primaryTabBar,\n    },\n    tabIndicator: {\n      backgroundColor: colors.tabIndicator,\n    },\n    tab: {\n      fontSize: \"1rem\",\n    },\n    container: {\n      flex: 1,\n      height: 0,\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    imageContainer: {\n      height: 0,\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      justifyItems: \"center\",\n      alignItems: \"center\",\n      marginLeft: \"10%\",\n    },\n    card: {\n      height: \"80%\",\n      width: \"80%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n      padding: 8,\n    },\n    text: {\n      textAlign: \"center\",\n      [theme.breakpoints.only(\"xs\")]: {\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        fontSize: \"1.25rem\",\n      },\n      [theme.breakpoints.only(\"md\")]: {\n        fontSize: \"1.5rem\",\n      },\n      [theme.breakpoints.up(\"lg\")]: {\n        fontSize: \"2rem\",\n      },\n    },\n    list: {\n      flex: 1,\n      height: 0,\n      overflow: \"auto\",\n    },\n    image: {\n      [theme.breakpoints.down(\"xs\")]: {\n        width: \"90%\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        width: \"70%\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        width: \"70%\",\n      },\n    },\n  })\n);\n\nconst Credits: React.FC = () => {\n  const [tabIndex, setTabIndex] = useState(0);\n\n  const smallScreen = useMediaQuery((theme: Theme) => theme.breakpoints.down(\"xs\"));\n\n  const classes = useStyles();\n\n  const onTabChange = (_event, newValue: number) => setTabIndex(newValue);\n\n  return (\n    <>\n      <NavigationAppBar showBack />\n\n      <AppBar className={classes.appBar} position=\"sticky\">\n        <Tabs\n          classes={{ indicator: classes.tabIndicator }}\n          variant={smallScreen ? \"fullWidth\" : \"standard\"}\n          centered\n          aria-label=\"Credits pages\"\n          value={tabIndex}\n          onChange={onTabChange}\n        >\n          <Tab className={classes.tab} label=\"About The Game\" />\n\n          <Tab className={classes.tab} label=\"Libraries & Images\" />\n        </Tabs>\n      </AppBar>\n\n      <div className={classes.container}>\n        <TabPanel value={tabIndex} index={0}>\n          <Card className={classes.card}>\n            <Typography className={classes.text}>\n              The AI for this game is based on the{\" \"}\n              <a href=\"https://arxiv.org/abs/1906.02283\" target=\"blank\">\n                MICCAI 2019 paper\n              </a>\n            </Typography>\n\n            <Typography className={classes.text}>\n              CT Scan AI developed by Martin Zlocha, Qi Dou and Ben Glocker.\n            </Typography>\n\n            <Typography className={classes.text}>\n              This site was made with React for the 3rd year Software Engineering Group Project by:\n              Andrei-Matei Roman, Andrei-Ovidiu Badea, Calin-Andrei Alexandru, Calin Biberea,\n              Cosmin-Ionut Baies, Tiberiu-Andrei Georgescu\n            </Typography>\n\n            <Typography className={classes.text}>\n              (c) 2019 Data obtained from the{\" \"}\n              <a\n                href=\"https://www.nih.gov/news-events/news-releases/nih-clinical-center-releases-dataset-32000-ct-images\"\n                target=\"blank\"\n              >\n                NIH Clinical Center\n              </a>\n            </Typography>\n            <div className={classes.imageContainer}>\n              <a href=\"http://www.imperial.ac.uk/\" target=\"blank\">\n                <img className={classes.image} src={imperial} alt={imperial} />\n              </a>\n\n              <a href=\"https://sites.google.com/view/project-mira/\" target=\"blank\">\n                <img className={classes.image} src={mira} alt={mira} />\n              </a>\n            </div>\n          </Card>\n        </TabPanel>\n\n        <TabPanel value={tabIndex} index={1}>\n          <Card className={classes.card}>\n            <Typography className={classes.text}>\n              Here is a list of libraries and images used, kudos to the creators for enabling us to\n              work effectively.\n            </Typography>\n\n            <Typography className={classes.text}>\n              You can find a link to the authors and the licenses for the images by clicking here:{\" \"}\n              <a href=\"image_licenses.pdf\" download>\n                image_licenses.pdf\n              </a>\n            </Typography>\n            <Typography className={classes.text}>\n              Here are the libraries that this game uses:\n            </Typography>\n            <List className={classes.list}>\n              {getLibrariesArray(libraries).map(({ name, version }) => (\n                <ListItem key={name}>\n                  <ListItemText primary={name} secondary={version} />\n                </ListItem>\n              ))}\n            </List>\n          </Card>\n        </TabPanel>\n      </div>\n    </>\n  );\n};\n\nexport default Credits;\n","import React, { useState } from \"react\";\nimport { Button, Typography } from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport { NavigationAppBar, ToggleButton, ToggleButtonGroup } from \"../../components\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    container: {\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n      alignItems: \"center\",\n    },\n    selectorsContainer: {\n      width: \"100%\",\n      display: \"flex\",\n      justifyContent: \"space-evenly\",\n      [theme.breakpoints.down(\"sm\")]: {\n        flex: 0.8,\n        flexDirection: \"column\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        flexDirection: \"row\",\n      },\n    },\n    selectorContainer: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    selectText: {\n      fontSize: \"3rem\",\n      fontWeight: \"bold\",\n      [theme.breakpoints.only(\"xs\")]: {\n        fontSize: \"150%\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        fontSize: \"1.5rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        fontSize: \"3rem\",\n      },\n    },\n    toggleButton: {\n      margin: 8,\n      borderRadius: 20,\n      [theme.breakpoints.only(\"xs\")]: {\n        width: 300,\n        height: 50,\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        width: 350,\n        height: 58,\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        width: 370,\n        height: 61,\n        fontSize: \"1.25rem\",\n      },\n    },\n    startButton: {\n      borderRadius: 20,\n      [theme.breakpoints.only(\"xs\")]: {\n        width: 300,\n        height: 50,\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        width: 350,\n        height: 58,\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        width: 370,\n        height: 61,\n        fontSize: \"1.25rem\",\n      },\n    },\n  })\n);\n\nconst GameMenu: React.FC = () => {\n  const [gameModes, setGameModes] = useState<GameMode[]>([]);\n  const [difficulties, setDifficulties] = useState<Difficulty[]>([]);\n\n  const history = useHistory();\n\n  const classes = useStyles();\n\n  const onToggleGameMode = (\n    _event: React.MouseEvent<HTMLButtonElement>,\n    newGameModes: GameMode[]\n  ) => setGameModes(newGameModes);\n\n  const onToggleDifficulty = (\n    _event: React.MouseEvent<HTMLButtonElement>,\n    newDifficulties: Difficulty[]\n  ) => setDifficulties(newDifficulties);\n\n  const onStartClick = () =>\n    history.push(`/game?gameMode=${gameModes[0]}&difficulty=${difficulties[0]}`);\n\n  return (\n    <>\n      <NavigationAppBar showBack />\n\n      <div className={classes.container}>\n        <div className={classes.selectorsContainer}>\n          <div className={classes.selectorContainer}>\n            <Typography className={classes.selectText}>Game mode</Typography>\n\n            <ToggleButtonGroup\n              orientation=\"vertical\"\n              exclusive\n              value={gameModes}\n              onToggle={onToggleGameMode}\n            >\n              <ToggleButton\n                className={classes.toggleButton}\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"large\"\n                value=\"casual\"\n              >\n                Casual\n              </ToggleButton>\n\n              <ToggleButton\n                className={classes.toggleButton}\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"large\"\n                value=\"competitive\"\n              >\n                Competitive\n              </ToggleButton>\n            </ToggleButtonGroup>\n          </div>\n\n          <div className={classes.selectorContainer}>\n            <Typography className={classes.selectText}>Difficulty</Typography>\n\n            <ToggleButtonGroup\n              orientation=\"vertical\"\n              exclusive\n              value={difficulties}\n              onToggle={onToggleDifficulty}\n            >\n              <ToggleButton\n                className={classes.toggleButton}\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"large\"\n                value=\"easy\"\n              >\n                Easy\n              </ToggleButton>\n\n              <ToggleButton\n                className={classes.toggleButton}\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"large\"\n                value=\"medium\"\n              >\n                Medium\n              </ToggleButton>\n\n              <ToggleButton\n                className={classes.toggleButton}\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"large\"\n                value=\"hard\"\n              >\n                Hard\n              </ToggleButton>\n            </ToggleButtonGroup>\n          </div>\n        </div>\n\n        <Button\n          className={classes.startButton}\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"large\"\n          disabled={gameModes.length === 0 || difficulties.length === 0}\n          onClick={onStartClick}\n        >\n          Start\n        </Button>\n      </div>\n    </>\n  );\n};\n\nexport default GameMenu;\n","import constants from \"../res/constants\";\n\n/**\n * Draws a cross\n *\n * @param ctx         Context to draw the cross on\n * @param x           Width coordinate\n * @param y           Height coordinate\n * @param size        Cross size from center to edge\n * @param lineWidth   Width of the cross lines\n * @param strokeStyle Style for drawing the cross\n */\nconst drawCross = (\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  size: number,\n  lineWidth: number,\n  strokeStyle: string\n): void => {\n  ctx.lineWidth = lineWidth;\n  ctx.strokeStyle = strokeStyle;\n  ctx.beginPath();\n  ctx.moveTo(x - size, y - size);\n  ctx.lineTo(x + size, y + size);\n  ctx.moveTo(x + size, y - size);\n  ctx.lineTo(x - size, y + size);\n  ctx.stroke();\n};\n\n/**\n * Draws a circle\n *\n * @param ctx         Context to draw the circle on\n * @param x           Width coordinate\n * @param y           Height coordinate\n * @param radius      Circle radius\n * @param lineWidth   Width of the circle line\n * @param strokeStyle Style for drawing the circle\n */\nconst drawCircle = (\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number,\n  radius: number,\n  lineWidth: number,\n  strokeStyle: string\n): void => {\n  ctx.lineWidth = lineWidth;\n  ctx.strokeStyle = strokeStyle;\n\n  ctx.beginPath();\n  ctx.arc(x, y, radius, 0, 2 * Math.PI);\n  ctx.stroke();\n};\n\n/**\n * Draws a rectangle\n *\n * @param ctx         Context to draw the rectangle on\n * @param rect        Coordinates for the corners of the rectangle to draw\n * @param lineWidth   Width of the rectangle lines\n * @param strokeStyle Style for drawing the rectangle\n */\nconst drawRectangle = (\n  ctx: CanvasRenderingContext2D,\n  rect: number[],\n  lineWidth: number,\n  strokeStyle: string\n): void => {\n  if (rect.length !== 4) {\n    throw new Error(\"Rectangle must be an array of length 4.\");\n  }\n\n  const xBase = rect[0];\n  const xEnd = rect[2];\n  const yBase = rect[1];\n  const yEnd = rect[3];\n\n  const width = xEnd - xBase;\n  const height = yEnd - yBase;\n\n  ctx.lineWidth = lineWidth;\n  ctx.strokeStyle = strokeStyle;\n\n  ctx.beginPath();\n  ctx.rect(xBase, yBase, width, height);\n  ctx.stroke();\n};\n\n/**\n * Draws a stroked text\n *\n * @param ctx         Context to draw the text on\n * @param text        Text to draw\n * @param x           Width coordinate\n * @param y           Height coordinate\n * @param align       Text alignment\n * @param size        Text font size (in px)\n * @param strokeWidth Text stroke width\n * @param strokeStyle Text stroke style\n * @param fillStyle   Text fill style\n */\nconst drawStrokedText = (\n  ctx: CanvasRenderingContext2D,\n  text: string,\n  x: number,\n  y: number,\n  align: CanvasTextAlign,\n  size: number,\n  strokeWidth: number,\n  strokeStyle: string,\n  fillStyle: string\n): void => {\n  ctx.font = `${size}px Roboto`;\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 2;\n\n  ctx.textAlign = align;\n  ctx.lineWidth = strokeWidth;\n  ctx.strokeStyle = strokeStyle;\n  ctx.fillStyle = fillStyle;\n\n  ctx.strokeText(text, x, y);\n  ctx.fillText(text, x, y);\n};\n\n/**\n * Maps a given value from the scale of the given canvas to the default scale\n * Equivalent to the inverse of toCanvasScale\n *\n * @param ctx Canvas context, used to determine canvas scale\n * @param x   Value to map\n *\n * @return Given value, mapped to the default scale, and rounded\n */\nconst toDefaultScale = (ctx: CanvasRenderingContext2D, x: number): number =>\n  Math.round((x * constants.defaultImageSize) / ctx.canvas.width);\n\n/**\n * Maps a given value from the default scale to the scale of the given canvas\n * Equivalent to the inverse of toDefaultScale\n *\n * @param ctx Canvas context, used to determine canvas scale\n * @param x   Value to map\n *\n * @return Given value, mapped to the canvas scale, and rounded\n */\nconst toCanvasScale = (ctx: CanvasRenderingContext2D, x: number): number =>\n  Math.round((x * ctx.canvas.width) / constants.defaultImageSize);\n\n/**\n * Maps the coordinates of a given rectangle to the scale of the given canvas\n *\n * @param ctx  Canvas context, used to determine canvas size for scaling\n * @param rect Coordinates for the corners of the rectangle to map\n *\n * @return Given rectangle coordinates, mapped to the canvas scale\n */\nconst mapRectangleToCanvasScale = (ctx: CanvasRenderingContext2D, rect: number[]): number[] =>\n  rect.map((x) => toCanvasScale(ctx, x));\n\n/**\n * Maps the click position relative to the canvas\n *\n * @param ctx Canvas context to map relative to\n * @param x   Width coordinate\n * @param y   Height coordinate\n *\n * @return Click coordinates relative to the canvas, and rounded\n */\nconst mapClickToCanvas = (\n  ctx: CanvasRenderingContext2D,\n  x: number,\n  y: number\n): { x: number; y: number } => {\n  const rect = ctx.canvas.getBoundingClientRect();\n  const widthScale = ctx.canvas.width / rect.width;\n  const heightScale = ctx.canvas.height / rect.height;\n\n  return {\n    x: Math.round((x - rect.left) * widthScale),\n    y: Math.round((y - rect.top) * heightScale),\n  };\n};\n\nexport {\n  drawCircle,\n  drawCross,\n  drawRectangle,\n  drawStrokedText,\n  mapClickToCanvas,\n  mapRectangleToCanvasScale,\n  toCanvasScale,\n  toDefaultScale,\n};\n","import { ReactNode } from \"react\";\nimport { OptionsObject } from \"notistack\";\nimport { drawStrokedText } from \"./canvasUtils\";\nimport { assertUnreachable } from \"./errorUtils\";\nimport constants from \"../res/constants\";\nimport variables from \"../res/variables\";\n\n/**\n * Draw the round end text\n *\n * @param ctx       Context to draw the text on\n * @param text      Text to draw\n * @param size      Text font size (in px)\n * @param lineWidth Width of the text line\n * @param color     Text color\n */\nconst drawRoundEndText = (\n  ctx: CanvasRenderingContext2D,\n  text: string,\n  size: number,\n  lineWidth: number,\n  color: string\n): void => {\n  const x = Math.round(ctx.canvas.width / 2);\n  const y = Math.round(ctx.canvas.height / 10);\n\n  drawStrokedText(ctx, text, x, y, \"center\", size, lineWidth, \"white\", color);\n};\n\n/**\n * Given the coordinates of two rectangles, returns the ratio of their intersection\n * over their union.\n *\n * Used in determining the success of a given AI prediction.\n *\n * @param rectA Coordinates for the corners of the first rectangle\n * @param rectB Coordinates for the corners of the second rectangle\n *\n * @return Ratio of intersection area over union area\n */\nconst getIntersectionOverUnion = (rectA: number[], rectB: number[]): number => {\n  if (rectA.length !== 4 || rectB.length !== 4) {\n    throw new Error(\"Both input rectangles must be arrays of length 4.\");\n  }\n\n  const xA = Math.max(rectA[0], rectB[0]);\n  const xB = Math.min(rectA[2], rectB[2]);\n  const yA = Math.max(rectA[1], rectB[1]);\n  const yB = Math.min(rectA[3], rectB[3]);\n\n  const inter = Math.max(0, xB - xA + 1) * Math.max(0, yB - yA + 1);\n\n  const areaA = (rectA[2] - rectA[0] + 1) * (rectA[3] - rectA[1] + 1);\n  const areaB = (rectB[2] - rectB[0] + 1) * (rectB[3] - rectB[1] + 1);\n\n  const union = areaA + areaB - inter;\n\n  return inter / union;\n};\n\n/**\n * Returns the path to the annotation file corresponding to the given annotationId\n *\n * @param annotationId Id of the annotation file to retrieve\n * @param difficulty   Game difficulty, specifying the sub folder name\n *\n * @return Path to annotation file\n */\n\nconst getAnnotationPath = (annotationId: number, difficulty: Difficulty): string =>\n  `annotation/${difficulty}/${annotationId}.json`;\n\n/**\n * Returns the path to the image file corresponding to the given imageId\n *\n * @param imageId    Id of the image file to retrieve\n * @param difficulty Game difficulty, specifying the sub folder name\n *\n * @return Path to image file\n */\nconst getImagePath = (imageId: number, difficulty: Difficulty): string =>\n  `images/${difficulty}/${imageId}.png`;\n\n/**\n * Return the number of files corresponding to the given difficulty\n *\n * @param difficulty Difficulty for which to retrieve the files number\n *\n * @return Number of files\n */\nconst getFilesNumber = (difficulty: Difficulty): number => {\n  switch (difficulty) {\n    case \"easy\":\n      return variables.easyFilesNumber;\n    case \"medium\":\n      return variables.mediumFilesNumber;\n    case \"hard\":\n      return variables.hardFilesNumber;\n    default:\n      return assertUnreachable(difficulty);\n  }\n};\n\n/**\n * Given a string, get its corresponding game mode value, or if that's not valid, use the default\n *\n * @param gameMode Game mode string\n * @param def      Default game mode value\n *\n * @return Valid game mode value\n */\nconst getGameModeOrDefault = (gameMode: string | null, def: GameMode = \"casual\"): GameMode => {\n  if (gameMode === \"casual\" || gameMode === \"competitive\") {\n    return gameMode;\n  }\n\n  return def;\n};\n\n/**\n * Given a string, get its corresponding difficulty value, or if that's not valid, use the default\n *\n * @param difficulty Difficulty string\n * @param def        Default difficulty value\n *\n * @return Valid difficulty value\n */\nconst getDifficultyOrDefault = (\n  difficulty: string | null,\n  def: Difficulty = \"easy\"\n): Difficulty => {\n  if (difficulty === \"easy\" || difficulty === \"medium\" || difficulty === \"hard\") {\n    return difficulty;\n  }\n\n  return def;\n};\n\n/**\n * Given a string, get the file ids array it encodes, or if that's not valid, use the default\n *\n * @param fileIds File ids array encoding\n * @param def     Default file ids array value\n *\n * @return Valid file ids array, or undefined\n */\nconst getFileIdsOrDefault = (fileIds: string | null, def?: number[]): number[] | undefined => {\n  /* Check for array-style string */\n  if (\n    fileIds === null ||\n    fileIds.length < 2 ||\n    fileIds[0] !== \"[\" ||\n    fileIds[fileIds.length - 1] !== \"]\"\n  ) {\n    return def;\n  }\n\n  try {\n    return JSON.parse(fileIds);\n  } catch (_error) {\n    return def;\n  }\n};\n\n/**\n * Unlock an achievement and display a snackbar to the user (if not already unlocked)\n *\n * @param key             Achievement key\n * @param message         Snackbar message\n * @param enqueueSnackbar Function to display a snackbar\n */\nconst unlockAchievement = (\n  key: string,\n  message: ReactNode,\n  enqueueSnackbar: (message: ReactNode, options?: OptionsObject) => void\n): void => {\n  if (localStorage.getItem(key) === null) {\n    enqueueSnackbar(message, constants.achievementSnackbarOptions);\n\n    localStorage.setItem(key, \"true\");\n  }\n};\n\nexport {\n  drawRoundEndText,\n  getAnnotationPath,\n  getDifficultyOrDefault,\n  getFileIdsOrDefault,\n  getFilesNumber,\n  getGameModeOrDefault,\n  getImagePath,\n  getIntersectionOverUnion,\n  unlockAchievement,\n};\n","import React from \"react\";\nimport { Button, Card, Typography } from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { ColoredLinearProgress, HideFragment } from \"../../components\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    container: {\n      margin: 8,\n      padding: 8,\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      [theme.breakpoints.down(\"sm\")]: {\n        width: \"80vw\",\n        maxWidth: \"60vh\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        width: \"70vh\",\n        maxWidth: \"70vw\",\n      },\n    },\n    timer: {\n      marginBottom: 8,\n      fontSize: \"1.5rem\",\n    },\n  })\n);\n\nconst GameTopBar: React.FC<GameTopBarProps> = ({\n  gameMode,\n  hintDisabled,\n  onHintClick,\n  roundTime,\n  timerColor,\n}: GameTopBarProps) => {\n  const classes = useStyles();\n\n  const time = (roundTime / 1000).toFixed(1);\n\n  return (\n    <Card className={classes.container}>\n      <HideFragment hide={gameMode !== \"casual\"}>\n        <Button variant=\"contained\" color=\"secondary\" disabled={hintDisabled} onClick={onHintClick}>\n          Show hint\n        </Button>\n      </HideFragment>\n\n      <HideFragment hide={gameMode !== \"competitive\"}>\n        <Typography className={classes.timer} style={{ color: timerColor }}>\n          Time remaining: {time}s\n        </Typography>\n\n        <ColoredLinearProgress\n          barColor={timerColor}\n          variant=\"determinate\"\n          value={roundTime / 100}\n        />\n      </HideFragment>\n    </Card>\n  );\n};\n\nexport default GameTopBar;\n","import React, { useMemo, useState } from \"react\";\nimport { Button, Card, Typography } from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { ScoreWithIncrement, LoadingButton, HideFragment } from \"../../components\";\nimport colors from \"../../res/colors\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    container: {\n      [theme.breakpoints.up(\"md\")]: {\n        flex: 1,\n        height: \"100%\",\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n      },\n    },\n    card: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      alignContent: \"center\",\n      margin: 8,\n      padding: 8,\n      [theme.breakpoints.down(\"sm\")]: {\n        width: \"80vw\",\n        maxWidth: \"60vh\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        minWidth: \"20vw\",\n      },\n    },\n    scoresContainer: {\n      width: \"100%\",\n      display: \"flex\",\n      [theme.breakpoints.down(\"sm\")]: {\n        flexDirection: \"row\",\n        justifyContent: \"space-evenly\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        flexDirection: \"column\",\n        alignItems: \"center\",\n      },\n    },\n    cardText: {\n      [theme.breakpoints.down(\"sm\")]: {\n        fontSize: \"1.5rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        fontSize: \"2rem\",\n      },\n    },\n    submitShareContainer: {\n      width: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n      alignItems: \"center\",\n    },\n    button: {\n      margin: \"5px\",\n    },\n  })\n);\n\nconst GameSideBar: React.FC<GameSideBarProps> = ({\n  gameMode,\n  gameStarted,\n  gameEnded,\n  roundEnded,\n  roundLoading,\n  showIncrement,\n  onStartRound,\n  onSubmitClick,\n  onShareClick,\n  onChallenge,\n  playerScore,\n  aiScore,\n}: GameSideBarProps) => {\n  const [challengeLoading, setChallengeLoading] = useState(false);\n\n  const classes = useStyles();\n\n  const [gameEndText, gameEndColor] = useMemo(() => {\n    const playerScoreFull = playerScore.total + playerScore.round;\n    const aiScoreFull = aiScore.total + aiScore.round;\n\n    if (playerScoreFull > aiScoreFull) {\n      return [\"You won!\", colors.playerWon];\n    }\n\n    if (playerScoreFull < aiScoreFull) {\n      return [\"AI won!\", colors.playerLost];\n    }\n\n    return [\"It was a draw!\", colors.draw];\n  }, [playerScore, aiScore]);\n\n  const onChallengeClick = async () => {\n    try {\n      setChallengeLoading(true);\n\n      await onChallenge();\n    } finally {\n      setChallengeLoading(false);\n    }\n  };\n\n  return (\n    <div className={classes.container}>\n      <Card className={classes.card}>\n        <div className={classes.scoresContainer}>\n          <ScoreWithIncrement\n            player=\"You\"\n            score={playerScore.total}\n            increment={playerScore.round}\n            showIncrement={showIncrement}\n          />\n\n          <Typography className={classes.cardText}>vs</Typography>\n\n          <ScoreWithIncrement\n            player=\"AI\"\n            score={aiScore.total}\n            increment={aiScore.round}\n            showIncrement={showIncrement}\n          />\n        </div>\n\n        <HideFragment hide={!gameEnded}>\n          <Typography className={classes.cardText} style={{ color: gameEndColor }}>\n            {gameEndText}\n          </Typography>\n        </HideFragment>\n\n        <HideFragment hide={gameEnded}>\n          <LoadingButton\n            className={classes.button}\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            loading={roundLoading}\n            disabled={gameStarted && !roundEnded}\n            onClick={onStartRound}\n          >\n            {gameStarted ? \"Next\" : \"Start\"}\n          </LoadingButton>\n        </HideFragment>\n\n        <HideFragment\n          hide={(gameMode === \"competitive\" && !gameEnded) || !roundEnded || roundLoading}\n        >\n          <div className={classes.submitShareContainer}>\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={onSubmitClick}\n            >\n              Submit\n            </Button>\n\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={onShareClick}\n            >\n              Share\n            </Button>\n          </div>\n        </HideFragment>\n\n        <HideFragment hide={!gameEnded}>\n          <LoadingButton\n            className={classes.button}\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            loading={challengeLoading}\n            onClick={onChallengeClick}\n          >\n            Challenge friend\n          </LoadingButton>\n        </HideFragment>\n      </Card>\n    </div>\n  );\n};\n\nexport default GameSideBar;\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  TextField,\n} from \"@material-ui/core\";\nimport { LoadingButton } from \"../../components\";\n\nconst SubmitScoreDialog: React.FC<SubmitScoreDialogProps> = ({\n  open,\n  onClose,\n  onSubmit,\n}: SubmitScoreDialogProps) => {\n  const [username, setUsername] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const onCloseDialog = () => {\n    setUsername(\"\");\n    setError(false);\n\n    onClose();\n  };\n\n  const onUsernameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setError(false);\n    setUsername(event.target.value);\n  };\n\n  const onSubmitClick = async () => {\n    if (username === \"\") {\n      setError(true);\n    } else {\n      setLoading(true);\n\n      const trimmedUsername = username.trim();\n      setUsername(trimmedUsername);\n      await onSubmit(trimmedUsername);\n\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onClose={onCloseDialog}>\n      <DialogTitle>Submit</DialogTitle>\n\n      <DialogContent>\n        <DialogContentText>\n          To submit your score, please enter your username here.\n        </DialogContentText>\n\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          label=\"Username\"\n          required\n          type=\"text\"\n          fullWidth\n          error={error}\n          helperText={error ? \"Username cannot be empty\" : \"\"}\n          value={username}\n          onChange={onUsernameChange}\n        />\n      </DialogContent>\n\n      <DialogActions>\n        <Button color=\"primary\" onClick={onCloseDialog}>\n          Cancel\n        </Button>\n\n        <LoadingButton color=\"primary\" loading={loading} onClick={onSubmitClick}>\n          Submit\n        </LoadingButton>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default SubmitScoreDialog;\n","import React from \"react\";\nimport { Dialog, DialogTitle, IconButton, Typography } from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport {\n  FacebookIcon,\n  FacebookShareButton,\n  TwitterIcon,\n  TwitterShareButton,\n  LinkedinIcon,\n  LinkedinShareButton,\n  EmailIcon,\n  EmailShareButton,\n} from \"react-share\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    closeButton: {\n      position: \"absolute\",\n      right: theme.spacing(1),\n      top: theme.spacing(1),\n      color: theme.palette.grey[500],\n    },\n    container: {\n      width: \"100%\",\n      textAlign: \"center\",\n    },\n    shareButton: {\n      margin: \"10px\",\n    },\n  })\n);\n\nconst ShareScoreDialog: React.FC<ShareScoreDialogProps> = ({\n  open,\n  onClose,\n  score,\n}: ShareScoreDialogProps) => {\n  const classes = useStyles();\n\n  return (\n    <Dialog open={open} onClose={onClose} fullWidth maxWidth=\"xs\">\n      <DialogTitle>\n        <Typography variant=\"h6\">Share your score!</Typography>\n\n        <IconButton className={classes.closeButton} onClick={onClose}>\n          <CloseIcon />\n        </IconButton>\n      </DialogTitle>\n\n      <div className={classes.container}>\n        <TwitterShareButton\n          className={classes.shareButton}\n          url=\"http://cb3618.pages.doc.ic.ac.uk/spot-the-lesion\"\n          title={`I got ${score} points in Spot-the-Lesion! Can you beat my score?`}\n        >\n          <TwitterIcon size=\"50px\" round />\n        </TwitterShareButton>\n\n        <FacebookShareButton\n          className={classes.shareButton}\n          url=\"http://cb3618.pages.doc.ic.ac.uk/spot-the-lesion\"\n          quote={`I got ${score} points in Spot-the-Lesion! Can you beat my score?`}\n        >\n          <FacebookIcon size=\"50px\" round />\n        </FacebookShareButton>\n\n        <LinkedinShareButton\n          className={classes.shareButton}\n          url=\"http://cb3618.pages.doc.ic.ac.uk/spot-the-lesion\"\n          title={`I got ${score} points in Spot-the-Lesion! Can you beat my score?`}\n        >\n          <LinkedinIcon size=\"50px\" round />\n        </LinkedinShareButton>\n\n        <EmailShareButton\n          className={classes.shareButton}\n          url=\"http://cb3618.pages.doc.ic.ac.uk/spot-the-lesion\"\n          subject={`I got ${score} points in Spot-the-Lesion! Can you beat my score?`}\n        >\n          <EmailIcon size=\"50px\" round />\n        </EmailShareButton>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default ShareScoreDialog;\n","import React, { useRef, useState } from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  IconButton,\n  InputAdornment,\n  TextField,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { AssignmentTurnedInOutlined } from \"@material-ui/icons\";\n\nconst ChallengeDialog: React.FC<ChallengeDialogProps> = ({\n  open,\n  onClose,\n  link,\n}: ChallengeDialogProps) => {\n  const [tooltipOpen, setTooltipOpen] = useState(false);\n  const [tooltipTitle, setTooltipTitle] = useState(\"Copy to clipboard\");\n\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const selectInputText = () => {\n    if (inputRef.current === null) {\n      return;\n    }\n\n    inputRef.current.select();\n\n    /* For mobile devices */\n    inputRef.current.setSelectionRange(0, link.length);\n  };\n\n  const onCopyToClipboardClick = () => {\n    selectInputText();\n\n    document.execCommand(\"copy\");\n\n    setTooltipTitle(\"Copied!\");\n  };\n\n  const onMouseEnterAdornment = () => {\n    setTooltipTitle(\"Copy to clipboard\");\n    setTooltipOpen(true);\n  };\n\n  const onMouseLeaveAdornment = () => setTooltipOpen(false);\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogTitle>Challenge</DialogTitle>\n\n      <DialogContent>\n        <DialogContentText>Share this link to a friend to challenge them</DialogContentText>\n\n        <TextField\n          inputRef={inputRef}\n          variant=\"outlined\"\n          fullWidth\n          margin=\"dense\"\n          autoFocus\n          type=\"url\"\n          label=\"Challenge link\"\n          value={link}\n          onClick={selectInputText}\n          InputProps={{\n            readOnly: true,\n            endAdornment: (\n              <InputAdornment\n                position=\"end\"\n                onMouseEnter={onMouseEnterAdornment}\n                onMouseLeave={onMouseLeaveAdornment}\n              >\n                <Tooltip open={tooltipOpen} title={tooltipTitle}>\n                  <IconButton size=\"small\" edge=\"end\" onClick={onCopyToClipboardClick}>\n                    <AssignmentTurnedInOutlined />\n                  </IconButton>\n                </Tooltip>\n              </InputAdornment>\n            ),\n          }}\n        />\n      </DialogContent>\n\n      <DialogActions>\n        <Button color=\"primary\" onClick={onClose}>\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ChallengeDialog;\n","import React, { useMemo } from \"react\";\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Theme,\n  Typography,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { ResponsivePie } from \"@nivo/pie\";\nimport { partition } from \"../../utils/arrayUtils\";\nimport colors from \"../../res/colors\";\n\nconst useStyles = makeStyles(\n  createStyles({\n    pieContainer: {\n      width: \"100%\",\n      height: \"60vh\",\n    },\n    zeroValueText: {\n      margin: 8,\n      fontWeight: \"bold\",\n    },\n  })\n);\n\nconst ImageStatsDialog: React.FC<ImageStatsDialogProps> = ({\n  open,\n  onClose,\n  imageData,\n}: ImageStatsDialogProps) => {\n  const smallScreen = useMediaQuery((theme: Theme) => theme.breakpoints.down(\"xs\"));\n\n  const classes = useStyles();\n\n  const [nonZeroData, zeroData] = useMemo(() => {\n    const data = [\n      {\n        id: \"Correct Answers\",\n        label: \"Correct Answers\",\n        value: imageData.correctClicks,\n        color: colors.pieImageCorrectAnswers,\n      },\n      {\n        id: \"Wrong Answers\",\n        label: \"Wrong Answers\",\n        value: imageData.wrongClicks,\n        color: colors.pieImageWrongAnswers,\n      },\n      {\n        id: \"Hints\",\n        label: \"Total Hints\",\n        value: imageData.hintCount,\n        color: colors.pieImageHints,\n      },\n    ];\n\n    return partition(data, (x) => x.value !== 0);\n  }, [imageData]);\n\n  return (\n    <Dialog open={open} onClose={onClose} fullWidth maxWidth=\"sm\">\n      <DialogTitle>Image Statistics</DialogTitle>\n\n      <DialogContent>\n        <div className={classes.pieContainer} hidden={nonZeroData.length === 0}>\n          <ResponsivePie\n            data={nonZeroData}\n            startAngle={-180}\n            cornerRadius={3}\n            margin={{ top: 40, right: 80, bottom: 80, left: 80 }}\n            colors={{ datum: \"data.color\" }}\n            borderWidth={1}\n            borderColor={{ from: \"color\", modifiers: [[\"darker\", 1]] }}\n            enableRadialLabels={false}\n            sliceLabel=\"value\"\n            legends={[\n              {\n                anchor: \"bottom\",\n                direction: smallScreen ? \"column\" : \"row\",\n                justify: false,\n                translateY: 70,\n                itemWidth: 75,\n                itemHeight: 18,\n                itemsSpacing: smallScreen ? 5 : 75,\n                itemTextColor: colors.legendText,\n                symbolSize: 18,\n                symbolShape: \"circle\",\n                effects: [\n                  {\n                    on: \"hover\",\n                    style: {\n                      itemTextColor: colors.legendTextHover,\n                    },\n                  },\n                ],\n              },\n            ]}\n          />\n        </div>\n\n        {zeroData.map(({ id, value }) => {\n          if (value !== 0) {\n            return null;\n          }\n\n          return (\n            <Typography key={id} className={classes.zeroValueText}>\n              {`There are no ${id} registered for this image!`}\n            </Typography>\n          );\n        })}\n      </DialogContent>\n\n      <DialogActions>\n        <Button color=\"primary\" onClick={onClose}>\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ImageStatsDialog;\n","import { useArrayGenerator, useUniqueRandomGenerator } from \"../../hooks\";\nimport { getFilesNumber } from \"../../utils/gameUtils\";\n\n/**\n * Custom hook for generating a new file id, either from the given difficulty,\n * or from the given array of challenge file ids\n *\n * @param difficulty       Game difficulty, setting the range for random file id generation\n * @param challengeFileIds Array of challenge file ids\n *\n * @return File id generator function\n */\nconst useFileIdGenerator = (\n  difficulty: Difficulty,\n  challengeFileIds: number[] | undefined\n): (() => number) => {\n  const getNewRandomFileId = useUniqueRandomGenerator(0, getFilesNumber(difficulty));\n  const getNewChallengeFileId = useArrayGenerator(challengeFileIds || []);\n\n  return () => {\n    if (challengeFileIds) {\n      return getNewChallengeFileId();\n    }\n\n    return getNewRandomFileId();\n  };\n};\n\nexport default useFileIdGenerator;\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Button, Card } from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSnackbar } from \"notistack\";\nimport axios from \"axios\";\nimport clsx from \"clsx\";\nimport firebase from \"firebase/app\";\nimport { LoadingButton, NavigationAppBar } from \"../../components\";\nimport { useCanvasContext, useHeatmap, useInterval } from \"../../hooks\";\nimport { handleAxiosError } from \"../../utils/axiosUtils\";\nimport {\n  drawCircle,\n  drawCross,\n  drawRectangle,\n  mapClickToCanvas,\n  mapRectangleToCanvasScale,\n  toCanvasScale,\n  toDefaultScale,\n} from \"../../utils/canvasUtils\";\nimport { handleImageLoadError, handleUncaughtError } from \"../../utils/errorUtils\";\nimport {\n  getMonthName,\n  handleFirebaseStorageError,\n  handleFirestoreError,\n  isFirebaseStorageError,\n  isFirestoreError,\n} from \"../../utils/firebaseUtils\";\nimport {\n  drawRoundEndText,\n  getAnnotationPath,\n  getImagePath,\n  getIntersectionOverUnion,\n  unlockAchievement,\n} from \"../../utils/gameUtils\";\nimport { randomAround } from \"../../utils/numberUtils\";\nimport GameTopBar from \"./GameTopBar\";\nimport GameSideBar from \"./GameSideBar\";\nimport SubmitScoreDialog from \"./SubmitScoreDialog\";\nimport ShareScoreDialog from \"./ShareScoreDialog\";\nimport ChallengeDialog from \"./ChallengeDialog\";\nimport ImageStatsDialog from \"./ImageStatsDialog\";\nimport useFileIdGenerator from \"./useFileIdGenerator\";\nimport colors from \"../../res/colors\";\nimport constants from \"../../res/constants\";\nimport variables from \"../../res/variables\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    container: {\n      height: \"100%\",\n      display: \"flex\",\n      justifyContent: \"space-evenly\",\n      alignItems: \"center\",\n      [theme.breakpoints.down(\"sm\")]: {\n        flexDirection: \"column\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        flexDirection: \"row\",\n      },\n    },\n    emptyDiv: {\n      flex: 1,\n      [theme.breakpoints.down(\"sm\")]: {\n        display: \"none\",\n      },\n    },\n    topBarCanvasContainer: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n    },\n    canvasContainer: {\n      position: \"relative\",\n      padding: 8,\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      [theme.breakpoints.down(\"sm\")]: {\n        height: \"80vw\",\n        width: \"80vw\",\n        maxWidth: \"60vh\",\n        maxHeight: \"60vh\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        height: \"70vh\",\n        width: \"70vh\",\n        maxWidth: \"70vw\",\n        maxHeight: \"70vw\",\n      },\n    },\n    canvas: {\n      height: \"100%\",\n      width: \"100%\",\n      position: \"absolute\",\n      left: 0,\n      top: 0,\n    },\n    imageCanvas: {\n      zIndex: 0,\n    },\n    animationCanvas: {\n      zIndex: 1,\n    },\n    heatmapCanvas: {\n      zIndex: 2,\n    },\n  })\n);\n\nconst defaultImageData: FirestoreImageData = {\n  clicks: [],\n  correctClicks: 0,\n  hintCount: 0,\n  wrongClicks: 0,\n};\n\nconst Game: React.FC<GameProps> = ({ gameMode, difficulty, challengeFileIds }: GameProps) => {\n  const [heatmapLoading, setHeatmapLoading] = useState(false);\n  const [showHeatmap, setShowHeatmap] = useState(false);\n\n  const [submitDialogOpen, setSubmitDialogOpen] = useState(false);\n  const [shareDialogOpen, setShareDialogOpen] = useState(false);\n  const [imageStatsDialogOpen, setImageStatsDialogOpen] = useState(false);\n  const [challengeDialogOpen, setChallengeDialogOpen] = useState(false);\n\n  const [challengeLink, setChallengeLink] = useState(\"\");\n\n  const [roundNumber, setRoundNumber] = useState(0);\n  const [gameEnded, setGameEnded] = useState(false);\n  const [hinted, setHinted] = useState(false);\n\n  const [fileId, setFileId] = useState(-1);\n  const [fileIds, setFileIds] = useState<number[]>([]);\n\n  const [truth, setTruth] = useState<number[]>([]);\n  const [predicted, setPredicted] = useState<number[]>([]);\n  const [click, setClick] = useState<{ x: number; y: number } | null>(null);\n\n  const [imageData, setImageData] = useState<FirestoreImageData>({\n    ...defaultImageData,\n    clicks: [],\n  });\n\n  const [roundLoading, setRoundLoading] = useState(false);\n  const [roundEnded, setRoundEnded] = useState(false);\n  const [showIncrement, setShowIncrement] = useState(false);\n\n  const [roundRunning, setRoundRunning] = useState(false);\n  const [roundTime, setRoundTime] = useState(variables.roundDuration);\n\n  const [endRunning, setEndRunning] = useState(false);\n  const [endTime, setEndTime] = useState(0);\n\n  const [animationRunning, setAnimationRunning] = useState(false);\n  const [animationPosition, setAnimationPosition] = useState(0);\n\n  const [timerColor, setTimerColor] = useState(colors.timerInitial);\n\n  const [hintedCurrent, setHintedCurrent] = useState(false);\n\n  const [playerScore, setPlayerScore] = useState({ total: 0, round: 0 });\n  const [playerCorrectAnswers, setPlayerCorrectAnswers] = useState(0);\n  const [playerCorrectCurrent, setPlayerCorrectCurrent] = useState(false);\n\n  const [aiScore, setAiScore] = useState({ total: 0, round: 0 });\n  const [aiCorrectAnswers, setAiCorrectAnswers] = useState(0);\n\n  const [context, canvasRef] = useCanvasContext();\n  const [animationContext, animationCanvasRef] = useCanvasContext();\n\n  const canvasContainer = useRef<HTMLDivElement>(null);\n\n  const getNewFileId = useFileIdGenerator(difficulty, challengeFileIds);\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const history = useHistory();\n\n  const classes = useStyles();\n\n  /**\n   * Round timer\n   *\n   * Decrement roundTime by 100, every 100ms\n   *\n   * Running only in competitive mode, while roundRunning is true\n   */\n  useInterval(\n    () => setRoundTime((prevState) => prevState - 100),\n    roundRunning && gameMode === \"competitive\" ? 100 : null\n  );\n\n  /**\n   * Draw the hint circle\n   */\n  const drawHint = useCallback(() => {\n    setHintedCurrent(true);\n    setHinted(true);\n\n    const radius = toCanvasScale(context, variables.hintRadius);\n    const hintRange = toCanvasScale(context, constants.hintRange);\n\n    const x = randomAround(Math.round(truth[0] + (truth[2] - truth[0]) / 2), hintRange);\n    const y = randomAround(Math.round(truth[1] + (truth[3] - truth[1]) / 2), hintRange);\n\n    drawCircle(context, x, y, radius, variables.hintLineWidth, colors.hint);\n  }, [context, truth]);\n\n  /**\n   * Round timer based events\n   */\n  useEffect(() => {\n    if (!roundRunning) {\n      return;\n    }\n\n    if (roundTime === variables.hintTime) {\n      /*\n       * set timer color to timer orange\n       * show hint\n       */\n      setTimerColor(colors.timerOrange);\n\n      drawHint();\n    } else if (roundTime === constants.redTime) {\n      /*\n       * set timer color to timer red\n       */\n      setTimerColor(colors.timerRed);\n    } else if (roundTime === 0) {\n      /*\n       * start end timer and stop roundNumber timer\n       */\n      setEndRunning(true);\n      setRoundRunning(false);\n    }\n  }, [roundRunning, roundTime, drawHint]);\n\n  /**\n   * End timer\n   *\n   * Increment endTime by 100, every 100ms\n   *\n   * Running only while endRunning is true\n   */\n  useInterval(() => setEndTime((prevState) => prevState + 100), endRunning ? 100 : null);\n\n  /**\n   * Upload the player click in order to gather statistics and generate heatmaps\n   *\n   * @param x       Width coordinate\n   * @param y       Height coordinate\n   * @param correct Whether click was correct\n   */\n  const uploadClick = useCallback(\n    async (x: number, y: number, correct: boolean) => {\n      const newClick = {\n        x: toDefaultScale(context, x),\n        y: toDefaultScale(context, y),\n        clickCount: 1,\n      };\n\n      const { clicks, correctClicks, hintCount, wrongClicks } = imageData;\n\n      /* Locate (if present) existing click with same coordinates */\n      const existingClick = clicks.find((clk) => clk.x === newClick.x && clk.y === newClick.y);\n\n      /* If not found, append to array, otherwise increment clickCount */\n      if (existingClick === undefined) {\n        clicks.push(newClick);\n      } else {\n        existingClick.clickCount += 1;\n      }\n\n      const docName = fileId.toString();\n\n      const newImageData = {\n        clicks,\n        correctClicks: correctClicks + (correct ? 1 : 0),\n        wrongClicks: wrongClicks + (correct ? 0 : 1),\n        hintCount: hintCount + (hintedCurrent ? 1 : 0),\n      };\n\n      try {\n        await firebase\n          .firestore()\n          .collection(constants.images(difficulty))\n          .doc(docName)\n          .set(newImageData);\n      } catch (error) {\n        if (isFirestoreError(error)) {\n          handleFirestoreError(error);\n        } else {\n          handleUncaughtError(error, \"uploadClick\");\n        }\n      }\n    },\n    [context, difficulty, fileId, hintedCurrent, imageData]\n  );\n\n  /**\n   * End timer based events\n   */\n  useEffect(() => {\n    if (!endRunning) {\n      return;\n    }\n\n    if (endTime === 0) {\n      /*\n       * 0 seconds passed\n       *\n       * draw player click (if available)\n       * start animation timer and pause end timer\n       */\n      if (click) {\n        const { x, y } = click;\n\n        const clickSize = toCanvasScale(context, constants.clickSize);\n        const clickLineWidth = toCanvasScale(context, constants.clickLineWidth);\n\n        drawCross(context, x, y, clickSize, clickLineWidth, colors.click);\n      }\n\n      enqueueSnackbar(\"The system is thinking...\", constants.informationSnackbarOptions);\n\n      setAnimationRunning(true);\n      setEndRunning(false);\n    } else if (endTime === constants.drawPredictedTime) {\n      /*\n       * draw predicted rectangle\n       */\n      const predictedLineWidth = toCanvasScale(context, constants.predictedLineWidth);\n\n      drawRectangle(context, predicted, predictedLineWidth, colors.predicted);\n    } else if (endTime === constants.drawTruthTime) {\n      /*\n       * draw truth rectangle\n       */\n      const truthLineWidth = toCanvasScale(context, constants.truthLineWidth);\n\n      drawRectangle(context, truth, truthLineWidth, colors.truth);\n    } else if (endTime === constants.evaluationTime) {\n      /*\n       * evaluate player\n       * upload player click\n       * draw round end text\n       * evaluate AI\n       * retrieve image statistics\n       * stop end timer\n       * end round\n       */\n      enqueueSnackbar(\"Checking results...\", constants.informationSnackbarOptions);\n\n      if (click) {\n        const { x, y } = click;\n\n        /* Player was successful if the click coordinates are inside the truth rectangle */\n        const playerCorrect = truth[0] <= x && x <= truth[2] && truth[1] <= y && y <= truth[3];\n\n        uploadClick(x, y, playerCorrect).then(() => {});\n\n        if (playerCorrect) {\n          /* Casual Mode: half a point, doubled if no hint received */\n          const casualScore = 0.5 * (hintedCurrent ? 1 : 2);\n\n          /* Competitive Mode: function of round time left, doubled if no hint received */\n          const competitiveScore = Math.round(roundTime / 100) * (hintedCurrent ? 1 : 2);\n\n          const roundScore = gameMode === \"casual\" ? casualScore : competitiveScore;\n\n          setPlayerScore(({ total }) => ({ total, round: roundScore }));\n          setPlayerCorrectAnswers((prevState) => prevState + 1);\n          setPlayerCorrectCurrent(true);\n        }\n\n        const text = playerCorrect ? \"Well spotted!\" : \"Missed!\";\n        const textColor = playerCorrect ? colors.playerCorrect : colors.playerIncorrect;\n\n        const textSize = toCanvasScale(context, constants.roundEndTextSize);\n        const textLineWidth = toCanvasScale(context, constants.roundEndTextLineWidth);\n\n        drawRoundEndText(context, text, textSize, textLineWidth, textColor);\n      } else {\n        const textSize = toCanvasScale(context, constants.roundEndTextSize);\n        const textLineWidth = toCanvasScale(context, constants.roundEndTextLineWidth);\n\n        drawRoundEndText(context, \"Too slow!\", textSize, textLineWidth, colors.playerIncorrect);\n      }\n\n      const intersectionOverUnion = getIntersectionOverUnion(truth, predicted);\n\n      /* AI was successful if the ratio of the intersection over the union is greater than 0.5 */\n      const aiCorrect = intersectionOverUnion > 0.5;\n\n      if (aiCorrect) {\n        /* Casual mode: one point */\n        const casualScore = 1;\n\n        /* Competitive mode: function of prediction accuracy and constant increase rate */\n        const competitiveRoundScore = Math.round(\n          intersectionOverUnion * variables.aiScoreMultiplier\n        );\n\n        const roundScore = gameMode === \"casual\" ? casualScore : competitiveRoundScore;\n\n        setAiScore(({ total }) => ({ total, round: roundScore }));\n        setAiCorrectAnswers((prevState) => prevState + 1);\n      }\n\n      setRoundEnded(true);\n      setEndRunning(false);\n    }\n  }, [\n    click,\n    context,\n    endRunning,\n    endTime,\n    enqueueSnackbar,\n    fileId,\n    gameMode,\n    hintedCurrent,\n    predicted,\n    roundTime,\n    truth,\n    uploadClick,\n  ]);\n\n  /**\n   * Animation timer\n   *\n   * Increment animationPosition by 1 (tempo based on set animation time and number of search cubes)\n   *\n   * Running only while animationRunning is true\n   */\n  useInterval(\n    () => setAnimationPosition((prevState) => prevState + 1),\n    animationRunning\n      ? Math.round(variables.animationDuration / constants.animationCubesNumber ** 2)\n      : null\n  );\n\n  /**\n   * Animation timer based events\n   */\n  useEffect(() => {\n    if (!animationRunning) {\n      return;\n    }\n\n    /* Clear previous cube */\n    animationContext.clearRect(0, 0, animationContext.canvas.width, animationContext.canvas.height);\n\n    /* Stop when all cube positions were reached, and resume end timer with one tick passed */\n    if (animationPosition === constants.animationCubesNumber ** 2) {\n      setAnimationRunning(false);\n      setEndTime((prevState) => prevState + 100);\n      setEndRunning(true);\n      return;\n    }\n\n    const cubeSide = animationContext.canvas.width / constants.animationCubesNumber;\n    const baseX = (animationPosition % constants.animationCubesNumber) * cubeSide;\n    const baseY = Math.floor(animationPosition / constants.animationCubesNumber) * cubeSide;\n    const cube = [\n      Math.round(baseX),\n      Math.round(baseY),\n      Math.round(baseX + cubeSide),\n      Math.round(baseY + cubeSide),\n    ];\n\n    const animationLineWidth = toCanvasScale(animationContext, constants.animationLineWidth);\n\n    drawRectangle(animationContext, cube, animationLineWidth, colors.animation);\n  }, [animationContext, animationPosition, animationRunning]);\n\n  /**\n   * Round end based events\n   */\n  useEffect(() => {\n    if (!roundEnded || roundLoading) {\n      return;\n    }\n\n    setShowIncrement(true);\n\n    if (gameMode === \"competitive\" && roundNumber === variables.roundsNumber) {\n      setGameEnded(true);\n    }\n\n    const unlockAchievementHandler = (key, msg) => unlockAchievement(key, msg, enqueueSnackbar);\n\n    /* Check general achievements */\n    if (playerCorrectCurrent) {\n      unlockAchievementHandler(\"firstCorrect\", \"Achievement! First Step!\");\n\n      if (!hintedCurrent) {\n        unlockAchievementHandler(\"firstCorrectWithoutHint\", \"Achievement! Independent Spotter!\");\n      }\n    }\n\n    /* Check casual achievements */\n    if (gameMode === \"casual\") {\n      if (playerCorrectAnswers === 5) {\n        unlockAchievementHandler(\n          \"fiveCorrectSameRunCasual\",\n          \"Achievement! Practice makes perfect!\"\n        );\n      }\n\n      if (playerCorrectAnswers === 20) {\n        unlockAchievementHandler(\"twentyCorrectSameRunCasual\", \"Achievement! Going the distance!\");\n      }\n\n      if (playerCorrectAnswers === 50) {\n        unlockAchievementHandler(\"fiftyCorrectSameRunCasual\", \"Achievement! Still going?!\");\n      }\n    }\n\n    /* Check competitive achievements */\n    if (gameMode === \"competitive\") {\n      if (playerCorrectCurrent && roundTime > variables.roundDuration - 2000) {\n        unlockAchievementHandler(\"fastAnswer\", \"Achievement! The flash!\");\n      }\n\n      if (playerCorrectCurrent && roundTime < 500) {\n        unlockAchievementHandler(\"slowAnswer\", \"Achievement! Nerves of steel!\");\n      }\n\n      if (playerScore.total + playerScore.round >= 1000) {\n        unlockAchievementHandler(\"competitivePoints\", \"Achievement! IT'S OVER 1000!!!\");\n      }\n    }\n  }, [\n    enqueueSnackbar,\n    gameMode,\n    hintedCurrent,\n    playerCorrectAnswers,\n    playerCorrectCurrent,\n    playerScore,\n    roundEnded,\n    roundLoading,\n    roundNumber,\n    roundTime,\n  ]);\n\n  /**\n   * Game end based events\n   */\n  useEffect(() => {\n    if (!gameEnded) {\n      return;\n    }\n\n    const unlockAchievementHandler = (key, msg) => unlockAchievement(key, msg, enqueueSnackbar);\n\n    if (playerCorrectAnswers === 5) {\n      unlockAchievementHandler(\"fiveCorrectSameRunCompetitive\", \"Achievement! Master Spotter!\");\n    }\n\n    if (playerCorrectAnswers === variables.roundsNumber) {\n      unlockAchievementHandler(\"allCorrectCompetitive\", \"Achievement! Perfectionist!\");\n    }\n\n    if (playerScore.total + playerScore.round > aiScore.total + aiScore.round) {\n      unlockAchievementHandler(\"firstCompetitiveWin\", \"Achievement! Competitive Winner!\");\n    }\n  }, [aiScore, enqueueSnackbar, gameEnded, playerCorrectAnswers, playerScore]);\n\n  /**\n   * Firestore image document listener\n   */\n  useEffect(() => {\n    if (fileId === -1) {\n      return () => {};\n    }\n\n    setImageData({ ...defaultImageData, clicks: [] });\n\n    const docName = fileId.toString();\n\n    const unsubscribe = firebase\n      .firestore()\n      .collection(constants.images(difficulty))\n      .doc(docName)\n      .onSnapshot(\n        (snapshot) => {\n          if (snapshot.exists) {\n            setImageData(snapshot.data() as FirestoreImageData);\n          }\n        },\n        (error) => handleFirestoreError(error)\n      );\n\n    return () => unsubscribe();\n  }, [difficulty, fileId]);\n\n  /**\n   * Called when the canvas is clicked\n   *\n   * @param event Mouse event, used to get click position\n   */\n  const onCanvasClick = (event: React.MouseEvent<HTMLCanvasElement, MouseEvent>) => {\n    if (!roundRunning) {\n      return;\n    }\n\n    setClick(mapClickToCanvas(context, event.clientX, event.clientY));\n    setEndRunning(true);\n    setRoundRunning(false);\n  };\n\n  /**\n   * Loads the annotation data for the given annotationId\n   *\n   * @param annotationId Number of the annotation to load\n   *\n   * @return Void promise\n   */\n  const loadAnnotation = async (annotationId: number): Promise<void> => {\n    const url = await firebase\n      .storage()\n      .ref(getAnnotationPath(annotationId, difficulty))\n      .getDownloadURL();\n\n    const response = await axios.get<AnnotationData>(url, { timeout: constants.axiosTimeout });\n\n    const annotation = response.data;\n\n    setTruth(mapRectangleToCanvasScale(context, annotation.truth));\n    setPredicted(mapRectangleToCanvasScale(context, annotation.predicted));\n  };\n\n  /**\n   * Loads the image from for the given imageId\n   *\n   * @param imageId Number of the image to load\n   *\n   * @return Void promise\n   */\n  const loadImage = (imageId: number): Promise<void> =>\n    new Promise((resolve, reject) => {\n      const image = new Image();\n\n      image.onload = () => {\n        context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n        context.drawImage(image, 0, 0, context.canvas.width, context.canvas.height);\n\n        resolve();\n      };\n\n      image.onerror = (_ev, _src, _line, _col, error) => reject(error);\n\n      /* Set source after onload to ensure onload gets called (in case the image is cached) */\n      firebase\n        .storage()\n        .ref(getImagePath(imageId, difficulty))\n        .getDownloadURL()\n        .then((url) => {\n          image.src = url;\n        })\n        .catch((error) => reject(error));\n    });\n\n  /**\n   * Starts a new round, loading a new annotation - image pair\n   */\n  const startRound = async () => {\n    setRoundLoading(true);\n\n    setShowIncrement(false);\n\n    setPlayerScore(({ total, round }) => ({ total: total + round, round: 0 }));\n    setAiScore(({ total, round }) => ({ total: total + round, round: 0 }));\n\n    /* Get a new file id and load the corresponding annotation and image */\n    const newFileId = getNewFileId();\n\n    try {\n      await loadAnnotation(newFileId);\n      await loadImage(newFileId);\n\n      setFileId(newFileId);\n\n      if (gameMode === \"competitive\") {\n        setFileIds((prevState) => [...prevState, newFileId]);\n      }\n\n      setRoundNumber((prevState) => prevState + 1);\n\n      /* Reset game state */\n      setRoundTime(variables.roundDuration);\n      setEndTime(0);\n      setAnimationPosition(0);\n\n      setHintedCurrent(false);\n      setTimerColor(colors.timerInitial);\n\n      setClick(null);\n\n      setPlayerCorrectCurrent(false);\n\n      setShowHeatmap(false);\n\n      setRoundEnded(false);\n      setRoundRunning(true);\n    } catch (error) {\n      console.error(`Annotation/Image load error\\n fileId: ${newFileId}`);\n\n      if (isFirebaseStorageError(error)) {\n        handleFirebaseStorageError(error, enqueueSnackbar);\n      } else if (axios.isAxiosError(error)) {\n        handleAxiosError(error, enqueueSnackbar);\n      } else {\n        handleImageLoadError(error, enqueueSnackbar);\n      }\n    } finally {\n      setRoundLoading(false);\n    }\n  };\n\n  /**\n   * Load the data to display on the given heatmap instance\n   *\n   * @param instance Heatmap instance\n   */\n  const loadHeatmapData = useCallback(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async (instance: any) => {\n      setHeatmapLoading(true);\n\n      // eslint-disable-next-line no-underscore-dangle\n      const { ctx }: { ctx: CanvasRenderingContext2D } = instance._renderer;\n\n      const min = 0;\n      let max = 0;\n\n      const data = imageData.clicks.map(({ x, y, clickCount }) => {\n        max = Math.max(max, clickCount);\n\n        return { x: toCanvasScale(ctx, x), y: toCanvasScale(ctx, y), clickCount };\n      });\n\n      const heatmapData = { min, max, data };\n\n      instance.setData(heatmapData);\n\n      setHeatmapLoading(false);\n    },\n    [imageData.clicks]\n  );\n\n  /**\n   * Submit the achieved score for the given username\n   * (Over)write if achieved score is greater than stored one, or there is no stored value\n   *\n   * @param username Player username to identify achieved score\n   *\n   * @return True if successful, false otherwise\n   */\n  const submitScore = async (username: string): Promise<void> => {\n    const date = new Date();\n\n    const playerScoreFull = playerScore.total + playerScore.round;\n    const aiScoreFull = aiScore.total + aiScore.round;\n\n    const scoreData: FirestoreScoreData = {\n      user: username,\n      score: playerScoreFull,\n      ai_score: aiScoreFull,\n      correct_player_answers: playerCorrectAnswers,\n      usedHints: hinted,\n      correct_ai_answers: aiCorrectAnswers,\n      day: date.getDate(),\n      month: getMonthName(date.getMonth()),\n      year: date.getFullYear(),\n    };\n\n    const scores = gameMode === \"casual\" ? constants.scoresCasual : constants.scoresCompetitive;\n\n    const docName = `${scoreData.year}.${scoreData.month}.${scoreData.day}.${scoreData.user}`;\n\n    try {\n      const snapshot = await firebase.firestore().collection(scores).doc(docName).get();\n\n      /* Set if first time played today, or a higher score was achieved */\n      if (!snapshot.exists || (snapshot.data() as FirestoreScoreData).score < scoreData.score) {\n        await firebase.firestore().collection(scores).doc(docName).set(scoreData);\n      }\n\n      enqueueSnackbar(\"Score successfully submitted!\", constants.successSnackbarOptions);\n\n      if (playerScoreFull > aiScoreFull && gameMode === \"casual\") {\n        unlockAchievement(\"firstCasualWin\", \"Achievement! Casually Winning!\", enqueueSnackbar);\n      }\n\n      history.go(-2);\n    } catch (error) {\n      if (isFirestoreError(error)) {\n        handleFirestoreError(error, enqueueSnackbar);\n      } else {\n        handleUncaughtError(error, \"submitScore\", enqueueSnackbar);\n      }\n    }\n  };\n\n  const createChallenge = async () => {\n    const shortLinksUrl = `https://firebasedynamiclinks.googleapis.com/v1/shortLinks?key=${process.env.REACT_APP_FIREBASE_API_KEY}`;\n    const fileIdsString = JSON.stringify(fileIds);\n\n    const link = `http://${window.location.host}/spot-the-lesion/challenge?gameMode=${gameMode}&difficulty=${difficulty}&fileIds=${fileIdsString}`;\n\n    const title = \"Spot the Lesion\";\n\n    const description = `I just scored ${\n      playerScore.total + playerScore.round\n    }! Think you can beat that?`;\n\n    try {\n      const response = await axios.post(\n        shortLinksUrl,\n        {\n          dynamicLinkInfo: {\n            domainUriPrefix: constants.domainUriPrefix,\n            link,\n            socialMetaTagInfo: {\n              socialTitle: title,\n              socialDescription: description,\n            },\n          },\n          suffix: {\n            option: \"SHORT\",\n          },\n        },\n        { timeout: constants.axiosTimeout }\n      );\n\n      setChallengeLink(response.data.shortLink);\n\n      setChallengeDialogOpen(true);\n    } catch (error) {\n      if (axios.isAxiosError(error)) {\n        handleAxiosError(error, enqueueSnackbar);\n      } else {\n        handleUncaughtError(error, \"createInvite\", enqueueSnackbar);\n      }\n    }\n  };\n\n  const onChallengeClose = () => setChallengeDialogOpen(false);\n\n  const onToggleHeatmap = () => {\n    setHeatmapLoading(!showHeatmap);\n    setShowHeatmap((prevState) => !prevState);\n  };\n\n  const onSubmitClick = () => setSubmitDialogOpen(true);\n\n  const onSubmitClose = () => setSubmitDialogOpen(false);\n\n  const onShareClick = () => setShareDialogOpen(true);\n\n  const onShareClose = () => setShareDialogOpen(false);\n\n  const onImageStatsClick = () => setImageStatsDialogOpen(true);\n\n  const onImageStatsClose = () => setImageStatsDialogOpen(false);\n\n  useHeatmap(\n    showHeatmap,\n    loadHeatmapData,\n    canvasContainer,\n    `${classes.canvas} ${classes.heatmapCanvas}`\n  );\n\n  return (\n    <>\n      <NavigationAppBar showBack>\n        <Button color=\"inherit\" disabled={!roundEnded || roundLoading} onClick={onImageStatsClick}>\n          Show Image Stats\n        </Button>\n\n        <LoadingButton\n          color=\"inherit\"\n          disabled={!roundEnded || roundLoading}\n          loading={heatmapLoading}\n          onClick={onToggleHeatmap}\n        >\n          {showHeatmap ? \"Hide Heatmap\" : \"Show Heatmap\"}\n        </LoadingButton>\n      </NavigationAppBar>\n\n      <div className={classes.container}>\n        <div className={classes.emptyDiv} />\n\n        <div className={classes.topBarCanvasContainer}>\n          <GameTopBar\n            gameMode={gameMode}\n            hintDisabled={hintedCurrent || !roundRunning}\n            onHintClick={drawHint}\n            roundTime={roundTime}\n            timerColor={timerColor}\n          />\n\n          <Card className={classes.canvasContainer} ref={canvasContainer}>\n            <canvas\n              className={clsx(classes.canvas, classes.imageCanvas)}\n              ref={canvasRef}\n              height={constants.canvasSize}\n              width={constants.canvasSize}\n            />\n\n            <canvas\n              className={clsx(classes.canvas, classes.animationCanvas)}\n              ref={animationCanvasRef}\n              height={constants.canvasSize}\n              width={constants.canvasSize}\n              onClick={onCanvasClick}\n            />\n          </Card>\n        </div>\n\n        <GameSideBar\n          gameMode={gameMode}\n          gameStarted={roundNumber > 0}\n          gameEnded={gameEnded}\n          roundEnded={roundEnded}\n          roundLoading={roundLoading}\n          showIncrement={showIncrement}\n          onStartRound={startRound}\n          onSubmitClick={onSubmitClick}\n          onShareClick={onShareClick}\n          onChallenge={createChallenge}\n          playerScore={playerScore}\n          aiScore={aiScore}\n        />\n      </div>\n\n      <SubmitScoreDialog open={submitDialogOpen} onClose={onSubmitClose} onSubmit={submitScore} />\n\n      <ShareScoreDialog\n        open={shareDialogOpen}\n        onClose={onShareClose}\n        score={playerScore.total + playerScore.round}\n      />\n\n      <ChallengeDialog open={challengeDialogOpen} onClose={onChallengeClose} link={challengeLink} />\n\n      <ImageStatsDialog\n        open={imageStatsDialogOpen}\n        onClose={onImageStatsClose}\n        imageData={imageData}\n      />\n    </>\n  );\n};\n\nexport default Game;\n","import React from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport {\n  getDifficultyOrDefault,\n  getFileIdsOrDefault,\n  getGameModeOrDefault,\n} from \"../../utils/gameUtils\";\nimport Game from \"./Game\";\n\ntype GameRouteProps = Omit<RouteComponentProps<never>, \"match\">;\n\nconst GameRoute: React.FC<GameRouteProps> = ({ history, location }: GameRouteProps) => {\n  const query = new URLSearchParams(location.search);\n\n  const gameMode = getGameModeOrDefault(query.get(\"gameMode\"));\n  const difficulty = getDifficultyOrDefault(query.get(\"difficulty\"));\n  const fileIds = getFileIdsOrDefault(query.get(\"fileIds\"));\n\n  const gameModeParam = `gameMode=${fileIds ? \"competitive\" : gameMode}`;\n  const difficultyParam = `&difficulty=${difficulty}`;\n  const fileIdsParam = fileIds ? `&fileIds=${JSON.stringify(fileIds)}` : \"\";\n\n  const search = `?${gameModeParam}${difficultyParam}${fileIdsParam}`;\n\n  if (location.search !== search) {\n    history.replace(`/game${search}`);\n  }\n\n  return <Game gameMode={gameMode} difficulty={difficulty} challengeFileIds={fileIds} />;\n};\n\nexport default GameRoute;\n","export default __webpack_public_path__ + \"static/media/logo.dee84503.gif\";","export default __webpack_public_path__ + \"static/media/ct-scan.8d40826e.png\";","export default __webpack_public_path__ + \"static/media/brain.ce614ebc.png\";","import React, { useState } from \"react\";\nimport {\n  Button,\n  ButtonGroup,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport { NavigationAppBar } from \"../../components\";\nimport logo from \"../../res/images/home/logo.gif\";\nimport scan from \"../../res/images/home/ct-scan.png\";\nimport brain from \"../../res/images/home/brain.png\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    container: {\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n      alignItems: \"center\",\n    },\n    logo: {\n      marginTop: 16,\n      marginBottom: 24,\n      [theme.breakpoints.down(\"xs\")]: {\n        height: 200,\n      },\n      [theme.breakpoints.up(\"sm\")]: {\n        height: 300,\n      },\n    },\n    iconsAndButtonsContainer: {\n      width: \"100%\",\n      display: \"flex\",\n      justifyContent: \"space-evenly\",\n      alignItems: \"center\",\n    },\n    image: {\n      width: 250,\n      [theme.breakpoints.down(\"sm\")]: {\n        display: \"none\",\n      },\n    },\n    button: {\n      margin: 8,\n      borderRadius: 20,\n      [theme.breakpoints.only(\"xs\")]: {\n        width: 250,\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        width: 300,\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        width: 320,\n        fontSize: \"1.25rem\",\n      },\n    },\n  })\n);\n\nconst Home: React.FC = () => {\n  const [dialogOpen, setDialogOpen] = useState(false);\n\n  const history = useHistory();\n\n  const classes = useStyles();\n\n  const onPlayClick = () => {\n    if (localStorage.getItem(\"firstSession\") === \"true\") {\n      history.push(\"/game-menu\");\n    } else {\n      localStorage.setItem(\"firstSession\", \"true\");\n\n      setDialogOpen(true);\n    }\n  };\n\n  const onTutorialClick = () => history.push(\"/tutorial\");\n\n  const onLeaderboardsClick = () => history.push(\"/leaderboards\");\n\n  const onAchievementsClick = () => history.push(\"/achievements\");\n\n  const onStatisticsClick = () => history.push(\"/statistics\");\n\n  const onCreditsClick = () => history.push(\"/credits\");\n\n  return (\n    <>\n      <NavigationAppBar />\n\n      <div className={classes.container}>\n        <img className={classes.logo} src={logo} alt=\"Spot the Lesion Logo\" />\n\n        <div className={classes.iconsAndButtonsContainer}>\n          <img className={classes.image} src={scan} alt=\"Scanner\" />\n\n          <ButtonGroup orientation=\"vertical\">\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={onPlayClick}\n            >\n              Play\n            </Button>\n\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={onTutorialClick}\n            >\n              Tutorial\n            </Button>\n\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={onLeaderboardsClick}\n            >\n              Leaderboards\n            </Button>\n\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={onAchievementsClick}\n            >\n              Achievements\n            </Button>\n\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={onStatisticsClick}\n            >\n              Statistics\n            </Button>\n\n            <Button\n              className={classes.button}\n              variant=\"contained\"\n              color=\"primary\"\n              size=\"large\"\n              onClick={onCreditsClick}\n            >\n              Credits\n            </Button>\n          </ButtonGroup>\n\n          <img className={classes.image} src={brain} alt=\"Brain\" />\n        </div>\n\n        <Dialog open={dialogOpen}>\n          <DialogTitle>What about a short tutorial?</DialogTitle>\n\n          <DialogContent>\n            <DialogContentText>\n              Hey. We have noticed that this is your first time playing on this browser. We want to\n              make sure you get a feeling of what is going on before jumping in the game, so we\n              suggest you take a look at the tutorial.\n            </DialogContentText>\n          </DialogContent>\n\n          <DialogActions>\n            <Button color=\"primary\" onClick={onTutorialClick}>\n              Show me the tutorial\n            </Button>\n\n            <Button color=\"primary\" onClick={onPlayClick}>\n              I just want to play\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n","import firebase from \"firebase/app\";\nimport { getMonthName } from \"./firebaseUtils\";\nimport colors from \"../res/colors\";\nimport constants from \"../res/constants\";\n\n/**\n * Given a rank, returns its corresponding color\n *\n * @param rank Rank number, starting from 1\n *\n * @return Color string\n */\nconst getColorByRank = (rank: number): string => {\n  switch (rank) {\n    case 1:\n      return colors.gold;\n    case 2:\n      return colors.silver;\n    case 3:\n      return colors.bronze;\n    default:\n      return colors.rowDefault;\n  }\n};\n\n/**\n * Given a time index and game mode index, creates a firestore query for the corresponding entries,\n * ordered decreasingly on score\n *\n * @param timeIndex     Time index (0 - Daily, 1 - Monthly, 2 - All)\n * @param gameModeIndex Game mode index (0 - Casual, 1 - Competitive)\n *\n * @return Firestore query\n */\nconst getQueryOnTimeAndGameMode = (\n  timeIndex: number,\n  gameModeIndex: number\n): firebase.firestore.Query => {\n  const date = new Date();\n\n  const scores = gameModeIndex === 0 ? constants.scoresCasual : constants.scoresCompetitive;\n\n  const collectionRef = firebase.firestore().collection(scores);\n\n  switch (timeIndex) {\n    case 0:\n      return collectionRef\n        .where(\"year\", \"==\", date.getFullYear())\n        .where(\"month\", \"==\", getMonthName(date.getMonth()))\n        .where(\"day\", \"==\", date.getDate())\n        .orderBy(\"score\", \"desc\");\n    case 1:\n      return collectionRef\n        .where(\"year\", \"==\", date.getFullYear())\n        .where(\"month\", \"==\", getMonthName(date.getMonth()))\n        .orderBy(\"score\", \"desc\");\n    case 2:\n    default:\n      return collectionRef.orderBy(\"score\", \"desc\");\n  }\n};\n\nexport { getColorByRank, getQueryOnTimeAndGameMode };\n","import React, { useEffect, useState } from \"react\";\nimport {\n  AppBar,\n  CircularProgress,\n  Paper,\n  Tab,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Tabs,\n  Theme,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { FaMedal } from \"react-icons/fa\";\nimport clsx from \"clsx\";\nimport { HideFragment, NavigationAppBar } from \"../../components\";\nimport { handleFirestoreError } from \"../../utils/firebaseUtils\";\nimport { getColorByRank, getQueryOnTimeAndGameMode } from \"../../utils/leaderboardsUtils\";\nimport colors from \"../../res/colors\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    timeAppBar: {\n      backgroundColor: colors.primaryTabBar,\n    },\n    gameModeAppBar: {\n      backgroundColor: colors.secondaryTabBar,\n    },\n    tabIndicator: {\n      backgroundColor: colors.tabIndicator,\n    },\n    tab: {\n      fontSize: \"1rem\",\n    },\n    container: {\n      flex: 1,\n      height: 0,\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      padding: 24,\n    },\n    tableContainer: {\n      width: \"81%\",\n    },\n    tableCell: {\n      borderBottom: `thin solid ${colors.rowBorder}`,\n      [theme.breakpoints.down(\"xs\")]: {\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        fontSize: \"1.5rem\",\n      },\n    },\n    tableCellHead: {\n      color: colors.headerText,\n      backgroundColor: colors.header,\n    },\n  })\n);\n\nconst Leaderboards: React.FC = () => {\n  const [timeTabIndex, setTimeTabIndex] = useState(0);\n  const [gameModeTabIndex, setGameModeTabIndex] = useState(0);\n\n  const [rows, setRows] = useState<LeaderboardRow[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  const smallScreen = useMediaQuery((theme: Theme) => theme.breakpoints.down(\"xs\"));\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    const unsubscribe = getQueryOnTimeAndGameMode(timeTabIndex, gameModeTabIndex).onSnapshot(\n      (snapshot) => {\n        const seenUsers = new Set<string>();\n        const newRows: LeaderboardRow[] = [];\n        let prevRow: LeaderboardRow = { user: \"\", score: -1, rank: 0 };\n\n        snapshot.forEach((doc) => {\n          const { user, score } = doc.data() as FirestoreScoreData;\n\n          if (seenUsers.has(user)) {\n            return;\n          }\n\n          const { score: prevScore, rank: prevRank } = prevRow;\n\n          const rank = score === prevScore ? prevRank : prevRank + 1;\n\n          const row = { user, score, rank };\n\n          seenUsers.add(user);\n          newRows.push(row);\n          prevRow = row;\n        });\n\n        setRows(newRows);\n\n        setLoading(false);\n      },\n      (error) => handleFirestoreError(error)\n    );\n\n    return () => unsubscribe();\n  }, [gameModeTabIndex, timeTabIndex]);\n\n  const onTimeTabChange = (_event, newValue: number) => setTimeTabIndex(newValue);\n\n  const onGameModeTabChange = (_event, newValue: number) => setGameModeTabIndex(newValue);\n\n  return (\n    <>\n      <NavigationAppBar showBack />\n\n      <AppBar className={classes.timeAppBar} position=\"sticky\">\n        <Tabs\n          classes={{ indicator: classes.tabIndicator }}\n          variant={smallScreen ? \"fullWidth\" : \"standard\"}\n          centered\n          value={timeTabIndex}\n          onChange={onTimeTabChange}\n        >\n          <Tab className={classes.tab} label=\"Daily\" />\n\n          <Tab className={classes.tab} label=\"Monthly\" />\n\n          <Tab className={classes.tab} label=\"All Time\" />\n        </Tabs>\n      </AppBar>\n\n      <AppBar className={classes.gameModeAppBar} position=\"sticky\">\n        <Tabs\n          classes={{ indicator: classes.tabIndicator }}\n          variant={smallScreen ? \"fullWidth\" : \"standard\"}\n          centered\n          value={gameModeTabIndex}\n          onChange={onGameModeTabChange}\n        >\n          <Tab className={classes.tab} label=\"Casual\" />\n\n          <Tab className={classes.tab} label=\"Competitive\" />\n        </Tabs>\n      </AppBar>\n\n      <div className={classes.container}>\n        <HideFragment hide={!loading}>\n          <CircularProgress color=\"primary\" size={64} />\n        </HideFragment>\n\n        <HideFragment hide={loading}>\n          <TableContainer className={classes.tableContainer} component={Paper}>\n            <Table stickyHeader>\n              <TableHead>\n                <TableRow>\n                  <TableCell\n                    className={clsx(classes.tableCell, classes.tableCellHead)}\n                    align=\"center\"\n                  >\n                    Rank\n                  </TableCell>\n\n                  <TableCell\n                    className={clsx(classes.tableCell, classes.tableCellHead)}\n                    align=\"center\"\n                  >\n                    Player\n                  </TableCell>\n\n                  <TableCell\n                    className={clsx(classes.tableCell, classes.tableCellHead)}\n                    align=\"center\"\n                  >\n                    Score\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n\n              <TableBody>\n                {rows.map(({ user, score, rank }) => (\n                  <TableRow key={user} style={{ backgroundColor: getColorByRank(rank) }}>\n                    <TableCell className={classes.tableCell} align=\"center\">\n                      {rank <= 3 ? <FaMedal /> : null} {rank}\n                    </TableCell>\n\n                    <TableCell\n                      className={classes.tableCell}\n                      component=\"th\"\n                      scope=\"row\"\n                      align=\"center\"\n                    >\n                      {user}\n                    </TableCell>\n\n                    <TableCell className={classes.tableCell} align=\"center\">\n                      {score}\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </HideFragment>\n      </div>\n    </>\n  );\n};\n\nexport default Leaderboards;\n","export default __webpack_public_path__ + \"static/media/notFound.3605c4a8.gif\";","import React from \"react\";\nimport { Button, Typography } from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport notFound from \"../../res/images/404/notFound.gif\";\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    container: {\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n      alignItems: \"center\",\n    },\n    gif: {\n      marginTop: 16,\n      marginBottom: 24,\n      [theme.breakpoints.down(\"xs\")]: {\n        height: 200,\n      },\n      [theme.breakpoints.up(\"sm\")]: {\n        height: 300,\n      },\n    },\n    error404Text: {\n      fontSize: \"3rem\",\n      fontWeight: \"bold\",\n      [theme.breakpoints.only(\"xs\")]: {\n        fontSize: \"150%\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        fontSize: \"1.5rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        fontSize: \"3rem\",\n      },\n    },\n    returnButton: {\n      borderRadius: 20,\n      [theme.breakpoints.only(\"xs\")]: {\n        width: 300,\n        height: 50,\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        width: 350,\n        height: 58,\n        fontSize: \"1rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        width: 370,\n        height: 61,\n        fontSize: \"1.25rem\",\n      },\n    },\n  })\n);\n\nconst PageNotFound: React.FC = () => {\n  const history = useHistory();\n\n  const classes = useStyles();\n\n  const onReturnClick = () => history.push(\"/\");\n\n  return (\n    <div className={classes.container}>\n      <img className={classes.gif} src={notFound} alt=\"404 Not Found gif\" />\n\n      <Typography className={classes.error404Text}>404 - Page Not Found</Typography>\n\n      <Button\n        className={classes.returnButton}\n        variant=\"contained\"\n        color=\"primary\"\n        size=\"large\"\n        onClick={onReturnClick}\n      >\n        Go To Main Menu\n      </Button>\n    </div>\n  );\n};\n\nexport default PageNotFound;\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport {\n  AppBar,\n  Button,\n  ButtonGroup,\n  Card,\n  CircularProgress,\n  Slide,\n  Tab,\n  Tabs,\n  Theme,\n  Typography,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { ArrowBack, ArrowForward } from \"@material-ui/icons\";\nimport firebase from \"firebase/app\";\nimport { ResponsivePie } from \"@nivo/pie\";\nimport { HideFragment, NavigationAppBar } from \"../../components\";\nimport { handleFirestoreError } from \"../../utils/firebaseUtils\";\nimport colors from \"../../res/colors\";\nimport constants from \"../../res/constants\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    appBar: {\n      backgroundColor: colors.primaryTabBar,\n    },\n    tabIndicator: {\n      backgroundColor: colors.tabIndicator,\n    },\n    tab: {\n      fontSize: \"1rem\",\n    },\n    container: {\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n      alignItems: \"center\",\n      overflowX: \"hidden\",\n    },\n    card: {\n      height: \"80%\",\n      width: \"80%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n      alignItems: \"center\",\n    },\n    title: {\n      fontWeight: \"bold\",\n    },\n    pieContainer: {\n      height: \"60vh\",\n      width: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n  })\n);\n\nconst defaultStatsData: StatsData = {\n  aiWins: 0,\n  humanWins: 0,\n  draws: 0,\n  hints: 0,\n  noHints: 0,\n};\n\nconst numSlides = 2;\n\nconst Statistics: React.FC = () => {\n  const [tabIndex, setTabIndex] = useState(0);\n\n  const [slideIndex, setSlideIndex] = useState(0);\n  const [slideIn, setSlideIn] = useState(true);\n  const [slideDirection, setSlideDirection] = useState<\"left\" | \"right\">(\"left\");\n\n  const [statsData, setStatsData] = useState(defaultStatsData);\n  const [loading, setLoading] = useState(true);\n\n  const smallScreen = useMediaQuery((theme: Theme) => theme.breakpoints.down(\"xs\"));\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    const scores = tabIndex === 0 ? constants.scoresCasual : constants.scoresCompetitive;\n\n    const unsubscribe = firebase\n      .firestore()\n      .collection(scores)\n      .onSnapshot(\n        (snapshot) => {\n          let humanWins = 0;\n          let aiWins = 0;\n          let draws = 0;\n          let hints = 0;\n\n          snapshot.forEach((doc) => {\n            const { score, ai_score: aiScore, usedHints } = doc.data() as FirestoreScoreData;\n\n            if (score > aiScore) {\n              humanWins += 1;\n            } else if (aiScore > score) {\n              aiWins += 1;\n            } else {\n              draws += 1;\n            }\n\n            hints += usedHints ? 1 : 0;\n          });\n\n          setStatsData({\n            humanWins,\n            aiWins,\n            draws,\n            hints,\n            noHints: snapshot.size - hints,\n          });\n\n          setLoading(false);\n        },\n        (error) => handleFirestoreError(error)\n      );\n\n    return () => unsubscribe();\n  }, [tabIndex]);\n\n  const [title, data] = useMemo(() => {\n    const { aiWins, humanWins, draws, hints, noHints } = statsData;\n\n    if (slideIndex === 0) {\n      return [\n        \"Human vs AI\",\n        [\n          {\n            id: \"AI Wins\",\n            label: \"AI Wins\",\n            value: aiWins,\n            color: colors.pieAllAiWins,\n          },\n          {\n            id: \"Human Wins\",\n            label: \"Human Wins\",\n            value: humanWins,\n            color: colors.pieAllHumanWins,\n          },\n          {\n            id: \"Draws\",\n            label: \"Draws\",\n            value: draws,\n            color: colors.pieAllDraws,\n          },\n        ],\n      ];\n    }\n\n    return [\n      \"How many players used hints\",\n      [\n        {\n          id: \"Hints\",\n          label: \"Hints\",\n          value: hints,\n          color: colors.pieAllHints,\n        },\n        {\n          id: \"No hints\",\n          label: \"No hints\",\n          value: noHints,\n          color: colors.pieAllNoHints,\n        },\n      ],\n    ];\n  }, [slideIndex, statsData]);\n\n  const onTabChange = async (_event, newValue: number) => setTabIndex(newValue);\n\n  const onArrowClick = (direction: \"left\" | \"right\") => {\n    setSlideDirection(direction);\n    setSlideIn(false);\n  };\n\n  const onSlideExited = () => {\n    const increment = slideDirection === \"left\" ? -1 : 1;\n    const newIndex = (slideIndex + increment + numSlides) % numSlides;\n\n    setSlideIndex(newIndex);\n    setSlideDirection((prevState) => (prevState === \"left\" ? \"right\" : \"left\"));\n    setSlideIn(true);\n  };\n\n  return (\n    <>\n      <NavigationAppBar showBack />\n\n      <AppBar className={classes.appBar} position=\"sticky\">\n        <Tabs\n          classes={{ indicator: classes.tabIndicator }}\n          variant={smallScreen ? \"fullWidth\" : \"standard\"}\n          centered\n          value={tabIndex}\n          onChange={onTabChange}\n        >\n          <Tab className={classes.tab} label=\"Casual\" />\n\n          <Tab className={classes.tab} label=\"Competitive\" />\n        </Tabs>\n      </AppBar>\n\n      <div className={classes.container}>\n        <Slide\n          appear={false}\n          in={slideIn}\n          direction={slideDirection}\n          timeout={{ enter: 400, exit: 400 }}\n          onExited={onSlideExited}\n        >\n          <Card className={classes.card}>\n            <Typography className={classes.title}>{title}</Typography>\n\n            <div className={classes.pieContainer}>\n              <HideFragment hide={!loading}>\n                <CircularProgress color=\"secondary\" size={64} />\n              </HideFragment>\n\n              <HideFragment hide={loading}>\n                <ResponsivePie\n                  data={data}\n                  innerRadius={0.5}\n                  padAngle={0.7}\n                  cornerRadius={3}\n                  margin={{ top: 40, right: 80, bottom: 80, left: 80 }}\n                  colors={{ datum: \"data.color\" }}\n                  borderWidth={1}\n                  borderColor={{ from: \"color\", modifiers: [[\"darker\", 1]] }}\n                  enableRadialLabels={false}\n                  enableSliceLabels={false}\n                  defs={[\n                    {\n                      id: \"dots\",\n                      type: \"patternDots\",\n                      background: \"inherit\",\n                      color: \"rgba(255,255,255,0.3)\",\n                      size: 4,\n                      padding: 1,\n                      stagger: true,\n                    },\n                    {\n                      id: \"lines\",\n                      type: \"patternLines\",\n                      background: \"inherit\",\n                      color: \"rgba(255,255,255,0.3)\",\n                      rotation: -45,\n                      lineWidth: 6,\n                      spacing: 10,\n                    },\n                  ]}\n                  fill={[\n                    {\n                      match: {\n                        id: \"Human Wins\",\n                      },\n                      id: \"dots\",\n                    },\n                    {\n                      match: {\n                        id: \"AI Wins\",\n                      },\n                      id: \"lines\",\n                    },\n                  ]}\n                  legends={[\n                    {\n                      anchor: \"bottom\",\n                      direction: smallScreen ? \"column\" : \"row\",\n                      justify: false,\n                      translateY: 70,\n                      itemWidth: 75,\n                      itemHeight: 18,\n                      itemsSpacing: smallScreen ? 5 : 75,\n                      itemTextColor: colors.legendText,\n                      symbolSize: 18,\n                      symbolShape: \"circle\",\n                      effects: [\n                        {\n                          on: \"hover\",\n                          style: {\n                            itemTextColor: colors.legendTextHover,\n                          },\n                        },\n                      ],\n                    },\n                  ]}\n                />\n              </HideFragment>\n            </div>\n          </Card>\n        </Slide>\n\n        <ButtonGroup size=\"large\">\n          <Button color=\"primary\" variant=\"contained\" onClick={() => onArrowClick(\"left\")}>\n            <ArrowBack />\n          </Button>\n\n          <Button color=\"primary\" variant=\"contained\" onClick={() => onArrowClick(\"right\")}>\n            <ArrowForward />\n          </Button>\n        </ButtonGroup>\n      </div>\n    </>\n  );\n};\n\nexport default Statistics;\n","import React, { ReactNode } from \"react\";\nimport { Card, Typography } from \"@material-ui/core\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\n\ninterface TutorialCardProps {\n  tutorialItem: TutorialItem;\n  className?: string;\n  children?: ReactNode;\n}\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    container: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      boxSizing: \"border-box\",\n      padding: 24,\n    },\n    textContainer: {\n      flex: 1,\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n    },\n    text: {\n      [theme.breakpoints.only(\"xs\")]: {\n        fontSize: \"1.25rem\",\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        fontSize: \"1.5rem\",\n      },\n      [theme.breakpoints.up(\"md\")]: {\n        fontSize: \"2rem\",\n      },\n    },\n    imageContainer: {\n      flex: 3,\n      height: \"0%\",\n      width: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n    },\n    image: {\n      maxWidth: \"100%\",\n      maxHeight: \"100%\",\n    },\n  })\n);\n\nconst TutorialCard = React.forwardRef<JSX.Element, TutorialCardProps>(\n  ({ children, className, tutorialItem: { text, imageSrc } }, ref) => {\n    const classes = useStyles();\n\n    return (\n      <Card className={clsx(classes.container, className)} ref={ref}>\n        <div className={classes.textContainer}>\n          <Typography className={classes.text}>{text}</Typography>\n        </div>\n\n        <div\n          className={classes.imageContainer}\n          style={{ display: imageSrc === undefined ? \"none\" : \"\" }}\n        >\n          <img className={classes.image} src={imageSrc} alt=\"Tutorial card\" />\n        </div>\n\n        {children}\n      </Card>\n    );\n  }\n);\n\nTutorialCard.displayName = \"TutorialCard\";\n\nexport default TutorialCard;\n","export default __webpack_public_path__ + \"static/media/doctor.f4b8885c.png\";","export default __webpack_public_path__ + \"static/media/start screen.6f2b542d.png\";","export default __webpack_public_path__ + \"static/media/help.95632fe4.png\";","export default __webpack_public_path__ + \"static/media/answer.82e40a92.png\";","export default __webpack_public_path__ + \"static/media/scoring.3d7777e7.png\";","export default __webpack_public_path__ + \"static/media/hourglass.c3f5103b.png\";","export default __webpack_public_path__ + \"static/media/giftbox.a742d657.png\";","export default __webpack_public_path__ + \"static/media/wrong ai.db09e69c.png\";","export default __webpack_public_path__ + \"static/media/right ai.88e3cfbf.png\";","export default __webpack_public_path__ + \"static/media/calm.5ae04875.png\";","export default __webpack_public_path__ + \"static/media/mystery.0973cad0.png\";","export default __webpack_public_path__ + \"static/media/application.471e58b3.png\";","export default __webpack_public_path__ + \"static/media/lesion.0feb87cc.png\";","import doctor from \"../../res/images/tutorial/doctor.png\";\nimport start_screen from \"../../res/images/tutorial/start screen.png\";\nimport strategy_game from \"../../res/images/tutorial/strategy_game.png\";\nimport help from \"../../res/images/tutorial/help.png\";\nimport answer from \"../../res/images/tutorial/answer.png\";\nimport points from \"../../res/images/tutorial/scoring.png\";\nimport hourglass from \"../../res/images/tutorial/hourglass.png\";\nimport giftbox from \"../../res/images/tutorial/giftbox.png\";\nimport wrong_ai from \"../../res/images/tutorial/wrong ai.png\";\nimport ai_answer from \"../../res/images/tutorial/right ai.png\";\nimport calm from \"../../res/images/tutorial/calm.png\";\nimport hint from \"../../res/images/tutorial/mystery.png\";\nimport application from \"../../res/images/tutorial/application.png\";\nimport lesion from \"../../res/images/tutorial/lesion.png\";\n\nconst tutorialHowToPlayItems: TutorialItem[] = [\n  {\n    text: \"Welcome to Spot-the-Lesion!\",\n    imageSrc: doctor,\n  },\n  {\n    text:\n      \"Youll receive a sample of a CT scan like this one below, and youll have to find the lesion present in it.\",\n    imageSrc: start_screen,\n  },\n  {\n    text: \"There are 2 game modes: competitive and casual\",\n    imageSrc: strategy_game,\n  },\n  {\n    text:\n      \"In the competitive mode you have 10 seconds to click on the region of the scan where you think the lesion is located.\",\n    imageSrc: start_screen,\n  },\n  {\n    text:\n      \"After 5 seconds, a hint will appear - the red circle indicates the part of the image which you should look at.\",\n    imageSrc: help,\n  },\n  {\n    text: \"When you click on the CT scan, an orange cross will appear\",\n    imageSrc: answer,\n  },\n  {\n    text:\n      \"If your click was correct, then youll see a green (+) and points added in the card near the CT scan\",\n    imageSrc: points,\n  },\n  {\n    text: \"The faster you answer, the more points you score (10 * time remaining)...\",\n    imageSrc: hourglass,\n  },\n  {\n    text: \"...and if you answer without a hint, you get double the points\",\n    imageSrc: giftbox,\n  },\n  {\n    text: \"Youll also see the AIs prediction on the lesion, marked in red\",\n    imageSrc: wrong_ai,\n  },\n  {\n    text: \"Finally, you will see the correct answer marked in green.\",\n    imageSrc: ai_answer,\n  },\n  {\n    text:\n      \"In the casual game mode, you can take your time when answering, as there is no time limit per picture\",\n    imageSrc: calm,\n  },\n  {\n    text: \"If you want some help, you can use the hint button located on top of the CT scan image\",\n    imageSrc: hint,\n  },\n  {\n    text: \"You can play as much as you want and when you are done you can just submit your score\",\n    imageSrc: application,\n  },\n  {\n    text: \"That's it! Now, can you spot more lesions than the AI?\",\n  },\n];\n\nconst tutorialLesionsItems: TutorialItem[] = [\n  {\n    text:\n      \"A lesion is any damage or abnormal change in the tissue, being of a different colour than surrounding tissue.\",\n    imageSrc: lesion,\n  },\n];\n\nexport { tutorialHowToPlayItems, tutorialLesionsItems };\n","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from \"react\";\nimport {\n  AppBar,\n  Button,\n  ButtonGroup,\n  Slide,\n  Tab,\n  Tabs,\n  Theme,\n  useMediaQuery,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { ArrowBack, ArrowForward } from \"@material-ui/icons\";\nimport { useHistory } from \"react-router-dom\";\nimport { HideFragment, NavigationAppBar, TabPanel } from \"../../components\";\nimport TutorialCard from \"./TutorialCard\";\nimport { tutorialHowToPlayItems, tutorialLesionsItems } from \"./tutorialItems\";\nimport colors from \"../../res/colors\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    appBar: {\n      backgroundColor: colors.primaryTabBar,\n    },\n    tabIndicator: {\n      backgroundColor: colors.tabIndicator,\n    },\n    tab: {\n      fontSize: \"1rem\",\n    },\n    container: {\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-evenly\",\n      alignItems: \"center\",\n      overflowX: \"hidden\",\n    },\n    tutorialCard: {\n      width: \"80%\",\n      height: \"80%\",\n    },\n    playButtonContainer: {\n      flex: 1,\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n    },\n    playButton: {\n      borderRadius: 20,\n      fontSize: \"3rem\",\n    },\n  })\n);\n\nconst numSlides = tutorialHowToPlayItems.length;\n\nconst Tutorial: React.FC = () => {\n  const [tabIndex, setTabIndex] = useState(0);\n\n  const [slideIndex, setSlideIndex] = useState(0);\n  const [slideIn, setSlideIn] = useState(true);\n  const [slideDirection, setSlideDirection] = useState<\"left\" | \"right\">(\"left\");\n\n  const smallScreen = useMediaQuery((theme: Theme) => theme.breakpoints.down(\"xs\"));\n\n  const history = useHistory();\n\n  const classes = useStyles();\n\n  const onTabChange = async (_event, newValue: number) => setTabIndex(newValue);\n\n  const onArrowClick = (direction: \"left\" | \"right\") => {\n    setSlideDirection(direction);\n    setSlideIn(false);\n  };\n\n  const onSlideExited = () => {\n    const increment = slideDirection === \"left\" ? -1 : 1;\n    const newIndex = (slideIndex + increment + numSlides) % numSlides;\n\n    setSlideIndex(newIndex);\n    setSlideDirection((prevState) => (prevState === \"left\" ? \"right\" : \"left\"));\n    setSlideIn(true);\n  };\n\n  useEffect(() => {\n    const onKeyDown = (event: KeyboardEvent) => {\n      if (event.key === \"ArrowLeft\") {\n        onArrowClick(\"left\");\n      }\n\n      if (event.key === \"ArrowRight\") {\n        onArrowClick(\"right\");\n      }\n    };\n\n    window.addEventListener(\"keydown\", onKeyDown);\n\n    return () => window.removeEventListener(\"keydown\", onKeyDown);\n  });\n\n  const onPlayClick = () => history.replace(\"/game-menu\");\n\n  return (\n    <>\n      <NavigationAppBar showBack />\n\n      <AppBar className={classes.appBar} position=\"sticky\">\n        <Tabs\n          classes={{ indicator: classes.tabIndicator }}\n          variant={smallScreen ? \"fullWidth\" : \"standard\"}\n          centered\n          value={tabIndex}\n          onChange={onTabChange}\n        >\n          <Tab className={classes.tab} label=\"How to Play\" />\n\n          <Tab className={classes.tab} label=\"Lesions\" />\n        </Tabs>\n      </AppBar>\n\n      <div className={classes.container}>\n        <TabPanel value={tabIndex} index={0}>\n          <Slide\n            appear={false}\n            in={slideIn}\n            direction={slideDirection}\n            timeout={{ enter: 400, exit: 400 }}\n            onExited={onSlideExited}\n          >\n            <TutorialCard\n              className={classes.tutorialCard}\n              tutorialItem={tutorialHowToPlayItems[slideIndex]}\n            >\n              <HideFragment hide={slideIndex !== 14}>\n                <div className={classes.playButtonContainer}>\n                  <Button\n                    className={classes.playButton}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"large\"\n                    onClick={onPlayClick}\n                  >\n                    Play\n                  </Button>\n                </div>\n              </HideFragment>\n            </TutorialCard>\n          </Slide>\n\n          <ButtonGroup size=\"large\">\n            <Button color=\"primary\" variant=\"contained\" onClick={() => onArrowClick(\"left\")}>\n              <ArrowBack />\n            </Button>\n\n            <Button color=\"primary\" variant=\"contained\" onClick={() => onArrowClick(\"right\")}>\n              <ArrowForward />\n            </Button>\n          </ButtonGroup>\n        </TabPanel>\n\n        <TabPanel value={tabIndex} index={1}>\n          <TutorialCard className={classes.tutorialCard} tutorialItem={tutorialLesionsItems[0]} />\n        </TabPanel>\n      </div>\n    </>\n  );\n};\n\nexport default Tutorial;\n","import React, { useCallback } from \"react\";\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport { useSessionState } from \"./hooks\";\nimport Achievements from \"./screens/achievements/Achievements\";\nimport Admin from \"./screens/admin/Admin\";\nimport AdminAuthContext from \"./screens/admin/AdminAuthContext\";\nimport AdminLogin from \"./screens/admin/AdminLogin\";\nimport GameSettings from \"./screens/admin/GameSettings\";\nimport FileUpload from \"./screens/admin/FileUpload\";\nimport Credits from \"./screens/credits/Credits\";\nimport GameMenu from \"./screens/game/GameMenu\";\nimport GameRoute from \"./screens/game/GameRoute\";\nimport Home from \"./screens/home/Home\";\nimport Leaderboards from \"./screens/leaderboards/Leaderboards\";\nimport PageNotFound from \"./screens/404/PageNotFound\";\nimport Statistics from \"./screens/statistics/Statistics\";\nimport Tutorial from \"./screens/tutorial/Tutorial\";\n\nconst useStyles = makeStyles(() =>\n  createStyles({\n    container: {\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n    },\n  })\n);\n\nconst Router: React.FC = () => {\n  const [adminLoggedIn, setAdminLoggedIn] = useSessionState(false, \"adminLoggedIn\");\n\n  const classes = useStyles();\n\n  const adminLogIn = useCallback(() => setAdminLoggedIn(true), [setAdminLoggedIn]);\n\n  return (\n    <AdminAuthContext.Provider value={{ adminLoggedIn, adminLogIn }}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <div className={classes.container}>\n          <Switch>\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n\n            <Route exact path=\"/achievements\">\n              <Achievements />\n            </Route>\n\n            <ProtectedRoute exact path=\"/admin\" show={adminLoggedIn} redirectTo=\"/admin-login\">\n              <Admin />\n            </ProtectedRoute>\n\n            <ProtectedRoute exact path=\"/admin-login\" show={!adminLoggedIn} redirectTo=\"/admin\">\n              <AdminLogin />\n            </ProtectedRoute>\n\n            <ProtectedRoute\n              exact\n              path=\"/admin/game-settings\"\n              show={adminLoggedIn}\n              redirectTo=\"/admin-login\"\n            >\n              <GameSettings />\n            </ProtectedRoute>\n\n            <ProtectedRoute\n              exact\n              path=\"/admin/file-upload\"\n              show={adminLoggedIn}\n              redirectTo=\"/admin-login\"\n            >\n              <FileUpload />\n            </ProtectedRoute>\n\n            <Route\n              exact\n              path=\"/challenge\"\n              render={({ history, location }) => {\n                history.replace(\"/\");\n                history.push(\"/game-menu\");\n                history.push(`/game${location.search}`);\n\n                return null;\n              }}\n            />\n\n            <Route exact path=\"/credits\">\n              <Credits />\n            </Route>\n\n            <Route\n              exact\n              path=\"/game\"\n              render={({ history, location }) => (\n                <GameRoute history={history} location={location} />\n              )}\n            />\n\n            <Route exact path=\"/game-menu\">\n              <GameMenu />\n            </Route>\n\n            <Route exact path=\"/leaderboards\">\n              <Leaderboards />\n            </Route>\n\n            <Route exact path=\"/statistics\">\n              <Statistics />\n            </Route>\n\n            <Route exact path=\"/tutorial\">\n              <Tutorial />\n            </Route>\n\n            <Route path=\"*\">\n              <PageNotFound />\n            </Route>\n          </Switch>\n        </div>\n      </BrowserRouter>\n    </AdminAuthContext.Provider>\n  );\n};\n\nexport default Router;\n","import React, { useEffect, useState } from \"react\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { SnackbarProvider } from \"notistack\";\nimport { getGlobalVariables, initializeFirebase } from \"./firebase/firebaseApp\";\nimport { HideFragment } from \"./components\";\nimport Loading from \"./screens/loading/Loading\";\nimport Router from \"./Router\";\nimport colors from \"./res/colors\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: colors.primary,\n    },\n    secondary: {\n      main: colors.secondary,\n    },\n  },\n});\n\nconst App: React.FC = () => {\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const initializeApp = async () => {\n      if (!(await initializeFirebase()) || !(await getGlobalVariables())) {\n        console.warn(\"App initialization unsuccessful\");\n      }\n\n      setLoading(false);\n    };\n\n    initializeApp().then(() => {});\n  }, []);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <SnackbarProvider maxSnack={2} preventDuplicate>\n        <HideFragment hide={!loading}>\n          <Loading />\n        </HideFragment>\n\n        <HideFragment hide={loading}>\n          <Router />\n        </HideFragment>\n      </SnackbarProvider>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"@fontsource/roboto/300.css\";\nimport \"@fontsource/roboto/400.css\";\nimport \"@fontsource/roboto/500.css\";\nimport \"@fontsource/roboto/700.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}