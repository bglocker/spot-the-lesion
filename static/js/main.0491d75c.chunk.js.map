{"version":3,"sources":["res/constants.ts","utils/axiosUtils.ts","utils/errorUtils.ts","utils/firebaseUtils.ts","res/variables.ts","firebase/firebaseApp.ts","components/ColoredLinearProgress.tsx","components/HideFragment.tsx","components/LightTooltip.tsx","components/LoadingButton.tsx","components/NavigationAppBar.tsx","components/ProtectedRoute.tsx","res/colors.ts","components/ScoreWithIncrement.tsx","components/TabPanel.tsx","components/ToggleButton.tsx","components/ToggleButtonGroup.tsx","screens/loading/Loading.tsx","utils/numberUtils.ts","hooks/useArrayGenerator.ts","hooks/useCanvasContext.ts","hooks/useHeatmap.ts","hooks/useInterval.ts","hooks/useSessionState.ts","hooks/useUniqueRandomGenerator.ts","utils/arrayUtils.ts","res/images/achievements/block.png","res/images/achievements/tick.png","res/images/achievements/investigation.png","res/images/achievements/medal.png","res/images/achievements/trophy.png","res/images/achievements/5.png","res/images/achievements/summit.png","res/images/achievements/brainstorm.png","res/images/achievements/flash.png","res/images/achievements/timer.png","res/images/achievements/confetti.png","screens/achievements/achievementItems.ts","screens/achievements/Achievements.tsx","screens/admin/Admin.tsx","screens/admin/AdminAuthContext.ts","screens/admin/AdminLogin.tsx","screens/admin/GameSettings.tsx","utils/fileUtils.ts","screens/admin/FileUpload.tsx","utils/creditsUtils.ts","res/images/credits/imperial.png","res/images/credits/mira.png","screens/credits/Credits.tsx","screens/game/GameMenu.tsx","utils/canvasUtils.ts","utils/gameUtils.ts","screens/game/GameTopBar.tsx","screens/game/GameSideBar.tsx","screens/game/SubmitScoreDialog.tsx","screens/game/ShareScoreDialog.tsx","screens/game/ChallengeDialog.tsx","screens/game/ImageStatsDialog.tsx","screens/game/useFileIdGenerator.ts","screens/game/Game.tsx","screens/game/GameRoute.tsx","res/images/home/logo.gif","res/images/home/ct-scan.png","res/images/home/brain.png","screens/home/Home.tsx","utils/leaderboardsUtils.ts","screens/leaderboards/Leaderboards.tsx","res/images/404/notFound.gif","screens/404/PageNotFound.tsx","screens/statistics/Statistics.tsx","screens/tutorial/TutorialCard.tsx","res/images/tutorial/doctor.png","res/images/tutorial/start screen.png","res/images/tutorial/help.png","res/images/tutorial/answer.png","res/images/tutorial/scoring.png","res/images/tutorial/hourglass.png","res/images/tutorial/giftbox.png","res/images/tutorial/wrong ai.png","res/images/tutorial/right ai.png","res/images/tutorial/calm.png","res/images/tutorial/mystery.png","res/images/tutorial/application.png","res/images/tutorial/lesion.png","screens/tutorial/tutorialItems.ts","res/images/tutorial/strategy_game.png","screens/tutorial/Tutorial.tsx","Router.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["constants","numberOfAchievements","axiosTimeout","defaultImageSize","domainUriPrefix","scoresCasual","scoresCompetitive","images","difficulty","maxOperationRetryTime","animationCubesNumber","canvasSize","animationLineWidth","clickLineWidth","clickSize","hintRange","predictedLineWidth","roundEndTextSize","roundEndTextLineWidth","truthLineWidth","drawPredictedTime","drawTruthTime","evaluationTime","redTime","achievementSnackbarOptions","anchorOrigin","vertical","horizontal","autoHideDuration","variant","errorSnackbarOptions","informationSnackbarOptions","successSnackbarOptions","uploadFilesSnackbarOptions","handleAxiosError","error","enqueueSnackbar","response","console","status","headers","data","request","message","logAxiosError","includes","handleImageLoadError","logImageLoadError","handleUncaughtError","fnName","logUncaughtError","months","getMonthName","month","Error","handleAuthError","code","logAuthError","isFirebaseStorageError","undefined","startsWith","handleFirebaseStorageError","logFirebaseStorageError","isFirestoreError","handleFirestoreError","logFirestoreError","variables","aiScoreMultiplier","roundsNumber","hintLineWidth","hintRadius","animationDuration","hintTime","roundDuration","easyFilesNumber","mediumFilesNumber","hardFilesNumber","firebaseConfig","apiKey","process","appId","authDomain","databaseURL","storageBucket","messagingSenderId","measurementId","projectId","initializeFirebase","a","firebase","apps","length","initializeApp","auth","signInWithEmailAndPassword","storage","setMaxOperationRetryTime","getGlobalVariables","firestore","collection","doc","get","optionsSnapshot","optionsData","Object","assign","ref","getDownloadURL","url","axios","timeout","easy","medium","hard","isAxiosError","useStyles","makeStyles","theme","createStyles","root","width","backgroundColor","props","barBackgroundColor","bar","barColor","palette","primary","main","ColoredLinearProgress","other","classes","LinearProgress","HideFragment","children","hide","arrow","color","common","white","tooltip","boxShadow","shadows","fontSize","LightTooltip","Tooltip","LoadingButton","loading","disabled","Button","CircularProgress","size","backButton","marginRight","title","flexGrow","NavigationAppBar","showBack","history","useHistory","AppBar","position","Toolbar","IconButton","className","style","display","edge","aria-label","onClick","goBack","KeyboardBackspace","Typography","ProtectedRoute","show","redirectTo","to","colors","secondary","primaryTabBar","secondaryTabBar","tabIndicator","fileUploadError","fileUploadSuccess","animation","click","hint","timerInitial","timerOrange","timerRed","truth","playerCorrect","playerIncorrect","predicted","draw","playerLost","playerWon","bronze","gold","rowBorder","rowDefault","header","headerText","silver","legendText","legendTextHover","pieImageCorrectAnswers","pieImageHints","pieImageWrongAnswers","pieAllAiWins","pieAllHumanWins","pieAllDraws","pieAllHints","pieAllNoHints","positiveIncrement","zeroIncrement","text","breakpoints","down","up","incrementText","increment","showIncrement","ScoreWithIncrement","player","score","TabPanel","value","index","fade","action","active","selected","ToggleButton","onToggle","clsx","event","isValueSelected","selectedValues","indexOf","ToggleButtonGroup","exclusive","handleToggle","buttonValue","ix","newValue","slice","splice","push","handleExclusiveToggle","ButtonGroup","React","Children","map","child","isValidElement","cloneElement","container","height","flexDirection","justifyContent","alignItems","Loading","modulo","x","y","randomAround","range","Math","floor","random","useArrayGenerator","array","useState","setIx","number","prevState","useCanvasContext","context","setContext","useCallback","canvas","getContext","useHeatmap","loadData","heatmapInstance","setHeatmapInstance","useEffect","current","instance","h337","create","valueField","_renderer","removeAttribute","setData","min","max","useInterval","callback","delay","savedCallback","useRef","id","window","setInterval","clearInterval","useSessionState","defaultValue","key","sessionValue","sessionStorage","getItem","JSON","parse","_error","setValue","setItem","stringify","useUniqueRandomGenerator","start","stop","step","nums","i","randomIx","randomNum","lockedAchievement","description","image","question","achievementItems","firstCorrect","firstCorrectWithoutHint","firstCasualWin","firstCompetitiveWin","fiveCorrectAnswers","competitivePoints","allCorrectCompetitive","fastAnswer","slowAnswer","correctAnswers","flex","infoText","padding","between","gridContainer","overflow","gridItem","only","Achievements","dialogOpen","setDialogOpen","selectedAchievement","setSelectedAchievement","onDialogClose","localStorage","Grid","item","displayItem","xs","src","alt","Dialog","open","onClose","DialogTitle","DialogContent","dividers","DialogActions","buttonContainer","button","margin","borderRadius","Admin","AdminAuthContext","createContext","adminLoggedIn","adminLogIn","card","marginBottom","textAlign","formContainer","marginTop","AdminLogin","password","setPassword","showPassword","setShowPassword","showError","setShowError","useContext","onSubmitClick","then","catch","Card","TextField","autoFocus","label","required","type","helperText","onChange","target","InputProps","onKeyDown","endAdornment","InputAdornment","onMouseDown","preventDefault","Visibility","VisibilityOff","boxSizing","settingsList","settingItem","buttonGroup","GameSettings","setLoadData","currentData","setCurrentData","smallScreen","useMediaQuery","useSnackbar","setAnimationDuration","setHintTime","setHintRadius","setHintLineWidth","setRoundDuration","setRoundsNumber","name","setter","settingsSnapshot","exists","settingsData","keys","sort","prototype","hasOwnProperty","call","getData","onUpdateClick","values","setting","newData","set","onResetDefault","defaultSettingsSnapshot","defaultSettingsData","Number","changeValue","getMinValue","orientation","compareFiles","b","localeCompare","getFileNames","files","file","join","removeExtension","fileName","replace","uploadList","uploadItem","uploadButton","uploadTextField","successText","errorText","submitButton","axiosConfig","FileUpload","selectedImages","setSelectedImages","selectedJsons","setSelectedJsons","imageHelperText","setImageHelperText","jsonHelperText","setJsonHelperText","uploadSuccessful","setUploadSuccessful","resetState","accept","multiple","hidden","htmlFor","startIcon","CloudUpload","component","placeholder","FormHelperTextProps","readOnly","jsons","checkSelectedFiles","formData","FormData","append","post","successful","responseSnackbarOptions","pkgRegex","getLibrariesArray","libraries","pkg","version","licenseInfo","appBar","tab","imageContainer","justifyItems","marginLeft","list","Credits","tabIndex","setTabIndex","Tabs","indicator","centered","_event","Tab","href","imperial","mira","List","ListItem","ListItemText","selectorsContainer","selectorContainer","selectText","fontWeight","toggleButton","startButton","GameMenu","gameModes","setGameModes","difficulties","setDifficulties","newGameModes","newDifficulties","drawRectangle","ctx","rect","lineWidth","strokeStyle","xBase","xEnd","yBase","beginPath","stroke","toDefaultScale","round","toCanvasScale","mapRectangleToCanvasScale","drawRoundEndText","align","strokeWidth","fillStyle","font","lineJoin","miterLimit","strokeText","fillText","drawStrokedText","getAnnotationPath","annotationId","getFilesNumber","val","assertUnreachable","unlockAchievement","maxWidth","timer","GameTopBar","gameMode","hintDisabled","onHintClick","roundTime","timerColor","time","toFixed","alignContent","minWidth","scoresContainer","cardText","submitShareContainer","GameSideBar","gameStarted","gameEnded","roundEnded","roundLoading","onStartRound","onShareClick","onChallenge","playerScore","aiScore","challengeLoading","setChallengeLoading","useMemo","playerScoreFull","total","aiScoreFull","gameEndText","gameEndColor","onChallengeClick","SubmitScoreDialog","onSubmit","username","setUsername","setError","setLoading","onCloseDialog","DialogContentText","fullWidth","closeButton","right","spacing","top","grey","shareButton","ShareScoreDialog","TwitterShareButton","TwitterIcon","FacebookShareButton","quote","FacebookIcon","LinkedinShareButton","LinkedinIcon","EmailShareButton","subject","EmailIcon","ChallengeDialog","link","tooltipOpen","setTooltipOpen","tooltipTitle","setTooltipTitle","inputRef","selectInputText","select","setSelectionRange","onMouseEnter","onMouseLeave","document","execCommand","AssignmentTurnedInOutlined","pieContainer","zeroValueText","ImageStatsDialog","imageData","predicate","correctClicks","wrongClicks","hintCount","reduce","acc","nonZeroData","zeroData","startAngle","cornerRadius","bottom","left","datum","borderWidth","borderColor","from","modifiers","enableRadialLabels","sliceLabel","legends","anchor","direction","justify","translateY","itemWidth","itemHeight","itemsSpacing","itemTextColor","symbolSize","symbolShape","effects","on","useFileIdGenerator","challengeFileIds","getNewRandomFileId","getNewChallengeFileId","emptyDiv","topBarCanvasContainer","canvasContainer","maxHeight","imageCanvas","zIndex","animationCanvas","heatmapCanvas","defaultImageData","clicks","Game","heatmapLoading","setHeatmapLoading","showHeatmap","setShowHeatmap","submitDialogOpen","setSubmitDialogOpen","shareDialogOpen","setShareDialogOpen","imageStatsDialogOpen","setImageStatsDialogOpen","challengeDialogOpen","setChallengeDialogOpen","challengeLink","setChallengeLink","roundNumber","setRoundNumber","setGameEnded","hinted","setHinted","fileId","setFileId","fileIds","setFileIds","setTruth","setPredicted","setClick","setImageData","setRoundLoading","setRoundEnded","setShowIncrement","roundRunning","setRoundRunning","setRoundTime","endRunning","setEndRunning","endTime","setEndTime","animationRunning","setAnimationRunning","animationPosition","setAnimationPosition","setTimerColor","hintedCurrent","setHintedCurrent","setPlayerScore","playerCorrectAnswers","setPlayerCorrectAnswers","playerCorrectCurrent","setPlayerCorrectCurrent","setAiScore","aiCorrectAnswers","setAiCorrectAnswers","canvasRef","animationContext","animationCanvasRef","getNewFileId","drawHint","radius","arc","PI","drawCircle","uploadClick","correct","newClick","clickCount","existingClick","find","clk","docName","toString","newImageData","moveTo","lineTo","drawCross","casualScore","competitiveScore","roundScore","textColor","textSize","textLineWidth","intersectionOverUnion","rectA","rectB","xA","xB","yA","yB","inter","getIntersectionOverUnion","competitiveRoundScore","clearRect","cubeSide","baseX","baseY","cube","unlockAchievementHandler","msg","unsubscribe","onSnapshot","snapshot","loadAnnotation","annotation","loadImage","imageId","Promise","resolve","reject","Image","onload","drawImage","onerror","_ev","_src","_line","_col","getImagePath","startRound","newFileId","loadHeatmapData","heatmapData","submitScore","date","Date","scoreData","user","ai_score","correct_player_answers","usedHints","correct_ai_answers","day","getDate","getMonth","year","getFullYear","scores","go","createChallenge","shortLinksUrl","fileIdsString","location","host","dynamicLinkInfo","socialMetaTagInfo","socialTitle","socialDescription","suffix","option","shortLink","getBoundingClientRect","widthScale","heightScale","mapClickToCanvas","clientX","clientY","GameRoute","query","URLSearchParams","search","def","getGameModeOrDefault","getDifficultyOrDefault","getFileIdsOrDefault","gameModeParam","difficultyParam","fileIdsParam","logo","iconsAndButtonsContainer","Home","onPlayClick","onTutorialClick","scan","brain","getColorByRank","rank","timeAppBar","gameModeAppBar","tableContainer","tableCell","borderBottom","tableCellHead","Leaderboards","timeTabIndex","setTimeTabIndex","gameModeTabIndex","setGameModeTabIndex","rows","setRows","timeIndex","gameModeIndex","collectionRef","where","orderBy","getQueryOnTimeAndGameMode","seenUsers","Set","newRows","prevRow","forEach","has","prevScore","prevRank","row","add","TableContainer","Paper","Table","stickyHeader","TableHead","TableRow","TableCell","TableBody","scope","gif","error404Text","returnButton","PageNotFound","notFound","overflowX","defaultStatsData","aiWins","humanWins","draws","hints","noHints","Statistics","slideIndex","setSlideIndex","slideIn","setSlideIn","slideDirection","setSlideDirection","statsData","setStatsData","onTabChange","onArrowClick","Slide","appear","in","enter","exit","onExited","innerRadius","padAngle","enableSliceLabels","defs","background","stagger","rotation","fill","match","ArrowBack","ArrowForward","textContainer","TutorialCard","forwardRef","tutorialItem","imageSrc","displayName","tutorialHowToPlayItems","doctor","start_screen","help","answer","points","hourglass","giftbox","wrong_ai","ai_answer","calm","application","tutorialLesionsItems","lesion","tutorialCard","playButtonContainer","playButton","numSlides","Tutorial","addEventListener","removeEventListener","Router","setAdminLoggedIn","Provider","basename","exact","path","render","createMuiTheme","App","warn","ThemeProvider","maxSnack","preventDuplicate","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"8xQAsFeA,EApFG,CAEhBC,qBAAsB,GAGtBC,aAAc,IAGdC,iBAAkB,IAGlBC,gBAAiB,kCAGjBC,aAAc,qBACdC,kBAAmB,0BACnBC,OAAQ,SAACC,GAAD,uBAA8CA,IAGtDC,sBAAuB,IAGvBC,qBAAsB,GACtBC,WAAY,KAGZC,mBAAoB,IACpBC,eAAgB,IAChBC,UAAW,EACXC,UAAW,GACXC,mBAAoB,IACpBC,iBAAkB,GAClBC,sBAAuB,EACvBC,eAAgB,IAGhBC,kBAAmB,IACnBC,cAAe,IACfC,eAAgB,IAChBC,QAAS,IAGTC,2BAA4B,CAC1BC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdC,iBAAkB,IAClBC,QAAS,WAEXC,qBAAsB,CACpBL,aAAc,CACZC,SAAU,SACVC,WAAY,SAEdC,iBAAkB,IAClBC,QAAS,SAEXE,2BAA4B,CAC1BN,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdC,iBAAkB,IAClBC,QAAS,QAEXG,uBAAwB,CACtBP,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdC,iBAAkB,IAClBC,QAAS,WAEXI,2BAA4B,CAC1BR,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdC,iBAAkB,IAClBC,QAAS,YCnDPK,EAAmB,SACvBC,EACAC,GAKA,GA5BoB,SAACD,GACjBA,EAAME,SAERC,QAAQH,MAAR,yCACoCA,EAAME,SAASE,OADnD,uBACwEJ,EAAME,SAASG,QADvF,oBAC0GL,EAAME,SAASI,OAEhHN,EAAMO,QAEfJ,QAAQH,MAAR,6CAAoDA,EAAMO,UAG1DJ,QAAQH,MAAR,yCAAgDA,EAAMQ,UAcxDC,CAAcT,GAGVC,EAAiB,CACnB,IAAIO,EAAU,oBAGVR,EAAMQ,QAAQE,SAAS,aACzBF,EAAU,wDAGZP,EAAgBO,EAAS3C,EAAU8B,wBCnBjCgB,EAAuB,SAC3BX,EACAC,GAIA,GAfwB,SAACD,GACzBG,QAAQH,MAAR,yCAAgDA,EAAMQ,UAYtDI,CAAkBZ,GAEdC,EAAiB,CAGnBA,EAFgB,oBAESpC,EAAU8B,wBAoBjCkB,EAAsB,SAC1Bb,EACAc,EACAb,GAKA,GAlBuB,SAACD,EAAcc,GACtCX,QAAQH,MAAR,4BAAmCc,EAAnC,cAA+Cd,EAAMQ,UAcrDO,CAAiBf,EAAOc,GAGpBb,EAAiB,CAGnBA,EAFgB,oBAESpC,EAAU8B,wBCxDjCqB,EAAkB,CACtB,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAUIC,EAAe,SAACC,GACpB,GAAIA,EAAQ,GAAKA,EAAQ,GACvB,MAAM,IAAIC,MAAM,sDAGlB,OAAOH,EAAOE,IA2BVE,EAAkB,SACtBpB,EACAC,GAKA,GAhBmB,SAACD,GACpBG,QAAQH,MAAR,sCAA6CA,EAAMqB,KAAnD,uBAAsErB,EAAMQ,UAY5Ec,CAAatB,GAGTC,EAAiB,CAGnBA,EAFgB,oBAESpC,EAAU8B,wBAWjC4B,EAAyB,SAACvB,GAAD,YACYwB,IAAxCxB,EAA+BqB,MAC/BrB,EAA+BqB,KAAKI,WAAW,aAgB5CC,EAA6B,SACjC1B,EACAC,GAKA,GAhB8B,SAACD,GAC/BG,QAAQH,MAAR,yCAAgDA,EAAMqB,KAAtD,uBAAyErB,EAAMQ,UAY/EmB,CAAwB3B,GAGpBC,EAAiB,CACnB,IAAIO,EAAU,oBAGK,iCAAfR,EAAMqB,OACRb,EAAU,wDAGZP,EAAgBO,EAAS3C,EAAU8B,wBAWjCiC,EAAmB,SAAC5B,GAAD,YACYwB,IAAlCxB,EAAyBqB,MAgBtBQ,EAAuB,SAC3B7B,EACAC,GAKA,GAhBwB,SAACD,GACzBG,QAAQH,MAAR,2CAAkDA,EAAMqB,KAAxD,uBAA2ErB,EAAMQ,UAYjFsB,CAAkB9B,GAGdC,EAAiB,CACnB,IAAIO,EAAU,oBAEK,gBAAfR,EAAMqB,OACRb,EAAU,wDAGZP,EAAgBO,EAAS3C,EAAU8B,wBC7IxBoC,EApBG,CAEhBC,kBAAmB,GACnBC,aAAc,GAGdC,cAAe,EACfC,WAAY,IAGZC,kBAAmB,IACnBC,SAAU,IACVC,cAAe,IAGfC,gBAAiB,KACjBC,kBAAmB,KACnBC,gBAAiB,MCCbC,EAAiB,CACrBC,OAAQC,0CACRC,MAAO,4CACPC,WAAY,kCACZC,YAAa,yCACbC,cAAe,8BACfC,kBAAmB,eACnBC,cAAe,eACfC,UAAW,mBAUPC,EAAkB,uCAAG,sBAAAC,EAAA,+EAQI,IAAzBC,IAASC,KAAKC,OARO,0CAShB,GATgB,cAYzBF,IAASG,cAAcf,GAEF,iBACGE,WAfC,mBAkBjBU,IAASI,OAAOC,2BAJH,iBACGf,YAfC,eAoBvBU,IAASM,UAAUC,yBAAyBhG,EAAUS,uBApB/B,mBAsBhB,GAtBgB,8CFaKkD,KADXxB,EEYD,EAAD,IFXIqB,MAAuBrB,EAAoBqB,KAAKI,WAAW,WEY5EtB,QAAQH,MAAM,gCAEdoB,EAAgB,EAAD,KA3BM,mBA8BhB,GA9BgB,kCFYP,IAACpB,IEZM,qBAAH,qDA0ClB8D,EAAkB,uCAAG,0CAAAT,EAAA,+EAGOC,IAC3BS,YACAC,WAAW,gBACXC,IAAI,mBACJC,MAPoB,cAGjBC,EAHiB,OASjBC,EAAcD,EAAgB7D,OAEpC+D,OAAOC,OAAOvC,EAAWqC,GAXF,SAcLd,IAASM,UAAUW,IAAI,sBAAsBC,iBAdxC,cAcjBC,EAdiB,iBAgBAC,IAAMR,IAAsBO,EAAK,CAAEE,QAAS9G,EAAUE,eAhBtD,eAgBjBmC,EAhBiB,SAkBQA,EAASI,KAAhCsE,EAlBe,EAkBfA,KAAMC,EAlBS,EAkBTA,OAAQC,EAlBC,EAkBDA,KAEtB/C,EAAUQ,gBAAkBqC,EAC5B7C,EAAUS,kBAAoBqC,EAC9B9C,EAAUU,gBAAkBqC,EAtBL,mBAwBhB,GAxBgB,yCA0BnBlD,EAAiB,EAAD,IAClBC,EAAqB,EAAD,IACXN,EAAuB,EAAD,IAC/BG,EAA2B,EAAD,IACjBgD,IAAMK,aAAN,MACThF,EAAiB,EAAD,IAEhBc,EAAoB,EAAD,GAAQ,sBAjCN,mBAoChB,GApCgB,0DAAH,qD,2CChElBmE,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJC,MAAO,OACPC,gBAAiB,SAACC,GAAD,OAAwBA,EAAMC,oBAAsB,SAEvEC,IAAK,CACHH,gBAAiB,SAACC,GAAD,OAAwBA,EAAMG,UAAYR,EAAMS,QAAQC,QAAQC,YAiBxEC,EAZqD,SAAC,GAIlC,IAHjCJ,EAGgC,EAHhCA,SACAF,EAEgC,EAFhCA,mBACGO,EAC6B,iDAC1BC,EAAUhB,EAAU,CAAEU,WAAUF,uBAItC,OAAO,cAACS,EAAA,EAAD,aAAgBD,QAASA,GAAaD,KCjBhCG,EAXmC,SAAC,GAGzB,IAFxBC,EAEuB,EAFvBA,SAEuB,IADvBC,KAEA,YADuB,SAEd,KAGF,mCAAGD,K,SCXNnB,EAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXkB,MAAO,CACLC,MAAOpB,EAAMS,QAAQY,OAAOC,OAE9BC,QAAS,CACPnB,gBAAiBJ,EAAMS,QAAQY,OAAOC,MACtCF,MAAO,sBACPI,UAAWxB,EAAMyB,QAAQ,GACzBC,SAAU,SAiBDC,EAZ8B,SAAC,GAA0C,IAAxCV,EAAuC,EAAvCA,SAAaJ,EAA0B,4BAC/EC,EAAUhB,IAEhB,OAGE,aAFA,CAEC8B,EAAA,EAAD,yBAASd,QAASA,GAAaD,GAA/B,aACGI,M,kBCFQY,EAfqC,SAAC,GAK1B,IAJzBZ,EAIwB,EAJxBA,SACAa,EAGwB,EAHxBA,QACAC,EAEwB,EAFxBA,SACGlB,EACqB,iDACxB,OAGE,aAFA,CAECmB,EAAA,EAAD,yBAAQD,SAAUA,GAAYD,GAAajB,GAA3C,aACGiB,EAAU,cAACG,EAAA,EAAD,CAAkBb,MAAM,YAAYc,KAAM,KAASjB,M,qDCP9DnB,EAAYC,aAAW,kBAC3BE,YAAa,CACXkC,WAAY,CACVC,YAAa,GAEfC,MAAO,CACLC,SAAU,QAqCDC,GAhC2C,SAAC,GAG7B,IAF5BtB,EAE2B,EAF3BA,SACAuB,EAC2B,EAD3BA,SAEM1B,EAAUhB,IAEV2C,EAAUC,cAIhB,OACE,cAACC,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACE,eAACC,EAAA,EAAD,CAASrI,QAAQ,QAAjB,UACE,cAACsI,EAAA,EAAD,CACEC,UAAWjC,EAAQqB,WACnBa,MAAO,CAAEC,QAAST,EAAW,GAAK,QAClCU,KAAK,QACL9B,MAAM,UACN+B,aAAW,OACXC,QAXY,kBAAMX,EAAQY,UAK5B,SAQE,cAACC,EAAA,EAAD,MAGF,cAACC,EAAA,EAAD,CAAYR,UAAWjC,EAAQuB,MAA/B,6BAECpB,QC5BMuC,GAXuC,SAAC,GAK3B,IAJ1BvC,EAIyB,EAJzBA,SACAwC,EAGyB,EAHzBA,KACAC,EAEyB,EAFzBA,WACG7C,EACsB,gDAGzB,OAAO,cAAC,IAAD,2BAAWA,GAAX,aAAmB4C,EAAOxC,EAAW,cAAC,IAAD,CAAU0C,GAAID,Q,QC0C7CE,GA3DA,CACblD,QAAS,UACTmD,UAAW,UAEXC,cAAe,UACfC,gBAAiB,UACjBC,aAAc,UAGdC,gBAAiB,MACjBC,kBAAmB,QAGnBC,UAAW,UACXC,MAAO,SACPC,KAAM,MACNC,aAAc,UACdC,YAAa,SACbC,SAAU,MACVC,MAAO,QACPC,cAAe,QACfC,gBAAiB,MACjBC,UAAW,MAGXC,KAAM,OACNC,WAAY,MACZC,UAAW,QAGXC,OAAQ,UACRC,KAAM,UACNC,UAAW,UACXC,WAAY,UACZC,OAAQ,UACRC,WAAY,QACZC,OAAQ,UAGRC,WAAY,QACZC,gBAAiB,UAGjBC,uBAAwB,UACxBC,cAAe,UACfC,qBAAsB,UAGtBC,aAAc,UACdC,gBAAiB,UACjBC,YAAa,UACbC,YAAa,UACbC,cAAe,UAGfC,kBAAmB,QACnBC,cAAe,OCvCXpG,GAAYC,aAAW,SAACC,GAAD,aAC3BC,YAAa,CACXkG,MAAI,oBACDnG,EAAMoG,YAAYC,KAAK,MAAQ,CAC9B3E,SAAU,WAFV,eAID1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5B5E,SAAU,SALV,GAQJ6E,cAAe,CACbnF,MAAO,SAACf,GAAD,OACLA,EAAMmG,UAAY,EAAI5C,GAAOqC,kBAAoBrC,GAAOsC,eAC1DjD,QAAS,SAAC5C,GAAD,OAAyBA,EAAMoG,cAAgB,GAAK,cAoBpDC,GAf+C,SAAC,GAK/B,IAJ9BC,EAI6B,EAJ7BA,OACAC,EAG6B,EAH7BA,MACAJ,EAE6B,EAF7BA,UACAC,EAC6B,EAD7BA,cAEM3F,EAAUhB,GAAU,CAAE0G,YAAWC,kBAEvC,OACE,eAAClD,EAAA,EAAD,CAAYR,UAAWjC,EAAQqF,KAA/B,UACGQ,EADH,KACaC,EADb,IACoB,uBAAM7D,UAAWjC,EAAQyF,cAAzB,cAA0CC,SC7BnDK,GAR2B,SAAC,GAA+C,IAA7C5F,EAA4C,EAA5CA,SAC3C,OADuF,EAAlC6F,QAAkC,EAA3BC,MAEnD,KAGF,mCAAG9F,K,kBCDNnB,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACXC,KAAM,CACJkB,MAAO4F,gBAAKhH,EAAMS,QAAQwG,OAAOC,OAAQ,MAE3CC,SAAU,CACR/G,gBAAiB4G,gBAAKhH,EAAMS,QAAQwG,OAAOC,OAAQ,KACnD,UAAW,CACT9G,gBAAiB4G,gBAAKhH,EAAMS,QAAQwG,OAAOC,OAAQ,YA6C5CE,GAvCmC,SAAC,GAQzB,IAPxBnG,EAOuB,EAPvBA,SACA8B,EAMuB,EANvBA,UACA+D,EAKuB,EALvBA,MACA1D,EAIuB,EAJvBA,QACAiE,EAGuB,EAHvBA,SACAF,EAEuB,EAFvBA,SACGtG,EACoB,gFACjBC,EAAUhB,KAYhB,OACE,cAACkC,EAAA,EAAD,yBACEe,UAAWuE,aAAK,gBAEXxG,EAAQqG,SAAWA,GAEtBpE,GAEFK,QAlBkB,SAACmE,GACjBnE,GACFA,EAAQmE,GAGNF,GACFA,EAASE,EAAOT,KAeZjG,GAVN,aAYGI,M,UCnDDuG,GAAkB,SAAmBV,EAAUW,GAA7B,OACtBA,EAAeC,QAAQZ,IAAU,GA6DpBa,GA3DW,YAOqB,IAN7C1G,EAM4C,EAN5CA,SAM4C,IAL5C2G,iBAK4C,SAJ5Cd,EAI4C,EAJ5CA,MACAO,EAG4C,EAH5CA,SAG4C,IAF5CnF,YAE4C,MAFrC,SAEqC,EADzCrB,EACyC,kEACtCgH,EAAe,SAACN,EAA4CO,GAChE,GAAKT,EAAL,CAIA,IAAMU,EAAKjB,EAAMY,QAAQI,GACnBE,EAAWlB,EAAMmB,QAEnBF,GAAM,EACRC,EAASE,OAAOH,EAAI,GAEpBC,EAASG,KAAKL,GAGhBT,EAASE,EAAOS,KAGZI,EAAwB,SAACb,EAA4CO,GACzE,GAAKT,EAAL,CAIA,IACMW,EAAgB,GADXlB,EAAMY,QAAQI,GAGhB,GACPE,EAASG,KAAKL,GAGhBT,EAASE,EAAOS,KAGlB,OAGE,aAFA,CAECK,GAAA,EAAD,2BAAiBxH,GAAjB,aACGyH,IAAMC,SAASC,IAAIvH,GAAU,SAACwH,GAC7B,OAAKH,IAAMI,eAAeD,GAInBH,IAAMK,aAAaF,EAAO,CAC/BpB,SAAUO,EAAYQ,EAAwBP,EAC9CV,SAAUsB,EAAMpI,MAAM8G,UAAYK,GAAgBiB,EAAMpI,MAAMyG,MAAOA,GACrE5E,KAAMuG,EAAMpI,MAAM6B,MAAQA,IANnB,YCtDXpC,GAAYC,aAAW,kBAC3BE,YAAa,CACX2I,UAAW,CACTC,OAAQ,OACR5F,QAAS,OACT6F,cAAe,SACfC,eAAgB,SAChBC,WAAY,eAeHC,GAVW,WACxB,IAAMnI,EAAUhB,KAEhB,OACE,qBAAKiD,UAAWjC,EAAQ8H,UAAxB,SACE,cAAC3G,EAAA,EAAD,CAAkBb,MAAM,UAAUc,KAAM,S,SCZxCgH,GAAS,SAACC,EAAWC,GAAZ,OAAoCD,EAAIC,EAAKA,GAAKA,GAU3DC,GAAe,SAACF,EAAWG,GAAZ,OACnBH,EAAII,KAAKC,MAAMD,KAAKE,UAAoB,EAARH,EAAY,IAAMA,GCOrCI,GAhBW,SAACC,GAAqC,IAAD,EACzCC,mBAAS,GADgC,mBACtD7B,EADsD,KAClD8B,EADkD,KAG7D,OAAqB,IAAjBF,EAAMrL,OACD,kBAAO,GAGT,WACL,IAAMwL,EAASH,EAAM5B,GAIrB,OAFA8B,GAAM,SAACE,GAAD,OAAeb,GAAOa,EAAY,EAAGJ,EAAMrL,WAE1CwL,ICEIE,GAlBU,WAGpB,MAE2BJ,mBAAmC,MAF9D,mBAEIK,EAFJ,KAEaC,EAFb,KAYH,MAAO,CAACD,EAPIE,uBAAY,SAACC,GAER,OAAXA,GACFF,EAAWE,EAAOC,WAAW,SAE9B,M,qBC+CUC,GAvDI,SACjB7G,EACA8G,EACA3B,EACA7F,GACU,IAAD,EACqC6G,mBAAe,MADpD,mBACFY,EADE,KACeC,EADf,KAITC,qBAAU,WACR,GAA0B,OAAtB9B,EAAU+B,QAAd,CAKA,IAAMC,EAAWC,KAAKC,OAAO,CAC3BlC,UAAWA,EAAU+B,QACrBI,WAAY,aACZ5K,MAAOxH,EAAUW,WACjBuP,OAAQlQ,EAAUW,aAIZ8Q,EAA0CQ,EAASI,UAAnDZ,OAGRA,EAAOa,gBAAgB,SACvBb,EAAOrH,UAAYA,EAEnB0H,EAAmBG,MAClB,CAAC7H,EAAW6F,IAGf8B,qBAAU,WACR,GAAwB,OAApBF,EAAJ,CADc,IAMNJ,EAA0CI,EAAgBQ,UAA1DZ,OAEJ3G,GAEF2G,EAAOpH,MAAMC,QAAU,GAEvBsH,EAASC,KAGTJ,EAAOpH,MAAMC,QAAU,OAEvBuH,EAAgBU,QAAQ,CAAEC,IAAK,EAAGC,IAAK,EAAGhQ,KAAM,SAEjD,CAACoP,EAAiBD,EAAU9G,KC9BlB4H,GA1BK,SAACC,EAAsBC,GACzC,IAAMC,EAAgBC,iBAA4B,MAGlDf,qBAAU,WACRc,EAAcb,QAAUW,IACvB,CAACA,IAGJZ,qBAAU,WAOR,GAAc,OAAVa,EAAgB,CAClB,IAAMG,EAAKC,OAAOC,aAPP,WACmB,OAA1BJ,EAAcb,SAChBa,EAAcb,YAKoBY,GAEpC,OAAO,kBAAMM,cAAcH,IAG7B,OAAO,eACN,CAACH,KCASO,GArBS,SACtBC,EACAC,GAC+C,IAAD,EACpBpC,oBAAY,WACpC,IAAMqC,EAAeC,eAAeC,QAAQH,IAAQ,GAEpD,IACE,OAAOI,KAAKC,MAAMJ,GAClB,MAAOK,GACP,OAAOP,MAPmC,mBACvCjF,EADuC,KAChCyF,EADgC,KAe9C,OAJA7B,qBAAU,WACRwB,eAAeM,QAAQR,EAAKI,KAAKK,UAAU3F,MAC1C,CAACkF,EAAKlF,IAEF,CAACA,EAAOyF,ICKFG,GAnBkB,SAACvB,EAAaC,GAAiC,IAAD,EAC9DxB,oBAAS,kBCaZ,WAAkD,IAAjD+C,EAAgD,uDAAxC,EAAGC,EAAqC,uCAAvBC,EAAuB,uDAAhB,EAC7C,GAAID,GAAQD,EACV,MAAM,IAAI1Q,MAAM,oCAGlB,GAAI4Q,GAAQ,EACV,MAAM,IAAI5Q,MAAM,0BAKlB,IAFA,IAAM6Q,EAAiB,GAEdC,EAAIJ,EAAOI,EAAIH,EAAMG,GAAKF,EACjCC,EAAK3E,KAAK4E,GAGZ,OAAOD,ED5BuBxD,CAAM6B,EAAKC,MAAlC0B,EADsE,sBAEzDlD,mBAASwB,EAAMD,EAAM,GAFoC,mBAEtEpD,EAFsE,KAElE8B,EAFkE,KAI7E,OAAO,WACL,IAAMmD,EAAWzD,KAAKC,MAAMD,KAAKE,UAAY1B,EAAK,IAE5CkF,EAAYH,EAAKE,GAQvB,OANAF,EAAKE,GAAYF,EAAK/E,GAEtB+E,EAAK/E,GAAMkF,EAEXpD,GAAM,SAACE,GAAD,OAAeb,GAAOa,EAAY,EAAGqB,EAAMD,MAE1C8B,I,kDE7BI,OAA0B,kCCA1B,OAA0B,iCCA1B,OAA0B,0CCA1B,OAA0B,kCCA1B,OAA0B,mCCA1B,OAA0B,8BCA1B,OAA0B,mCCA1B,OAA0B,uCCA1B,OAA0B,kCCA1B,OAA0B,kCCA1B,OAA0B,qCCanCC,GAAqC,CACzClB,IAAK,GACL3J,MAAO,gBACP8K,YAAa,gDACbC,MAAOC,IAGHC,GAAsC,CAC1C,CACEtB,IAAK,eACL3J,MAAO,aACP8K,YAAa,mFACbC,MAAOG,IAET,CACEvB,IAAK,0BACL3J,MAAO,sBACP8K,YACE,qFACFC,MAAOI,IAET,CACExB,IAAK,iBACL3J,MAAO,mBACP8K,YAAa,mFACbC,MAAOK,IAET,CACEzB,IAAK,sBACL3J,MAAO,qBACP8K,YACE,2FACFC,MAAOM,IAET,CACE1B,IAAK,2BACL3J,MAAO,yBACP8K,YACE,wFACFC,MAAOO,IAET,CACE3B,IAAK,gCACL3J,MAAO,iBACP8K,YAAa,+EACbC,MAAOO,IAET,CACE3B,IAAK,uBACL3J,MAAO,oBACP8K,YAAa,6DACbC,MAAOQ,IAET,CACE5B,IAAK,wBACL3J,MAAO,gBACP8K,YAAa,oEACbC,MAAOS,IAET,CACE7B,IAAK,aACL3J,MAAO,aACP8K,YAAa,mEACbC,MAAOU,IAET,CACE9B,IAAK,aACL3J,MAAO,kBACP8K,YACE,4GACFC,MAAOW,IAET,CACE/B,IAAK,6BACL3J,MAAO,qBACP8K,YAAa,uCACbC,MAAOY,IAET,CACEhC,IAAK,4BACL3J,MAAO,gBACP8K,YAAa,kEACbC,MAAOY,KChFLlO,GAAYC,aAAW,SAACC,GAAD,eAC3BC,YAAa,CACX2I,UAAW,CACTqF,KAAM,EACNpF,OAAQ,EACR5F,QAAS,OACT6F,cAAe,SACfE,WAAY,UAEdkF,UAAQ,GACNC,QAAS,IADH,eAELnO,EAAMoG,YAAYC,KAAK,MAAQ,CAC9B3E,SAAU,SAHN,eAKL1B,EAAMoG,YAAYgI,QAAQ,KAAM,MAAQ,CACvC1M,SAAU,WANN,eAQL1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5B5E,SAAU,SATN,GAYR2M,cAAe,CACbC,SAAU,QAEZC,SAAU,CACRtL,QAAS,OACT8F,eAAgB,SAChBoF,QAAS,IAEXf,OAAK,oBACFpN,EAAMoG,YAAYC,KAAK,MAAQ,CAC9BlG,MAAO,SAFN,eAIFH,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,MALN,eAOFH,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BnG,MAAO,MARN,QA6EMsO,GA/DgB,WAAO,IAAD,EACC7E,oBAAS,GADV,mBAC5B8E,EAD4B,KAChBC,EADgB,OAEmB/E,mBAASsD,IAF5B,mBAE5B0B,EAF4B,KAEPC,EAFO,KAI7B/N,EAAUhB,KAEVgP,EAAgB,kBAAMH,GAAc,IAEpCT,EAAQ,iCAA6B3E,KAAK6B,IAAI2D,aAAazQ,OAAS,EAAG,GAA/D,yCACM3F,EAAUC,qBADhB,6CAGd,OACE,qCACE,cAAC,GAAD,CAAkB4J,UAAQ,IAE1B,sBAAKO,UAAWjC,EAAQ8H,UAAxB,UACE,cAACrF,EAAA,EAAD,CAAYR,UAAWjC,EAAQoN,SAA/B,SAA0CA,IAE1C,cAACc,GAAA,EAAD,CAAMpG,WAAS,EAAC7F,UAAWjC,EAAQuN,cAAnC,SACGf,GAAiB9E,KAAI,SAACyG,GAAU,IACvBjD,EAAQiD,EAARjD,IAIFkD,EAA2B,SAFhBH,aAAa5C,QAAQH,GAEIiD,EAAO/B,GAEzC7K,EAAiB6M,EAAjB7M,MAAO+K,EAAU8B,EAAV9B,MAOf,OACE,cAAC4B,GAAA,EAAD,CAAgBC,MAAI,EAACE,GAAI,EAAGpM,UAAWjC,EAAQyN,SAA/C,SACE,cAAC,EAAD,CAAclM,MAAOA,EAAOlB,OAAK,EAAjC,SACE,cAACa,EAAA,EAAD,CAAQoB,QARQ,WACpByL,EAAuBK,GACvBP,GAAc,IAMV,SACE,qBAAK5L,UAAWjC,EAAQsM,MAAOgC,IAAKhC,EAAOiC,IAAKhN,SAH3C2J,WAYnB,eAACsD,GAAA,EAAD,CAAQC,KAAMb,EAAYc,QAASV,EAAnC,UACE,cAACW,GAAA,EAAD,UAAcb,EAAoBvM,QAElC,cAACqN,GAAA,EAAD,CAAeC,UAAQ,EAAvB,SACE,eAACpM,EAAA,EAAD,WAAaqL,EAAoBzB,YAAjC,SAGF,cAACyC,GAAA,EAAD,UACE,cAAC5N,EAAA,EAAD,CAAQZ,MAAM,UAAUgC,QAAS0L,EAAjC,4BC1GJhP,GAAYC,aAAW,SAACC,GAAD,aAC3BC,YAAa,CACX2I,UAAW,CACTC,OAAQ,OACR5F,QAAS,OACT6F,cAAe,SACfC,eAAgB,SAChBC,WAAY,UAEd6G,gBAAiB,CACf5M,QAAS,OACT6F,cAAe,SACfE,WAAY,UAEd8G,QAAM,GACJC,OAAQ,EACRC,aAAc,IAFV,eAGHhQ,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,IACPuB,SAAU,SALR,eAOH1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,IACPuB,SAAU,SATR,eAWH1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BnG,MAAO,IACPuB,SAAU,YAbR,QA2DKuO,GAxCS,WACtB,IAAMxN,EAAUC,cAEV5B,EAAUhB,KAMhB,OACE,qCACE,cAAC,GAAD,CAAkB0C,UAAQ,IAE1B,qBAAKO,UAAWjC,EAAQ8H,UAAxB,SACE,sBAAK7F,UAAWjC,EAAQ+O,gBAAxB,UACE,cAAC7N,EAAA,EAAD,CACEe,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QAfkB,kBAAMX,EAAQ0F,KAAK,yBAUvC,iCAUA,cAACnG,EAAA,EAAD,CACEe,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QAvBgB,kBAAMX,EAAQ0F,KAAK,uBAkBrC,wCCzDK+H,GALUC,wBAAc,CACrCC,eAAe,EACfC,WAAY,e,kDCIRvQ,GAAYC,aAAW,SAACC,GAAD,eAC3BC,YAAa,CACX2I,UAAW,CACTC,OAAQ,OACR5F,QAAS,OACT6F,cAAe,SACfC,eAAgB,SAChBC,WAAY,UAEdsH,KAAM,CACJnQ,MAAO,MACP0I,OAAQ,MACR5F,QAAS,OACT6F,cAAe,SACfC,eAAgB,eAChBC,WAAY,UAEd7C,MAAI,GACFoK,aAAc,GACdC,UAAW,UAFT,eAGDxQ,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,YAJV,eAMD1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,WAPV,eASD1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5B5E,SAAU,SAVV,GAaJ+O,cAAe,CACbxN,QAAS,OACT6F,cAAe,SACfE,WAAY,UAEd8G,QAAM,GACJ3P,MAAO,OACPuQ,UAAW,GACXV,aAAc,IAHV,eAIHhQ,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,SALR,eAOH1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,SARR,eAUH1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5B5E,SAAU,YAXR,QAoGKiP,GAnFc,WAAO,IAAD,EACD/G,mBAAS,IADR,mBAC1BgH,EAD0B,KAChBC,EADgB,OAEOjH,oBAAS,GAFhB,mBAE1BkH,EAF0B,KAEZC,EAFY,OAGCnH,oBAAS,GAHV,mBAG1BoH,EAH0B,KAGfC,EAHe,KAKzBZ,EAAea,qBAAWhB,IAA1BG,WAEFvP,EAAUhB,KAkBVqR,EAAgB,kBACpB/S,IACGI,OACAC,2BAA2B,4BAA6BmS,GACxDQ,MAAK,kBAAMf,OACXgB,OAAM,SAAC/E,GAAD,OAAY2E,GAAa,OAEpC,OACE,qCACE,cAAC,GAAD,CAAkBzO,UAAQ,IAE1B,qBAAKO,UAAWjC,EAAQ8H,UAAxB,SACE,eAAC0I,GAAA,EAAD,CAAMvO,UAAWjC,EAAQwP,KAAzB,UACE,cAAC/M,EAAA,EAAD,CAAYR,UAAWjC,EAAQqF,KAA/B,0BAEA,sBAAKpD,UAAWjC,EAAQ2P,cAAxB,UACE,cAACc,GAAA,EAAD,CACEC,WAAS,EACThX,QAAQ,WACRiX,MAAM,WACNC,UAAQ,EACRC,KAAMb,EAAe,OAAS,WAC9BhW,MAAOkW,EACPY,WAAYZ,EAAY,qBAAuB,GAC/ClK,MAAO8J,EACPiB,SAzCa,SAACtK,GACxB0J,GAAa,GACbJ,EAAYtJ,EAAMuK,OAAOhL,QAwCfiL,WAAY,CACVC,UAtCY,SAACzK,GACP,UAAdA,EAAMyE,KACRmF,IAAgBC,MAAK,gBAqCXa,aACE,cAACC,GAAA,EAAD,CAAgBtP,SAAS,MAAzB,SACE,cAACE,EAAA,EAAD,CACEK,aAAW,6BACXC,QArCQ,kBAAM2N,GAAgB,SAAChH,GAAD,OAAgBA,MAsC9CoI,YApCY,SAAC5K,GAAD,OAC9BA,EAAM6K,kBAgCU,SAKGtB,EAAe,cAACuB,GAAA,EAAD,IAAiB,cAACC,GAAA,EAAD,WAO3C,cAACtQ,EAAA,EAAD,CACEe,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QAAS+N,EALX,gC,UC9GNrR,GAAYC,aAAW,SAACC,GAAD,mBAC3BC,YAAa,CACX2I,UAAW,CACTC,OAAQ,OACR5F,QAAS,OACT6F,cAAe,SACfC,eAAgB,SAChBC,WAAY,UAEdsH,MAAI,GACFrN,QAAS,OACT6F,cAAe,SACfC,eAAgB,SAChBC,WAAY,SACZuJ,UAAW,aACXpE,QAAS,IANP,eAODnO,EAAMoG,YAAYC,KAAK,MAAQ,CAC9BlG,MAAO,MACP0I,OAAQ,QATR,eAWD7I,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BnG,MAAO,MACP0I,OAAQ,QAbR,GAgBJ1C,MAAI,GACFgI,QAAS,EACTqC,UAAW,UAFT,eAGDxQ,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,SAJV,eAMD1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,WAPV,eASD1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5B5E,SAAU,SAVV,GAaJ8Q,aAAc,CACZvE,KAAM,EACNK,SAAU,QAEZmE,YAAa,CACX1C,OAAQ,IAEV2C,aAAW,GACT1J,WAAY,UADH,eAERhJ,EAAMoG,YAAYC,KAAK,MAAQ,CAC9BlG,MAAO,QAHA,eAKRH,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BnG,MAAO,SANA,GASX2P,QAAM,GACJC,OAAQ,EACRC,aAAc,IAFV,eAGHhQ,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,MACPuB,SAAU,WALR,eAOH1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,MACPuB,SAAU,WATR,eAWH1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BnG,MAAO,OACPuB,SAAU,SAbR,QAwOKiR,GArMgB,WAAO,IAAD,EACH/I,oBAAS,GADN,mBAC5BW,EAD4B,KAClBqI,EADkB,OAEGhJ,mBAA+B,MAFlC,mBAE5BiJ,EAF4B,KAEfC,EAFe,KAI7BC,EAAcC,cAAc,SAAChT,GAAD,OAAkBA,EAAMoG,YAAYC,KAAK,SAEnEtL,EAAoBkY,cAApBlY,gBAEF+F,EAAUhB,KARmB,EAkBe8J,mBAAS,GAlBxB,mBAkB5B1M,EAlB4B,KAkBTgW,EAlBS,OAmBHtJ,mBAAS,GAnBN,mBAmB5BzM,EAnB4B,KAmBlBgW,EAnBkB,OAoBCvJ,mBAAS,GApBV,mBAoB5B3M,EApB4B,KAoBhBmW,EApBgB,OAqBOxJ,mBAAS,GArBhB,mBAqB5B5M,EArB4B,KAqBbqW,EArBa,OAsBOzJ,mBAAS,GAtBhB,mBAsB5BxM,EAtB4B,KAsBbkW,EAtBa,OAuBK1J,mBAAS,GAvBd,mBAuB5B7M,EAvB4B,KAuBdwW,EAvBc,OAwBe3J,mBAAS,GAxBxB,mBA0B7B4I,EAA8B,CAClC,CAAEgB,KAAM,sBAAuB1M,MA3BE,KA2BwB2M,OA3BxB,MA4BjC,CAAED,KAAM,qBAAsB1M,MAAO5J,EAAmBuW,OAAQP,GAChE,CAAEM,KAAM,kBAAmB1M,MAAO9J,EAAeyW,OAAQJ,GACzD,CAAEG,KAAM,cAAe1M,MAAO7J,EAAYwW,OAAQL,GAClD,CAAEI,KAAM,YAAa1M,MAAO3J,EAAUsW,OAAQN,GAC9C,CAAEK,KAAM,iBAAkB1M,MAAO1J,EAAeqW,OAAQH,GACxD,CAAEE,KAAM,mBAAoB1M,MAAO/J,EAAc0W,OAAQF,IA0CvDhJ,GApCS,uCAAG,oCAAApM,EAAA,6DACdyU,GAAY,GADE,kBAImBxU,IAC5BS,YACAC,WAAW,gBACXC,IAAI,mBACJC,MARS,WAIN0U,EAJM,QAUUC,OAVV,iDAuBZ,IAAW3H,KATL4H,EAAeF,EAAiBtY,OAEtC0X,EAAec,IAETC,EAAO1U,OAAO0U,KAAKD,IAEpBE,OAED/G,EAAI,EACU8G,EACZ1U,OAAO4U,UAAUC,eAAeC,KAAKJ,EAAM7H,KAC7CwG,EAAazF,GAAG0G,OAAOG,EAAaC,EAAK7H,KACzCe,GAAK,GA1BG,kDA8BRrQ,EAAiB,EAAD,KAClBC,EAAqB,EAAD,IA/BV,0DAAH,oDAqCXuX,GAAU9C,MAAK,eAGjB,IAAM+C,EAAa,uCAAG,oCAAAhW,EAAA,sDAUpB,IAAW6N,KATLoI,EAAS5B,EAAahK,KAAI,SAAC6L,GAAD,OAAaA,EAAQvN,SAE/CwN,EAAgCzB,GAEhCgB,EAAO1U,OAAO0U,KAAKhB,IAEpBiB,OAED/G,EAAI,EACU8G,EACZ1U,OAAO4U,UAAUC,eAAeC,KAAKJ,EAAM7H,KAC7CsI,EAAQT,EAAK7H,IAAQoI,EAAOrH,GAC5BA,GAAK,GAbW,yBAkBZ3O,IAASS,YAAYC,WAAW,gBAAgBC,IAAI,mBAAmBwV,IAAID,GAlB/D,OAoBlBvZ,EACE,8CACApC,EAAUgC,wBAtBM,kDAyBd+B,EAAiB,EAAD,KAClBC,EAAqB,EAAD,GAAQ5B,GA1BZ,0DAAH,qDA+BbyZ,EAAc,uCAAG,8BAAArW,EAAA,+EAEmBC,IACnCS,YACAC,WAAW,gBACXC,IAAI,mBACJC,MANgB,cAEbyV,EAFa,OAQbC,EAAsBD,EAAwBrZ,OARjC,SAUbgD,IACHS,YACAC,WAAW,gBACXC,IAAI,mBACJwV,IAAIG,GAdY,OAgBnB3Z,EAAgB,0CAA2CpC,EAAUgC,wBAErEiY,GAAY,GAlBO,kDAoBflW,EAAiB,EAAD,KAClBC,EAAqB,EAAD,GAAQ5B,GArBX,0DAAH,qDA0BpB,OACE,qCACE,cAAC,GAAD,CAAkByH,UAAQ,IAE1B,qBAAKO,UAAWjC,EAAQ8H,UAAxB,SACE,eAAC0I,GAAA,EAAD,CAAMvO,UAAWjC,EAAQwP,KAAzB,UACE,cAAC/M,EAAA,EAAD,CAAYR,UAAWjC,EAAQqF,KAA/B,2BAEA,qBAAKpD,UAAWjC,EAAQ0R,aAAxB,SACGA,EAAahK,KAAI,YAA8B,IAA3BgL,EAA0B,EAA1BA,KAAM1M,EAAoB,EAApBA,MAAO2M,EAAa,EAAbA,OAQhC,OACE,qBAAgB1Q,UAAWjC,EAAQ2R,YAAnC,SACE,cAAClB,GAAA,EAAD,CACE/W,QAAQ,WACRiX,MAAO+B,EACP7B,KAAK,SACL7K,MAAOA,EACP+K,SAdkB,SAACtK,GACvB,IAAMS,EAAW2M,OAAOpN,EAAMuK,OAAOhL,OAC/B8N,EAAcrL,KAAK6B,IAAIpD,EA7JzB,SAACwL,GACnB,OAAQA,GACN,IAAK,mBACH,OAAO,EACT,QACE,OAAO,GAwJ0CqB,CAAYrB,IAEnDC,EAAOmB,OAIGpB,QAahB,eAACnL,GAAA,EAAD,CACEyM,YAAa/B,EAAc,WAAa,aACxChQ,UAAWjC,EAAQ4R,YAFrB,UAIE,cAAC1Q,EAAA,EAAD,CACEe,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QAAS+Q,EALX,oBAUA,cAACnS,EAAA,EAAD,CACEe,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QAASoR,EALX,uC,mBCvRNO,GAAe,SAAC5W,EAAS6W,GAAV,OAA8B7W,EAAEqV,KAAKyB,cAAcD,EAAExB,OASpE0B,GAAe,SAACC,GAAD,OAA2BA,EAAM3M,KAAI,SAAC4M,GAAD,OAAUA,EAAK5B,QAAM6B,KAAK,OAS9EC,GAAkB,SAACC,GAAD,OAA8BA,EAASC,QAAQ,eAAgB,OCbjF1V,GAAYC,aAAW,SAACC,GAAD,mBAC3BC,YAAa,CACX2I,UAAW,CACTC,OAAQ,OACR5F,QAAS,OACT6F,cAAe,SACfC,eAAgB,SAChBC,WAAY,UAEdsH,MAAI,GACFrN,QAAS,OACT6F,cAAe,SACfC,eAAgB,SAChBC,WAAY,SACZuJ,UAAW,aACXpE,QAAS,IANP,eAODnO,EAAMoG,YAAYC,KAAK,MAAQ,CAC9BlG,MAAO,MACP0I,OAAQ,QATR,eAWD7I,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BnG,MAAO,MACP0I,OAAQ,QAbR,GAgBJ1C,MAAI,GACFgI,QAAS,GADP,eAEDnO,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,YAHV,eAKD1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,WANV,eAQD1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5B5E,SAAU,SATV,GAYJ+T,WAAY,CACVtV,MAAO,OACP4P,OAAQ,IAEV2F,YAAU,GACRzS,QAAS,OACT8F,eAAgB,eAChBC,WAAY,UAHJ,eAIPhJ,EAAMoG,YAAYC,KAAK,MAAQ,CAC9ByC,cAAe,WALT,eAOP9I,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BwC,cAAe,QART,GAWV6M,aAAc,CACZ5F,OAAQ,IAEV6F,gBAAiB,CACf7F,OAAQ,IAEV8F,YAAa,CACXzU,MAAOwC,GAAOM,mBAEhB4R,UAAW,CACT1U,MAAOwC,GAAOK,iBAEhB8R,cAAY,GACV/F,aAAc,IADJ,eAEThQ,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,MACPuB,SAAU,SAJF,eAMT1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,MACPuB,SAAU,SARF,eAUT1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BnG,MAAO,MACPuB,SAAU,YAZF,QAkBVsU,GAAc,CAAE7a,QAAS,CAAE,eAAgB,wBA0PlC8a,GAtPc,WAAO,IAAD,MACWrM,mBAAiB,IAD5B,mBAC1BsM,EAD0B,KACVC,EADU,OAESvM,mBAAiB,IAF1B,mBAE1BwM,EAF0B,KAEXC,EAFW,OAIazM,mBAAS,IAJtB,mBAI1B0M,EAJ0B,KAITC,EAJS,OAKW3M,mBAAS,IALpB,mBAK1B4M,EAL0B,KAKVC,EALU,OAOe7M,oBAAS,GAPxB,mBAO1B8M,EAP0B,KAORC,EAPQ,KASzB5b,EAAoBkY,cAApBlY,gBAEF+F,EAAUhB,KAEV8W,EAAa,WACjBL,EAAmB,IACnBE,EAAkB,IAClBE,GAAoB,IAmItB,OACE,qCACE,cAAC,GAAD,CAAkBnU,UAAQ,IAE1B,qBAAKO,UAAWjC,EAAQ8H,UAAxB,SACE,eAAC0I,GAAA,EAAD,CAAMvO,UAAWjC,EAAQwP,KAAzB,UACE,cAAC/M,EAAA,EAAD,CAAYR,UAAWjC,EAAQqF,KAA/B,gCAEA,sBAAKpD,UAAWjC,EAAQ2U,WAAxB,UACE,sBAAK1S,UAAWjC,EAAQ4U,WAAxB,UACE,uBACEhK,GAAG,qBACHmL,OAAO,UACPlF,KAAK,OACLmF,UAAQ,EACRC,QAAM,EACNlF,SAhJmB,SAACtK,GAChC,GAA2B,OAAvBA,EAAMuK,OAAOqD,MAAjB,CAIA,IAAMA,EAAQ,aAAI5N,EAAMuK,OAAOqD,OAAOrB,KAAKiB,IAE3CoB,EAAkBhB,GAClByB,QA2IU,uBAAOI,QAAQ,qBAAqBjU,UAAWjC,EAAQ6U,aAAvD,SACE,cAAC3T,EAAA,EAAD,CACExH,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACL+U,UAAW,cAACC,GAAA,EAAD,IACXC,UAAU,OALZ,4BAWF,cAAC5F,GAAA,EAAD,CACExO,UAAWjC,EAAQ8U,gBACnBwB,YAAY,mBACZtQ,MAAOoO,GAAagB,GACpBtE,WAAY0E,EACZe,oBAAqB,CACnBtU,UAAWuE,cAAI,oBACZxG,EAAQ+U,YAAca,GADV,eAEZ5V,EAAQgV,WAAaY,GAFT,KAKjB3E,WAAY,CAAEuF,UAAU,QAI5B,sBAAKvU,UAAWjC,EAAQ4U,WAAxB,UACE,uBACEhK,GAAG,oBACHmL,OAAO,QACPlF,KAAK,OACLmF,UAAQ,EACRC,QAAM,EACNlF,SA1KkB,SAACtK,GAC/B,GAA2B,OAAvBA,EAAMuK,OAAOqD,MAAjB,CAIA,IAAMA,EAAQ,aAAI5N,EAAMuK,OAAOqD,OAAOrB,KAAKiB,IAE3CsB,EAAiBlB,GACjByB,QAqKU,uBAAOI,QAAQ,oBAAoBjU,UAAWjC,EAAQ6U,aAAtD,SACE,cAAC3T,EAAA,EAAD,CACExH,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACL+U,UAAW,cAACC,GAAA,EAAD,IACXC,UAAU,OALZ,2BAWF,cAAC5F,GAAA,EAAD,CACExO,UAAWjC,EAAQ8U,gBACnBwB,YAAY,mBACZtQ,MAAOoO,GAAakB,GACpBxE,WAAY4E,EACZa,oBAAqB,CACnBtU,UAAWuE,cAAI,oBACZxG,EAAQ+U,YAAca,GADV,eAEZ5V,EAAQgV,WAAaY,GAFT,KAKjB3E,WAAY,CAAEuF,UAAU,WAK9B,cAACtV,EAAA,EAAD,CACEe,UAAWjC,EAAQiV,aACnBvb,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QA/IY,WACpB,GA7CyB,SAAClK,EAAgBqe,GAC1C,GAAsB,IAAlBre,EAAOoF,QAAiC,IAAjBiZ,EAAMjZ,OAS/B,OARsB,IAAlBpF,EAAOoF,QACTiY,EAAmB,yBAGA,IAAjBgB,EAAMjZ,QACRmY,EAAkB,0BAGb,EAGT,GAAIvd,EAAOoF,SAAWiZ,EAAMjZ,OAS1B,OARIpF,EAAOoF,OAASiZ,EAAMjZ,QACxBiY,EAAmB,0CAGjBgB,EAAMjZ,OAASpF,EAAOoF,QACxBmY,EAAkB,2CAGb,EAGT,IAAK,IAAI1J,EAAI,EAAGA,EAAI7T,EAAOoF,OAAQyO,IAIjC,GAHkBuI,GAAgBpc,EAAO6T,GAAGyG,QAC3B8B,GAAgBiC,EAAMxK,GAAGyG,MAMxC,OAHA+C,EAAmB,uCACnBE,EAAkB,wCAEX,EAIX,OAAO,EAQFe,CAAmBtB,EAAgBE,GAAxC,CAIArb,EAAgB,mCAAoCpC,EAAUiC,4BAE9D,IAAK,IAAImS,EAAI,EAAGA,EAAImJ,EAAe5X,OAAQyO,IAAK,CAE9C,IAEM0K,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAHEja,YAIlB+Z,EAASE,OAAO,OAAQzB,EAAenJ,IACvC0K,EAASE,OAAO,OAAQvB,EAAcrJ,IAEtCvN,IACGoY,KAAK,8CAA+CH,EAAUzB,IAC9D5E,MAAK,SAACpW,GACL,IAAM6c,EAAiC,MAApB7c,EAASE,QAlHR,wEAkH0BF,EAASI,KAEnDyc,GACFtB,EAAmB,sBACnBE,EAAkB,sBAElBE,GAAoB,KAEpBJ,EAAmBvb,EAASI,MAC5Bqb,EAAkBzb,EAASI,OAI7B,IAAM0c,EAA0BD,EAC5Blf,EAAUgC,uBACVhC,EAAU8B,qBAEdM,EAAgBC,EAASI,KAAM0c,MAEhCzG,OAAM,SAACvW,GACF0E,IAAMK,aAAa/E,KACrBD,EAAiBC,GAEbA,EAAME,WACRub,EAAmBzb,EAAME,SAASI,MAClCqb,EAAkB3b,EAAME,SAASI,MAGjCL,EAAgBD,EAAME,SAASI,KAAMzC,EAAU8B,8BA2FnD,6B,kDC1UJsd,GAAW,aAuBXC,GAAoB,SAACC,GACzB,OAAO9Y,OAAO0U,KAAKoE,GAAWzP,KAAI,SAACwD,GAAS,IAfZkM,EAeW,EAXpC,EAJyBA,EAgBmBlM,GAflCwJ,QAAQuC,GAAU,MACnBG,EAAI1C,QAAQuC,GAAU,OAaK,mBAGzC,MAAO,CACLvE,KAJuC,KAKvC2E,QALuC,KAMvCC,YAAaH,EAAUjM,Q,UC9Bd,4mUCAA,OAA0B,iCCqBnClM,GAAYC,aAAW,SAACC,GAAD,eAC3BC,YAAa,CACXoY,OAAQ,CACNjY,gBAAiBwD,GAAOE,eAE1BE,aAAc,CACZ5D,gBAAiBwD,GAAOI,cAE1BsU,IAAK,CACH5W,SAAU,QAEZkH,UAAW,CACTqF,KAAM,EACNpF,OAAQ,EACR5F,QAAS,OACT6F,cAAe,SACfC,eAAgB,SAChBC,WAAY,UAEduP,eAAgB,CACd1P,OAAQ,EACR5F,QAAS,OACT6F,cAAe,MACfC,eAAgB,gBAChByP,aAAc,SACdxP,WAAY,SACZyP,WAAY,OAEdnI,KAAM,CACJzH,OAAQ,MACR1I,MAAO,MACP8C,QAAS,OACT6F,cAAe,SACfC,eAAgB,eAChBoF,QAAS,GAEXhI,MAAI,GACFqK,UAAW,UADT,eAEDxQ,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,SAHV,eAKD1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,YANV,eAQD1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,WATV,eAWD1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5B5E,SAAU,SAZV,GAeJgX,KAAM,CACJzK,KAAM,EACNpF,OAAQ,EACRyF,SAAU,QAEZlB,OAAK,oBACFpN,EAAMoG,YAAYC,KAAK,MAAQ,CAC9BlG,MAAO,QAFN,eAIFH,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,QALN,eAOFH,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BnG,MAAO,QARN,QAoHMwY,GAtGW,WAAO,IAAD,EACE/O,mBAAS,GADX,mBACvBgP,EADuB,KACbC,EADa,KAGxB9F,EAAcC,cAAc,SAAChT,GAAD,OAAkBA,EAAMoG,YAAYC,KAAK,SAErEvF,EAAUhB,KAIhB,OACE,qCACE,cAAC,GAAD,CAAkB0C,UAAQ,IAE1B,cAACG,EAAA,EAAD,CAAQI,UAAWjC,EAAQuX,OAAQzV,SAAS,SAA5C,SACE,eAACkW,GAAA,EAAD,CACEhY,QAAS,CAAEiY,UAAWjY,EAAQkD,cAC9BxJ,QAASuY,EAAc,YAAc,WACrCiG,UAAQ,EACR7V,aAAW,gBACX2D,MAAO8R,EACP/G,SAbY,SAACoH,EAAQjR,GAAT,OAA8B6Q,EAAY7Q,IAOxD,UAQE,cAACkR,GAAA,EAAD,CAAKnW,UAAWjC,EAAQwX,IAAK7G,MAAM,mBAEnC,cAACyH,GAAA,EAAD,CAAKnW,UAAWjC,EAAQwX,IAAK7G,MAAM,4BAIvC,sBAAK1O,UAAWjC,EAAQ8H,UAAxB,UACE,cAAC,GAAD,CAAU9B,MAAO8R,EAAU7R,MAAO,EAAlC,SACE,eAACuK,GAAA,EAAD,CAAMvO,UAAWjC,EAAQwP,KAAzB,UACE,eAAC/M,EAAA,EAAD,CAAYR,UAAWjC,EAAQqF,KAA/B,iDACuC,IACrC,mBAAGgT,KAAK,mCAAmCrH,OAAO,QAAlD,kCAKF,cAACvO,EAAA,EAAD,CAAYR,UAAWjC,EAAQqF,KAA/B,4EAIA,cAAC5C,EAAA,EAAD,CAAYR,UAAWjC,EAAQqF,KAA/B,gOAMA,eAAC5C,EAAA,EAAD,CAAYR,UAAWjC,EAAQqF,KAA/B,4CACkC,IAChC,mBACEgT,KAAK,qGACLrH,OAAO,QAFT,oCAOF,sBAAK/O,UAAWjC,EAAQyX,eAAxB,UACE,mBAAGY,KAAK,6BAA6BrH,OAAO,QAA5C,SACE,qBAAK/O,UAAWjC,EAAQsM,MAAOgC,IAAKgK,GAAU/J,IAAK+J,OAGrD,mBAAGD,KAAK,8CAA8CrH,OAAO,QAA7D,SACE,qBAAK/O,UAAWjC,EAAQsM,MAAOgC,IAAKiK,GAAMhK,IAAKgK,eAMvD,cAAC,GAAD,CAAUvS,MAAO8R,EAAU7R,MAAO,EAAlC,SACE,eAACuK,GAAA,EAAD,CAAMvO,UAAWjC,EAAQwP,KAAzB,UACE,cAAC/M,EAAA,EAAD,CAAYR,UAAWjC,EAAQqF,KAA/B,qHAKA,eAAC5C,EAAA,EAAD,CAAYR,UAAWjC,EAAQqF,KAA/B,4FACkF,IAChF,mBAAGgT,KAAK,qFAAR,uBAFF,OAQA,cAAC5V,EAAA,EAAD,CAAYR,UAAWjC,EAAQqF,KAA/B,yDAIA,cAACmT,GAAA,EAAD,CAAMvW,UAAWjC,EAAQ4X,KAAzB,SACGV,GAAkBC,IAAWzP,KAAI,gBAAGgL,EAAH,EAAGA,KAAM2E,EAAT,EAASA,QAAT,OAChC,cAACoB,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAc9Y,QAAS8S,EAAM3P,UAAWsU,KAD3B3E,oBC/KzB1T,GAAYC,aAAW,SAACC,GAAD,mBAC3BC,YAAa,CACX2I,UAAW,CACTC,OAAQ,OACR5F,QAAS,OACT6F,cAAe,SACfC,eAAgB,eAChBC,WAAY,UAEdyQ,oBAAkB,GAChBtZ,MAAO,OACP8C,QAAS,OACT8F,eAAgB,gBAHA,eAIf/I,EAAMoG,YAAYC,KAAK,MAAQ,CAC9B4H,KAAM,GACNnF,cAAe,WAND,eAQf9I,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BwC,cAAe,QATD,GAYlB4Q,kBAAmB,CACjBzW,QAAS,OACT6F,cAAe,SACfC,eAAgB,SAChBC,WAAY,UAEd2Q,YAAU,GACRjY,SAAU,OACVkY,WAAY,QAFJ,eAGP5Z,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,SAJJ,eAMP1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,WAPJ,eASP1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5B5E,SAAU,SAVJ,GAaVmY,cAAY,GACV9J,OAAQ,EACRC,aAAc,IAFJ,eAGThQ,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,IACP0I,OAAQ,GACRnH,SAAU,SANF,eAQT1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,IACP0I,OAAQ,GACRnH,SAAU,SAXF,eAaT1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BnG,MAAO,IACP0I,OAAQ,GACRnH,SAAU,YAhBF,GAmBZoY,aAAW,GACT9J,aAAc,IADL,eAERhQ,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,IACP0I,OAAQ,GACRnH,SAAU,SALH,eAOR1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,IACP0I,OAAQ,GACRnH,SAAU,SAVH,eAYR1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BnG,MAAO,IACP0I,OAAQ,GACRnH,SAAU,YAfH,QAwIAqY,GAnHY,WAAO,IAAD,EACGnQ,mBAAqB,IADxB,mBACxBoQ,EADwB,KACbC,EADa,OAESrQ,mBAAuB,IAFhC,mBAExBsQ,EAFwB,KAEVC,EAFU,KAIzB1X,EAAUC,cAEV5B,EAAUhB,KAehB,OACE,qCACE,cAAC,GAAD,CAAkB0C,UAAQ,IAE1B,sBAAKO,UAAWjC,EAAQ8H,UAAxB,UACE,sBAAK7F,UAAWjC,EAAQ2Y,mBAAxB,UACE,sBAAK1W,UAAWjC,EAAQ4Y,kBAAxB,UACE,cAACnW,EAAA,EAAD,CAAYR,UAAWjC,EAAQ6Y,WAA/B,uBAEA,eAAC,GAAD,CACE7E,YAAY,WACZlN,WAAS,EACTd,MAAOkT,EACP3S,SA1Ba,SACvB4R,EACAmB,GAFuB,OAGpBH,EAAaG,IAmBR,UAME,cAAC,GAAD,CACErX,UAAWjC,EAAQ+Y,aACnBrf,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACL4E,MAAM,SALR,oBAUA,cAAC,GAAD,CACE/D,UAAWjC,EAAQ+Y,aACnBrf,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACL4E,MAAM,cALR,+BAYJ,sBAAK/D,UAAWjC,EAAQ4Y,kBAAxB,UACE,cAACnW,EAAA,EAAD,CAAYR,UAAWjC,EAAQ6Y,WAA/B,wBAEA,eAAC,GAAD,CACE7E,YAAY,WACZlN,WAAS,EACTd,MAAOoT,EACP7S,SApDe,SACzB4R,EACAoB,GAFyB,OAGtBF,EAAgBE,IA6CX,UAME,cAAC,GAAD,CACEtX,UAAWjC,EAAQ+Y,aACnBrf,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACL4E,MAAM,OALR,kBAUA,cAAC,GAAD,CACE/D,UAAWjC,EAAQ+Y,aACnBrf,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACL4E,MAAM,SALR,oBAUA,cAAC,GAAD,CACE/D,UAAWjC,EAAQ+Y,aACnBrf,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACL4E,MAAM,OALR,2BAaN,cAAC9E,EAAA,EAAD,CACEe,UAAWjC,EAAQgZ,YACnBtf,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLH,SAA+B,IAArBiY,EAAU1b,QAAwC,IAAxB4b,EAAa5b,OACjD8E,QAxFa,kBACnBX,EAAQ0F,KAAR,yBAA+B6R,EAAU,GAAzC,uBAA0DE,EAAa,MAiFnE,0BC1HFI,GAAgB,SACpBC,EACAC,EACAC,EACAC,GAEA,GAAoB,IAAhBF,EAAKlc,OACP,MAAM,IAAIrC,MAAM,2CAGlB,IAAM0e,EAAQH,EAAK,GACbI,EAAOJ,EAAK,GACZK,EAAQL,EAAK,GAGbra,EAAQya,EAAOD,EACf9R,EAHO2R,EAAK,GAGIK,EAEtBN,EAAIE,UAAYA,EAChBF,EAAIG,YAAcA,EAElBH,EAAIO,YACJP,EAAIC,KAAKG,EAAOE,EAAO1a,EAAO0I,GAC9B0R,EAAIQ,UAiDAC,GAAiB,SAACT,EAA+BpR,GAAhC,OACrBI,KAAK0R,MAAO9R,EAAIxQ,EAAUG,iBAAoByhB,EAAInQ,OAAOjK,QAWrD+a,GAAgB,SAACX,EAA+BpR,GAAhC,OACpBI,KAAK0R,MAAO9R,EAAIoR,EAAInQ,OAAOjK,MAASxH,EAAUG,mBAU1CqiB,GAA4B,SAACZ,EAA+BC,GAAhC,OAChCA,EAAKhS,KAAI,SAACW,GAAD,OAAO+R,GAAcX,EAAKpR,OChJ/BiS,GAAmB,SACvBb,EACApU,EACAjE,EACAuY,EACArZ,IDkFsB,SACtBmZ,EACApU,EACAgD,EACAC,EACAiS,EACAnZ,EACAoZ,EACAZ,EACAa,GAEAhB,EAAIiB,KAAJ,UAActZ,EAAd,aACAqY,EAAIkB,SAAW,QACflB,EAAImB,WAAa,EAEjBnB,EAAI/J,UAAY6K,EAChBd,EAAIE,UAAYa,EAChBf,EAAIG,YAAcA,EAClBH,EAAIgB,UAAYA,EAEhBhB,EAAIoB,WAAWxV,EAAMgD,EAAGC,GACxBmR,EAAIqB,SAASzV,EAAMgD,EAAGC,GClGtByS,CAAgBtB,EAAKpU,EAHXoD,KAAK0R,MAAMV,EAAInQ,OAAOjK,MAAQ,GAC9BoJ,KAAK0R,MAAMV,EAAInQ,OAAOvB,OAAS,IAER,SAAU3G,EAAMuY,EAAW,QAASrZ,IA2CjE0a,GAAoB,SAACC,EAAsB5iB,GAAvB,2BACVA,EADU,YACI4iB,EADJ,UAqBpBC,GAAiB,SAAC7iB,GACtB,OAAQA,GACN,IAAK,OACH,OAAO0D,EAAUQ,gBACnB,IAAK,SACH,OAAOR,EAAUS,kBACnB,IAAK,OACH,OAAOT,EAAUU,gBACnB,QACE,OjD1FoB,SAAC0e,GACzB,MAAM,IAAIhgB,MAAJ,4BAA+BggB,EAA/B,ciDyFKC,CAAkB/iB,KAwEzBgjB,GAAoB,SACxBnQ,EACA1Q,EACAP,GAEkC,OAA9BgU,aAAa5C,QAAQH,KACvBjR,EAAgBO,EAAS3C,EAAUwB,4BAEnC4U,aAAavC,QAAQR,EAAK,UC9KxBlM,GAAYC,aAAW,SAACC,GAAD,aAC3BC,YAAa,CACX2I,WAAS,GACPmH,OAAQ,EACR5B,QAAS,EACTlL,QAAS,OACT6F,cAAe,SACfE,WAAY,UALL,eAMNhJ,EAAMoG,YAAYC,KAAK,MAAQ,CAC9BlG,MAAO,OACPic,SAAU,SARL,eAUNpc,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BnG,MAAO,OACPic,SAAU,SAZL,GAeTC,MAAO,CACL9L,aAAc,EACd7O,SAAU,eAuCD4a,GAlC+B,SAAC,GAMvB,IALtBC,EAKqB,EALrBA,SACAC,EAIqB,EAJrBA,aACAC,EAGqB,EAHrBA,YACAC,EAEqB,EAFrBA,UACAC,EACqB,EADrBA,WAEM7b,EAAUhB,KAEV8c,GAAQF,EAAY,KAAMG,QAAQ,GAExC,OACE,eAACvL,GAAA,EAAD,CAAMvO,UAAWjC,EAAQ8H,UAAzB,UACE,cAAC,EAAD,CAAc1H,KAAmB,WAAbqb,EAApB,SACE,cAACva,EAAA,EAAD,CAAQxH,QAAQ,YAAY4G,MAAM,YAAYW,SAAUya,EAAcpZ,QAASqZ,EAA/E,yBAKF,eAAC,EAAD,CAAcvb,KAAmB,gBAAbqb,EAApB,UACE,eAAChZ,EAAA,EAAD,CAAYR,UAAWjC,EAAQub,MAAOrZ,MAAO,CAAE5B,MAAOub,GAAtD,6BACmBC,EADnB,OAIA,cAAC,EAAD,CACEpc,SAAUmc,EACVniB,QAAQ,cACRsM,MAAO4V,EAAY,aClDvB5c,GAAYC,aAAW,SAACC,GAAD,iBAC3BC,YAAa,CACX2I,UAAU,gBACP5I,EAAMoG,YAAYE,GAAG,MAAQ,CAC5B2H,KAAM,EACNpF,OAAQ,OACR5F,QAAS,OACT8F,eAAgB,WAChBC,WAAY,WAGhBsH,MAAI,GACFrN,QAAS,OACT6F,cAAe,SACfE,WAAY,SACZ8T,aAAc,SACd/M,OAAQ,EACR5B,QAAS,GANP,eAODnO,EAAMoG,YAAYC,KAAK,MAAQ,CAC9BlG,MAAO,OACPic,SAAU,SATV,eAWDpc,EAAMoG,YAAYE,GAAG,MAAQ,CAC5ByW,SAAU,SAZV,GAeJC,iBAAe,GACb7c,MAAO,OACP8C,QAAS,QAFI,eAGZjD,EAAMoG,YAAYC,KAAK,MAAQ,CAC9ByC,cAAe,MACfC,eAAgB,iBALL,eAOZ/I,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BwC,cAAe,SACfE,WAAY,WATD,GAYfiU,UAAQ,oBACLjd,EAAMoG,YAAYC,KAAK,MAAQ,CAC9B3E,SAAU,WAFN,eAIL1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5B5E,SAAU,SALN,GAQRwb,qBAAsB,CACpB/c,MAAO,OACP8C,QAAS,OACT6F,cAAe,SACfC,eAAgB,eAChBC,WAAY,UAEd8G,OAAQ,CACNC,OAAQ,YAoICoN,GA/HiC,SAAC,GAaxB,IAZvBZ,EAYsB,EAZtBA,SACAa,EAWsB,EAXtBA,YACAC,EAUsB,EAVtBA,UACAC,EASsB,EATtBA,WACAC,EAQsB,EARtBA,aACA9W,EAOsB,EAPtBA,cACA+W,EAMsB,EANtBA,aACArM,EAKsB,EALtBA,cACAsM,EAIsB,EAJtBA,aACAC,EAGsB,EAHtBA,YACAC,EAEsB,EAFtBA,YACAC,EACsB,EADtBA,QACsB,EAC0BhU,oBAAS,GADnC,mBACfiU,EADe,KACGC,EADH,KAGhBhd,EAAUhB,KAHM,EAKcie,mBAAQ,WAC1C,IAAMC,EAAkBL,EAAYM,MAAQN,EAAY1C,MAClDiD,EAAcN,EAAQK,MAAQL,EAAQ3C,MAE5C,OAAI+C,EAAkBE,EACb,CAAC,WAAYta,GAAOmB,WAGzBiZ,EAAkBE,EACb,CAAC,UAAWta,GAAOkB,YAGrB,CAAC,iBAAkBlB,GAAOiB,QAChC,CAAC8Y,EAAaC,IAlBK,mBAKfO,EALe,KAKFC,EALE,KAoBhBC,EAAgB,uCAAG,sBAAAlgB,EAAA,sEAErB2f,GAAoB,GAFC,SAIfJ,IAJe,uBAMrBI,GAAoB,GANC,uEAAH,qDAUtB,OACE,qBAAK/a,UAAWjC,EAAQ8H,UAAxB,SACE,eAAC0I,GAAA,EAAD,CAAMvO,UAAWjC,EAAQwP,KAAzB,UACE,sBAAKvN,UAAWjC,EAAQkc,gBAAxB,UACE,cAAC,GAAD,CACErW,OAAO,MACPC,MAAO+W,EAAYM,MACnBzX,UAAWmX,EAAY1C,MACvBxU,cAAeA,IAGjB,cAAClD,EAAA,EAAD,CAAYR,UAAWjC,EAAQmc,SAA/B,gBAEA,cAAC,GAAD,CACEtW,OAAO,KACPC,MAAOgX,EAAQK,MACfzX,UAAWoX,EAAQ3C,MACnBxU,cAAeA,OAInB,cAAC,EAAD,CAAcvF,MAAOmc,EAArB,SACE,cAAC9Z,EAAA,EAAD,CAAYR,UAAWjC,EAAQmc,SAAUja,MAAO,CAAE5B,MAAOgd,GAAzD,SACGD,MAIL,cAAC,EAAD,CAAcjd,KAAMmc,EAApB,SACE,cAAC,EAAD,CACEta,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLJ,QAASyb,EACTxb,SAAUqb,IAAgBE,EAC1Bla,QAASoa,EAPX,SASGJ,EAAc,OAAS,YAI5B,cAAC,EAAD,CACElc,KAAoB,gBAAbqb,IAA+Bc,IAAeC,GAAcC,EADrE,SAGE,sBAAKxa,UAAWjC,EAAQoc,qBAAxB,UACE,cAAClb,EAAA,EAAD,CACEe,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QAAS+N,EALX,oBAUA,cAACnP,EAAA,EAAD,CACEe,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QAASqa,EALX,wBAYJ,cAAC,EAAD,CAAcvc,MAAOmc,EAArB,SACE,cAAC,EAAD,CACEta,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLJ,QAAS+b,EACTza,QAASib,EANX,sC,UC/FKC,GArE6C,SAAC,GAI9B,IAH7B/O,EAG4B,EAH5BA,KACAC,EAE4B,EAF5BA,QACA+O,EAC4B,EAD5BA,SAC4B,EACI3U,mBAAS,IADb,mBACrB4U,EADqB,KACXC,EADW,OAEF7U,oBAAS,GAFP,mBAErB9O,EAFqB,KAEd4jB,EAFc,OAGE9U,oBAAS,GAHX,mBAGrB9H,EAHqB,KAGZ6c,EAHY,KAKtBC,EAAgB,WACpBH,EAAY,IACZC,GAAS,GAETlP,KAQI2B,EAAa,uCAAG,sBAAAhT,EAAA,yDACH,KAAbqgB,EADgB,gBAElBE,GAAS,GAFS,6BAIlBC,GAAW,GAJO,SAMZJ,EAASC,GANG,OAQlBG,GAAW,GARO,2CAAH,qDAYnB,OACE,eAACrP,GAAA,EAAD,CAAQC,KAAMA,EAAMC,QAASoP,EAA7B,UACE,cAACnP,GAAA,EAAD,qBAEA,eAACC,GAAA,EAAD,WACE,cAACmP,GAAA,EAAD,qEAIA,cAACtN,GAAA,EAAD,CACEC,WAAS,EACTzB,OAAO,QACP0B,MAAM,WACNC,UAAQ,EACRC,KAAK,OACLmN,WAAS,EACThkB,MAAOA,EACP8W,WAAY9W,EAAQ,2BAA6B,GACjDgM,MAAO0X,EACP3M,SApCiB,SAACtK,GACxBmX,GAAS,GACTD,EAAYlX,EAAMuK,OAAOhL,aAsCvB,eAAC8I,GAAA,EAAD,WACE,cAAC5N,EAAA,EAAD,CAAQZ,MAAM,UAAUgC,QAASwb,EAAjC,oBAIA,cAAC,EAAD,CAAexd,MAAM,UAAUU,QAASA,EAASsB,QAAS+N,EAA1D,2B,qGC1DFrR,GAAYC,aAAW,SAACC,GAAD,OAC3BC,YAAa,CACX8e,YAAa,CACXnc,SAAU,WACVoc,MAAOhf,EAAMif,QAAQ,GACrBC,IAAKlf,EAAMif,QAAQ,GACnB7d,MAAOpB,EAAMS,QAAQ0e,KAAK,MAE5BvW,UAAW,CACTzI,MAAO,OACPqQ,UAAW,UAEb4O,YAAa,CACXrP,OAAQ,aA2DCsP,GAtD2C,SAAC,GAI7B,IAH5B9P,EAG2B,EAH3BA,KACAC,EAE2B,EAF3BA,QACA5I,EAC2B,EAD3BA,MAEM9F,EAAUhB,KAEhB,OACE,eAACwP,GAAA,EAAD,CAAQC,KAAMA,EAAMC,QAASA,EAASsP,WAAS,EAAC1C,SAAS,KAAzD,UACE,eAAC3M,GAAA,EAAD,WACE,cAAClM,EAAA,EAAD,CAAY/I,QAAQ,KAApB,+BAEA,cAACsI,EAAA,EAAD,CAAYC,UAAWjC,EAAQie,YAAa3b,QAASoM,EAArD,SACE,cAAC,KAAD,SAIJ,sBAAKzM,UAAWjC,EAAQ8H,UAAxB,UACE,cAAC0W,GAAA,EAAD,CACEvc,UAAWjC,EAAQse,YACnB7f,IAAI,mDACJ8C,MAAK,gBAAWuE,EAAX,sDAHP,SAKE,cAAC2Y,GAAA,EAAD,CAAard,KAAK,OAAO+Y,OAAK,MAGhC,cAACuE,GAAA,EAAD,CACEzc,UAAWjC,EAAQse,YACnB7f,IAAI,mDACJkgB,MAAK,gBAAW7Y,EAAX,sDAHP,SAKE,cAAC8Y,GAAA,EAAD,CAAcxd,KAAK,OAAO+Y,OAAK,MAGjC,cAAC0E,GAAA,EAAD,CACE5c,UAAWjC,EAAQse,YACnB7f,IAAI,mDACJ8C,MAAK,gBAAWuE,EAAX,sDAHP,SAKE,cAACgZ,GAAA,EAAD,CAAc1d,KAAK,OAAO+Y,OAAK,MAGjC,cAAC4E,GAAA,EAAD,CACE9c,UAAWjC,EAAQse,YACnB7f,IAAI,mDACJugB,QAAO,gBAAWlZ,EAAX,sDAHT,SAKE,cAACmZ,GAAA,EAAD,CAAW7d,KAAK,OAAO+Y,OAAK,a,UCgBvB+E,GAjFyC,SAAC,GAI5B,IAH3BzQ,EAG0B,EAH1BA,KACAC,EAE0B,EAF1BA,QACAyQ,EAC0B,EAD1BA,KAC0B,EACYrW,oBAAS,GADrB,mBACnBsW,EADmB,KACNC,EADM,OAEcvW,mBAAS,qBAFvB,mBAEnBwW,EAFmB,KAELC,EAFK,KAIpBC,EAAW7U,iBAAyB,MAEpC8U,EAAkB,WACG,OAArBD,EAAS3V,UAIb2V,EAAS3V,QAAQ6V,SAGjBF,EAAS3V,QAAQ8V,kBAAkB,EAAGR,EAAK3hB,UAkB7C,OACE,eAACgR,GAAA,EAAD,CAAQC,KAAMA,EAAMC,QAASA,EAA7B,UACE,cAACC,GAAA,EAAD,wBAEA,eAACC,GAAA,EAAD,WACE,cAACmP,GAAA,EAAD,4DAEA,cAACtN,GAAA,EAAD,CACE+O,SAAUA,EACV9lB,QAAQ,WACRskB,WAAS,EACT/O,OAAO,QACPyB,WAAS,EACTG,KAAK,MACLF,MAAM,iBACN3K,MAAOmZ,EACP7c,QAASmd,EACTxO,WAAY,CACVuF,UAAU,EACVrF,aACE,cAACC,GAAA,EAAD,CACEtP,SAAS,MACT8d,aA7BgB,WAC5BL,EAAgB,qBAChBF,GAAe,IA4BHQ,aAzBgB,kBAAMR,GAAe,IAsBvC,SAKE,cAACve,EAAA,EAAD,CAAS2N,KAAM2Q,EAAa7d,MAAO+d,EAAnC,SACE,cAACtd,EAAA,EAAD,CAAYZ,KAAK,QAAQgB,KAAK,MAAME,QAzCrB,WAC7Bmd,IAEAK,SAASC,YAAY,QAErBR,EAAgB,YAoCF,SACE,cAACS,GAAA,EAAD,gBASd,cAAClR,GAAA,EAAD,UACE,cAAC5N,EAAA,EAAD,CAAQZ,MAAM,UAAUgC,QAASoM,EAAjC,yB,UCxEF1P,GAAYC,YAChBE,YAAa,CACX8gB,aAAc,CACZ5gB,MAAO,OACP0I,OAAQ,QAEVmY,cAAe,CACbjR,OAAQ,EACR6J,WAAY,WAsGHqH,GAjG2C,SAAC,GAI7B,IAH5B1R,EAG2B,EAH3BA,KACAC,EAE2B,EAF3BA,QACA0R,EAC2B,EAD3BA,UAEMnO,EAAcC,cAAc,SAAChT,GAAD,OAAkBA,EAAMoG,YAAYC,KAAK,SAErEvF,EAAUhB,KAHW,EAKKie,mBAAQ,WACtC,IhC9B2BoD,EgC8BrB/lB,EAAO,CACX,CACEsQ,GAAI,kBACJ+F,MAAO,kBACP3K,MAAOoa,EAAUE,cACjBhgB,MAAOwC,GAAO6B,wBAEhB,CACEiG,GAAI,gBACJ+F,MAAO,gBACP3K,MAAOoa,EAAUG,YACjBjgB,MAAOwC,GAAO+B,sBAEhB,CACE+F,GAAI,QACJ+F,MAAO,cACP3K,MAAOoa,EAAUI,UACjBlgB,MAAOwC,GAAO8B,gBAIlB,OhCnD2Byb,EgCmDJ,SAAChY,GAAD,OAAmB,IAAZA,EAAErC,OAAf1L,EhClDhBmmB,QACD,SAACC,EAAKrY,GAGJ,OAFAqY,EAAIL,EAAUhY,GAAK,EAAI,GAAGhB,KAAKgB,GAExBqY,IAET,CAAC,GAAI,OgC6CJ,CAACN,IA5BuB,mBAKpBO,EALoB,KAKPC,EALO,KA8B3B,OACE,eAACpS,GAAA,EAAD,CAAQC,KAAMA,EAAMC,QAASA,EAASsP,WAAS,EAAC1C,SAAS,KAAzD,UACE,cAAC3M,GAAA,EAAD,+BAEA,eAACC,GAAA,EAAD,WACE,qBAAK3M,UAAWjC,EAAQigB,aAAchK,OAA+B,IAAvB0K,EAAYnjB,OAA1D,SACE,cAAC,KAAD,CACElD,KAAMqmB,EACNE,YAAa,IACbC,aAAc,EACd7R,OAAQ,CAAEmP,IAAK,GAAIF,MAAO,GAAI6C,OAAQ,GAAIC,KAAM,IAChDle,OAAQ,CAAEme,MAAO,cACjBC,YAAa,EACbC,YAAa,CAAEC,KAAM,QAASC,UAAW,CAAC,CAAC,SAAU,KACrDC,oBAAoB,EACpBC,WAAW,QACXC,QAAS,CACP,CACEC,OAAQ,SACRC,UAAWzP,EAAc,SAAW,MACpC0P,SAAS,EACTC,WAAY,GACZC,UAAW,GACXC,WAAY,GACZC,aAAc9P,EAAc,EAAI,GAChC+P,cAAelf,GAAO2B,WACtBwd,WAAY,GACZC,YAAa,SACbC,QAAS,CACP,CACEC,GAAI,QACJlgB,MAAO,CACL8f,cAAelf,GAAO4B,yBASnCkc,EAASlZ,KAAI,YAAoB,IAAjBkD,EAAgB,EAAhBA,GACf,OAAc,IADiB,EAAZ5E,MAEV,KAIP,cAACvD,EAAA,EAAD,CAAqBR,UAAWjC,EAAQkgB,cAAxC,gCACmBtV,EADnB,gCAAiBA,SAOvB,cAACkE,GAAA,EAAD,UACE,cAAC5N,EAAA,EAAD,CAAQZ,MAAM,UAAUgC,QAASoM,EAAjC,yBC1FO2T,GAhBY,SACzBhqB,EACAiqB,GAEA,IAAMC,EAAqB3W,GAAyB,EAAGsP,GAAe7iB,IAChEmqB,EAAwB5Z,GAAkB0Z,GAAoB,IAEpE,OAAO,WACL,OAAIA,EACKE,IAGFD,MCuBLvjB,GAAYC,aAAW,SAACC,GAAD,eAC3BC,YAAa,CACX2I,WAAS,GACPC,OAAQ,OACR5F,QAAS,OACT8F,eAAgB,eAChBC,WAAY,UAJL,eAKNhJ,EAAMoG,YAAYC,KAAK,MAAQ,CAC9ByC,cAAe,WANV,eAQN9I,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BwC,cAAe,QATV,GAYTya,SAAS,cACPtV,KAAM,GACLjO,EAAMoG,YAAYC,KAAK,MAAQ,CAC9BpD,QAAS,SAGbugB,sBAAuB,CACrBvgB,QAAS,OACT6F,cAAe,SACfE,WAAY,UAEdya,iBAAe,GACb7gB,SAAU,WACVuL,QAAS,EACTlL,QAAS,OACT6F,cAAe,SACfE,WAAY,UALC,eAMZhJ,EAAMoG,YAAYC,KAAK,MAAQ,CAC9BwC,OAAQ,OACR1I,MAAO,OACPic,SAAU,OACVsH,UAAW,SAVA,eAYZ1jB,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BuC,OAAQ,OACR1I,MAAO,OACPic,SAAU,OACVsH,UAAW,SAhBA,GAmBftZ,OAAQ,CACNvB,OAAQ,OACR1I,MAAO,OACPyC,SAAU,WACVkf,KAAM,EACN5C,IAAK,GAEPyE,YAAa,CACXC,OAAQ,GAEVC,gBAAiB,CACfD,OAAQ,GAEVE,cAAe,CACbF,OAAQ,QAKRG,GAAuC,CAC3CC,OAAQ,GACR5C,cAAe,EACfE,UAAW,EACXD,YAAa,GA40BA4C,GAz0BmB,SAAC,GAA2D,IAAzD1H,EAAwD,EAAxDA,SAAUpjB,EAA8C,EAA9CA,WAAYiqB,EAAkC,EAAlCA,iBAAkC,EAC/CxZ,oBAAS,GADsC,mBACpFsa,EADoF,KACpEC,EADoE,OAErDva,oBAAS,GAF4C,mBAEpFwa,EAFoF,KAEvEC,EAFuE,OAI3Cza,oBAAS,GAJkC,mBAIpF0a,EAJoF,KAIlEC,EAJkE,OAK7C3a,oBAAS,GALoC,mBAKpF4a,EALoF,KAKnEC,EALmE,OAMnC7a,oBAAS,GAN0B,mBAMpF8a,EANoF,KAM9DC,EAN8D,OAOrC/a,oBAAS,GAP4B,mBAOpFgb,EAPoF,KAO/DC,EAP+D,OASjDjb,mBAAS,IATwC,mBASpFkb,EAToF,KASrEC,EATqE,QAWrDnb,mBAAS,GAX4C,qBAWpFob,GAXoF,MAWvEC,GAXuE,SAYzDrb,oBAAS,GAZgD,qBAYpFyT,GAZoF,MAYzE6H,GAZyE,SAa/Dtb,oBAAS,GAbsD,qBAapFub,GAboF,MAa5EC,GAb4E,SAe/Dxb,oBAAU,GAfqD,qBAepFyb,GAfoF,MAe5EC,GAf4E,SAgB7D1b,mBAAmB,IAhB0C,qBAgBpF2b,GAhBoF,MAgB3EC,GAhB2E,SAkBjE5b,mBAAmB,IAlB8C,qBAkBpFnF,GAlBoF,MAkB7EghB,GAlB6E,SAmBzD7b,mBAAmB,IAnBsC,qBAmBpFhF,GAnBoF,MAmBzE8gB,GAnByE,SAoBjE9b,mBAA0C,MApBuB,qBAoBpFxF,GApBoF,MAoB7EuhB,GApB6E,SAsBzD/b,mBAAQ,2BACrCma,IADqC,IAExCC,OAAQ,MAxBiF,qBAsBpF9C,GAtBoF,MAsBzE0E,GAtByE,SA2BnDhc,oBAAS,GA3B0C,qBA2BpF2T,GA3BoF,MA2BtEsI,GA3BsE,SA4BvDjc,oBAAS,GA5B8C,qBA4BpF0T,GA5BoF,MA4BxEwI,GA5BwE,SA6BjDlc,oBAAS,GA7BwC,qBA6BpFnD,GA7BoF,MA6BrEsf,GA7BqE,SA+BnDnc,oBAAS,GA/B0C,qBA+BpFoc,GA/BoF,MA+BtEC,GA/BsE,SAgCzDrc,mBAAS/M,EAAUO,eAhCsC,qBAgCpFsf,GAhCoF,MAgCzEwJ,GAhCyE,SAkCvDtc,oBAAS,GAlC8C,qBAkCpFuc,GAlCoF,MAkCxEC,GAlCwE,SAmC7Dxc,mBAAS,GAnCoD,qBAmCpFyc,GAnCoF,MAmC3EC,GAnC2E,SAqC3C1c,oBAAS,GArCkC,qBAqCpF2c,GArCoF,MAqClEC,GArCkE,SAsCzC5c,mBAAS,GAtCgC,qBAsCpF6c,GAtCoF,MAsCjEC,GAtCiE,SAwCvD9c,mBAAShG,GAAOU,cAxCuC,qBAwCpFqY,GAxCoF,MAwCxEgK,GAxCwE,SA0CjD/c,oBAAS,GA1CwC,qBA0CpFgd,GA1CoF,MA0CrEC,GA1CqE,SA4CrDjd,mBAAS,CAAEqU,MAAO,EAAGhD,MAAO,IA5CyB,qBA4CpF0C,GA5CoF,MA4CvEmJ,GA5CuE,SA6CnCld,mBAAS,GA7C0B,qBA6CpFmd,GA7CoF,MA6C9DC,GA7C8D,SA8CnCpd,oBAAS,GA9C0B,qBA8CpFqd,GA9CoF,MA8C9DC,GA9C8D,SAgD7Dtd,mBAAS,CAAEqU,MAAO,EAAGhD,MAAO,IAhDiC,qBAgDpF2C,GAhDoF,MAgD3EuJ,GAhD2E,SAiD3Cvd,mBAAS,GAjDkC,qBAiDpFwd,GAjDoF,MAiDlEC,GAjDkE,SAmD9Drd,KAnD8D,qBAmDpFC,GAnDoF,MAmD3Eqd,GAnD2E,SAoD5Ctd,KApD4C,qBAoDpFud,GApDoF,MAoDlEC,GApDkE,MAsDrF/D,GAAkBhY,iBAAuB,MAEzCgc,GAAetE,GAAmBhqB,EAAYiqB,GAE5CroB,GAAoBkY,cAApBlY,gBAEF0H,GAAUC,cAEV5B,GAAUhB,KAShBuL,IACE,kBAAM6a,IAAa,SAACnc,GAAD,OAAeA,EAAY,SAC9Cic,IAA6B,gBAAbzJ,EAA6B,IAAM,MAMrD,IAAMmL,GAAWvd,uBAAY,WAC3B0c,IAAiB,GACjBzB,IAAU,GAEV,IAAMuC,EAASzM,GAAcjR,GAASpN,EAAUI,YAC1CvD,EAAYwhB,GAAcjR,GAAStR,EAAUe,WAE7CyP,EAAIE,GAAaE,KAAK0R,MAAMxW,GAAM,IAAMA,GAAM,GAAKA,GAAM,IAAM,GAAI/K,GACnE0P,EAAIC,GAAaE,KAAK0R,MAAMxW,GAAM,IAAMA,GAAM,GAAKA,GAAM,IAAM,GAAI/K,ITpK1D,SACjB6gB,EACApR,EACAC,EACAue,EACAlN,EACAC,GAEAH,EAAIE,UAAYA,EAChBF,EAAIG,YAAcA,EAElBH,EAAIO,YACJP,EAAIqN,IAAIze,EAAGC,EAAGue,EAAQ,EAAG,EAAIpe,KAAKse,IAClCtN,EAAIQ,SSyJF+M,CAAW7d,GAASd,EAAGC,EAAGue,EAAQ9qB,EAAUG,cAAe4G,GAAOS,QACjE,CAAC4F,GAASxF,KAKbiG,qBAAU,WACHsb,KAIDtJ,KAAc7f,EAAUM,UAK1BwpB,GAAc/iB,GAAOW,aAErBmjB,MACShL,KAAc/jB,EAAUuB,QAIjCysB,GAAc/iB,GAAOY,UACE,IAAdkY,KAIT0J,IAAc,GACdH,IAAgB,OAEjB,CAACD,GAActJ,GAAWgL,KAS7Brc,IAAY,kBAAMib,IAAW,SAACvc,GAAD,OAAeA,EAAY,SAAMoc,GAAa,IAAM,MASjF,IAAM4B,GAAc5d,sBAAW,uCAC7B,WAAOhB,EAAWC,EAAW4e,GAA7B,6BAAA7pB,EAAA,6DACQ8pB,EAAW,CACf9e,EAAG6R,GAAe/Q,GAASd,GAC3BC,EAAG4R,GAAe/Q,GAASb,GAC3B8e,WAAY,GAGNlE,EAAkD9C,GAAlD8C,OAAQ5C,EAA0CF,GAA1CE,cAAeE,EAA2BJ,GAA3BI,UAAWD,EAAgBH,GAAhBG,iBAMpB/kB,KAHhB6rB,EAAgBnE,EAAOoE,MAAK,SAACC,GAAD,OAASA,EAAIlf,IAAM8e,EAAS9e,GAAKkf,EAAIjf,IAAM6e,EAAS7e,MAIpF4a,EAAO7b,KAAK8f,GAEZE,EAAcD,YAAc,EAGxBI,EAAUjD,GAAOkD,WAEjBC,EAAe,CACnBxE,SACA5C,cAAeA,GAAiB4G,EAAU,EAAI,GAC9C3G,YAAaA,GAAe2G,EAAU,EAAI,GAC1C1G,UAAWA,GAAasF,GAAgB,EAAI,IAzBhD,kBA6BUxoB,IACHS,YACAC,WAAWnG,EAAUO,OAAOC,IAC5B4F,IAAIupB,GACJ/T,IAAIiU,GAjCX,yDAmCQ9rB,EAAiB,EAAD,IAClBC,EAAqB,EAAD,IAEpBhB,EAAoB,EAAD,GAAQ,eAtCjC,0DAD6B,0DA2C7B,CAACsO,GAAS9Q,EAAYksB,GAAQuB,GAAe1F,KAM/CxW,qBAAU,WACR,GAAKyb,GAIL,GAAgB,IAAZE,GAAe,CAOjB,GAAIjiB,GAAO,CAAC,IACF+E,EAAS/E,GAAT+E,EAAGC,EAAMhF,GAANgF,EAEL3P,EAAYyhB,GAAcjR,GAAStR,EAAUc,WAC7CD,EAAiB0hB,GAAcjR,GAAStR,EAAUa,iBTpT9C,SAChB+gB,EACApR,EACAC,EACAlH,EACAuY,EACAC,GAEAH,EAAIE,UAAYA,EAChBF,EAAIG,YAAcA,EAClBH,EAAIO,YACJP,EAAIkO,OAAOtf,EAAIjH,EAAMkH,EAAIlH,GACzBqY,EAAImO,OAAOvf,EAAIjH,EAAMkH,EAAIlH,GACzBqY,EAAIkO,OAAOtf,EAAIjH,EAAMkH,EAAIlH,GACzBqY,EAAImO,OAAOvf,EAAIjH,EAAMkH,EAAIlH,GACzBqY,EAAIQ,SSuSE4N,CAAU1e,GAASd,EAAGC,EAAG3P,EAAWD,EAAgBoK,GAAOQ,OAG7DrJ,GAAgB,4BAA6BpC,EAAU+B,4BAEvD8rB,IAAoB,GACpBJ,IAAc,QACT,GAAIC,KAAY1tB,EAAUoB,kBAAmB,CAIlD,IAAMJ,EAAqBuhB,GAAcjR,GAAStR,EAAUgB,oBAE5D2gB,GAAcrQ,GAASrF,GAAWjL,EAAoBiK,GAAOgB,gBACxD,GAAIyhB,KAAY1tB,EAAUqB,cAAe,CAI9C,IAAMF,EAAiBohB,GAAcjR,GAAStR,EAAUmB,gBAExDwgB,GAAcrQ,GAASxF,GAAO3K,EAAgB8J,GAAOa,YAChD,GAAI4hB,KAAY1tB,EAAUsB,eAAgB,CAY/C,GAFAc,GAAgB,sBAAuBpC,EAAU+B,4BAE7C0J,GAAO,CAAC,IACF+E,EAAS/E,GAAT+E,EAAGC,EAAMhF,GAANgF,EAGL1E,EAAgBD,GAAM,IAAM0E,GAAKA,GAAK1E,GAAM,IAAMA,GAAM,IAAM2E,GAAKA,GAAK3E,GAAM,GAIpF,GAFAsjB,GAAY5e,EAAGC,EAAG1E,GAAe0M,MAAK,eAElC1M,EAAe,CAEjB,IAAMkkB,EAAc,IAAOhC,GAAgB,EAAI,GAGzCiC,EAAmBtf,KAAK0R,MAAMyB,GAAY,MAAQkK,GAAgB,EAAI,GAEtEkC,EAA0B,WAAbvM,EAAwBqM,EAAcC,EAEzD/B,IAAe,kBAAgB,CAAE7I,MAAlB,EAAGA,MAAsBhD,MAAO6N,MAC/C9B,IAAwB,SAACjd,GAAD,OAAeA,EAAY,KACnDmd,IAAwB,GAG1B,IAAM/gB,EAAOzB,EAAgB,gBAAkB,UACzCqkB,EAAYrkB,EAAgBd,GAAOc,cAAgBd,GAAOe,gBAE1DqkB,EAAW9N,GAAcjR,GAAStR,EAAUiB,kBAC5CqvB,EAAgB/N,GAAcjR,GAAStR,EAAUkB,uBAEvDuhB,GAAiBnR,GAAS9D,EAAM6iB,EAAUC,EAAeF,OACpD,CACL,IAAMC,EAAW9N,GAAcjR,GAAStR,EAAUiB,kBAC5CqvB,EAAgB/N,GAAcjR,GAAStR,EAAUkB,uBAEvDuhB,GAAiBnR,GAAS,YAAa+e,EAAUC,EAAerlB,GAAOe,iBAGzE,IAAMukB,ER/VqB,SAACC,EAAiBC,GACjD,GAAqB,IAAjBD,EAAM7qB,QAAiC,IAAjB8qB,EAAM9qB,OAC9B,MAAM,IAAIrC,MAAM,qDAGlB,IAAMotB,EAAK9f,KAAK6B,IAAI+d,EAAM,GAAIC,EAAM,IAC9BE,EAAK/f,KAAK4B,IAAIge,EAAM,GAAIC,EAAM,IAC9BG,EAAKhgB,KAAK6B,IAAI+d,EAAM,GAAIC,EAAM,IAC9BI,EAAKjgB,KAAK4B,IAAIge,EAAM,GAAIC,EAAM,IAE9BK,EAAQlgB,KAAK6B,IAAI,EAAGke,EAAKD,EAAK,GAAK9f,KAAK6B,IAAI,EAAGoe,EAAKD,EAAK,GAO/D,OAAOE,IALQN,EAAM,GAAKA,EAAM,GAAK,IAAMA,EAAM,GAAKA,EAAM,GAAK,IAClDC,EAAM,GAAKA,EAAM,GAAK,IAAMA,EAAM,GAAKA,EAAM,GAAK,GAEnCK,GQgVIC,CAAyBjlB,GAAOG,IAK9D,GAFkBskB,EAAwB,GAE3B,CAEb,IAGMS,EAAwBpgB,KAAK0R,MACjCiO,EAAwBrsB,EAAUC,mBAG9BgsB,EAA0B,WAAbvM,EAPC,EAOqCoN,EAEzDxC,IAAW,kBAAgB,CAAElJ,MAAlB,EAAGA,MAAsBhD,MAAO6N,MAC3CzB,IAAoB,SAACtd,GAAD,OAAeA,EAAY,KAGjD+b,IAAc,GACdM,IAAc,MAEf,CACDhiB,GACA6F,GACAkc,GACAE,GACAtrB,GACAsqB,GACA9I,EACAqK,GACAhiB,GACA8X,GACAjY,GACAsjB,KAUF1c,IACE,kBAAMqb,IAAqB,SAAC3c,GAAD,OAAeA,EAAY,OACtDwc,GACIhd,KAAK0R,MAAMpe,EAAUK,kBAAV,SAA8BvE,EAAUU,qBAAwB,IAC3E,MAMNqR,qBAAU,WACR,GAAK6b,GAAL,CAQA,GAHAgB,GAAiBqC,UAAU,EAAG,EAAGrC,GAAiBnd,OAAOjK,MAAOonB,GAAiBnd,OAAOvB,QAGpF4d,KAAiB,SAAK9tB,EAAUU,qBAAwB,GAI1D,OAHAmtB,IAAoB,GACpBF,IAAW,SAACvc,GAAD,OAAeA,EAAY,YACtCqc,IAAc,GAIhB,IAAMyD,EAAWtC,GAAiBnd,OAAOjK,MAAQxH,EAAUU,qBACrDywB,EAASrD,GAAoB9tB,EAAUU,qBAAwBwwB,EAC/DE,EAAQxgB,KAAKC,MAAMid,GAAoB9tB,EAAUU,sBAAwBwwB,EACzEG,EAAO,CACXzgB,KAAK0R,MAAM6O,GACXvgB,KAAK0R,MAAM8O,GACXxgB,KAAK0R,MAAM6O,EAAQD,GACnBtgB,KAAK0R,MAAM8O,EAAQF,IAGftwB,EAAqB2hB,GAAcqM,GAAkB5uB,EAAUY,oBAErE+gB,GAAciN,GAAkByC,EAAMzwB,EAAoBqK,GAAOO,cAChE,CAACojB,GAAkBd,GAAmBF,KAKzC7b,qBAAU,WACR,GAAK4S,KAAcC,GAAnB,CAIAwI,IAAiB,GAEA,gBAAbxJ,GAA8ByI,KAAgBnoB,EAAUE,cAC1DmoB,IAAa,GAGf,IAAM+E,EAA2B,SAACje,EAAKke,GAAN,OAAc/N,GAAkBnQ,EAAKke,EAAKnvB,KAGvEksB,KACFgD,EAAyB,eAAgB,4BAEpCrD,IACHqD,EAAyB,0BAA2B,sCAKvC,WAAb1N,IAC2B,IAAzBwK,IACFkD,EACE,2BACA,wCAIyB,KAAzBlD,IACFkD,EAAyB,6BAA8B,oCAG5B,KAAzBlD,IACFkD,EAAyB,4BAA6B,+BAKzC,gBAAb1N,IACE0K,IAAwBvK,GAAY7f,EAAUO,cAAgB,KAChE6sB,EAAyB,aAAc,2BAGrChD,IAAwBvK,GAAY,KACtCuN,EAAyB,aAAc,iCAGrCtM,GAAYM,MAAQN,GAAY1C,OAAS,KAC3CgP,EAAyB,oBAAqB,sCAGjD,CACDlvB,GACAwhB,EACAqK,GACAG,GACAE,GACAtJ,GACAL,GACAC,GACAyH,GACAtI,KAMFhS,qBAAU,WACR,GAAK2S,GAAL,CAIA,IAAM4M,EAA2B,SAACje,EAAKke,GAAN,OAAc/N,GAAkBnQ,EAAKke,EAAKnvB,KAE9C,IAAzBgsB,IACFkD,EAAyB,gCAAiC,gCAGxDlD,KAAyBlqB,EAAUE,cACrCktB,EAAyB,wBAAyB,+BAGhDtM,GAAYM,MAAQN,GAAY1C,MAAQ2C,GAAQK,MAAQL,GAAQ3C,OAClEgP,EAAyB,sBAAuB,uCAEjD,CAACrM,GAAS7iB,GAAiBsiB,GAAW0J,GAAsBpJ,KAK/DjT,qBAAU,WACR,IAAgB,IAAZ2a,GACF,OAAO,aAGTO,GAAa,2BAAK7B,IAAN,IAAwBC,OAAQ,MAE5C,IAAMsE,EAAUjD,GAAOkD,WAEjB4B,EAAc/rB,IACjBS,YACAC,WAAWnG,EAAUO,OAAOC,IAC5B4F,IAAIupB,GACJ8B,YACC,SAACC,GACKA,EAAS1W,QACXiS,GAAayE,EAASjvB,WAG1B,SAACN,GAAD,OAAW6B,EAAqB7B,MAGpC,OAAO,kBAAMqvB,OACZ,CAAChxB,EAAYksB,KAOhB,IAiBMiF,GAAc,uCAAG,WAAOvO,GAAP,mBAAA5d,EAAA,sEACHC,IACfM,UACAW,IAAIyc,GAAkBC,EAAc5iB,IACpCmG,iBAJkB,cACfC,EADe,gBAMEC,IAAMR,IAAoBO,EAAK,CAAEE,QAAS9G,EAAUE,eANtD,OAMfmC,EANe,OAQfuvB,EAAavvB,EAASI,KAE5BqqB,GAAStK,GAA0BlR,GAASsgB,EAAW9lB,QACvDihB,GAAavK,GAA0BlR,GAASsgB,EAAW3lB,YAXtC,2CAAH,sDAqBd4lB,GAAY,SAACC,GAAD,OAChB,IAAIC,SAAQ,SAACC,EAASC,GACpB,IAAMxd,EAAQ,IAAIyd,MAElBzd,EAAM0d,OAAS,WACb7gB,GAAQ2f,UAAU,EAAG,EAAG3f,GAAQG,OAAOjK,MAAO8J,GAAQG,OAAOvB,QAC7DoB,GAAQ8gB,UAAU3d,EAAO,EAAG,EAAGnD,GAAQG,OAAOjK,MAAO8J,GAAQG,OAAOvB,QAEpE8hB,KAGFvd,EAAM4d,QAAU,SAACC,EAAKC,EAAMC,EAAOC,EAAMtwB,GAAzB,OAAmC8vB,EAAO9vB,IAG1DsD,IACGM,UACAW,IRjkBY,SAACorB,EAAiBtxB,GAAlB,uBACTA,EADS,YACKsxB,EADL,QQikBRY,CAAaZ,EAAStxB,IAC1BmG,iBACA8R,MAAK,SAAC7R,GACL6N,EAAMgC,IAAM7P,KAEb8R,OAAM,SAACvW,GAAD,OAAW8vB,EAAO9vB,UAMzBwwB,GAAU,uCAAG,4BAAAntB,EAAA,6DACjB0nB,IAAgB,GAEhBE,IAAiB,GAEjBe,IAAe,kBAAuB,CAAE7I,MAAzB,EAAGA,MAAH,EAAUhD,MAAqCA,MAAO,MACrEkM,IAAW,kBAAuB,CAAElJ,MAAzB,EAAGA,MAAH,EAAUhD,MAAqCA,MAAO,MAG3DsQ,EAAY9D,KATD,kBAYT6C,GAAeiB,GAZN,wBAaTf,GAAUe,GAbD,QAefjG,GAAUiG,GAEO,gBAAbhP,GACFiJ,IAAW,SAACzb,GAAD,6BAAmBA,GAAnB,CAA8BwhB,OAG3CtG,IAAe,SAAClb,GAAD,OAAeA,EAAY,KAG1Cmc,GAAarpB,EAAUO,eACvBkpB,GAAW,GACXI,GAAqB,GAErBG,IAAiB,GACjBF,GAAc/iB,GAAOU,cAErBqhB,GAAS,MAETuB,IAAwB,GAExB7C,GAAe,GAEfyB,IAAc,GACdG,IAAgB,GAtCD,kDAwCfhrB,QAAQH,MAAR,gDAAuDywB,IAEnDlvB,EAAuB,EAAD,IACxBG,EAA2B,EAAD,GAAQzB,IACzByE,IAAMK,aAAN,MACThF,EAAiB,EAAD,GAAQE,IAExBU,EAAqB,EAAD,GAAQV,IA/Cf,yBAkDf8qB,IAAgB,GAlDD,6EAAH,qDA2DV2F,GAAkBrhB,sBAAW,uCAEjC,WAAOS,GAAP,qBAAAzM,EAAA,sDACEgmB,GAAkB,GAGV5J,EAA2C3P,EAASI,UAApDuP,IAEI,EACRnP,EAAM,EAEJhQ,EAAO8lB,GAAU8C,OAAOxb,KAAI,YAA2B,IAAxBW,EAAuB,EAAvBA,EAAGC,EAAoB,EAApBA,EAAG8e,EAAiB,EAAjBA,WAGzC,OAFA9c,EAAM7B,KAAK6B,IAAIA,EAAK8c,GAEb,CAAE/e,EAAG+R,GAAcX,EAAKpR,GAAIC,EAAG8R,GAAcX,EAAKnR,GAAI8e,iBAGzDuD,EAAc,CAAEtgB,IATV,EASeC,MAAKhQ,QAEhCwP,EAASM,QAAQugB,GAEjBtH,GAAkB,GAnBpB,2CAFiC,sDAuBjC,CAACjD,GAAU8C,SAWP0H,GAAW,uCAAG,WAAOlN,GAAP,2BAAArgB,EAAA,6DACZwtB,EAAO,IAAIC,KAEX5N,EAAkBL,GAAYM,MAAQN,GAAY1C,MAClDiD,EAAcN,GAAQK,MAAQL,GAAQ3C,MAEtC4Q,EAAgC,CACpCC,KAAMtN,EACN5X,MAAOoX,EACP+N,SAAU7N,EACV8N,uBAAwBjF,GACxBkF,UAAW9G,GACX+G,mBAAoB9E,GACpB+E,IAAKR,EAAKS,UACVpwB,MAAOD,EAAa4vB,EAAKU,YACzBC,KAAMX,EAAKY,eAGPC,EAAsB,WAAbjQ,EAAwB5jB,EAAUK,aAAeL,EAAUM,kBAEpEqvB,EApBY,UAoBCuD,EAAUS,KApBX,YAoBmBT,EAAU7vB,MApB7B,YAoBsC6vB,EAAUM,IApBhD,YAoBuDN,EAAUC,MApBjE,kBAuBO1tB,IAASS,YAAYC,WAAW0tB,GAAQztB,IAAIupB,GAAStpB,MAvB5D,WAuBVqrB,EAvBU,QA0BF1W,UAAW0W,EAASjvB,OAA8BwL,MAAQilB,EAAUjlB,OA1BlE,kCA2BRxI,IAASS,YAAYC,WAAW0tB,GAAQztB,IAAIupB,GAAS/T,IAAIsX,GA3BjD,QA8BhB9wB,GAAgB,gCAAiCpC,EAAUgC,wBAEvDqjB,EAAkBE,GAA4B,WAAb3B,GACnCJ,GAAkB,iBAAkB,iCAAkCphB,IAGxE0H,GAAQgqB,IAAI,GApCI,kDAsCZ/vB,EAAiB,EAAD,IAClBC,EAAqB,EAAD,GAAQ5B,IAE5BY,EAAoB,EAAD,GAAQ,cAAeZ,IAzC5B,0DAAH,sDA8CX2xB,GAAe,uCAAG,oCAAAvuB,EAAA,6DAChBwuB,EADgB,wEACiEjvB,2CACjFkvB,EAAgBxgB,KAAKK,UAAU8Y,IAE/BtF,EAJgB,iBAICtU,OAAOkhB,SAASC,KAJjB,+CAI4DvQ,EAJ5D,uBAImFpjB,EAJnF,oBAIyGyzB,GAEjH,kBAERzf,EARgB,wBASpBwQ,GAAYM,MAAQN,GAAY1C,MATZ,gDAaGzb,IAAMoY,KAC3B+U,EACA,CACEI,gBAAiB,CACfh0B,gBAAiBJ,EAAUI,gBAC3BknB,OACA+M,kBAAmB,CACjBC,YAdI,kBAeJC,kBAAmB/f,IAGvBggB,OAAQ,CACNC,OAAQ,UAGZ,CAAE3tB,QAAS9G,EAAUE,eA5BH,OAadmC,EAbc,OA+BpB+pB,EAAiB/pB,EAASI,KAAKiyB,WAE/BxI,GAAuB,GAjCH,kDAmChBrlB,IAAMK,aAAN,MACFhF,EAAiB,EAAD,GAAQE,IAExBY,EAAoB,EAAD,GAAQ,eAAgBZ,IAtCzB,0DAAH,qDAqErB,OAPAuP,GACE8Z,EACAoH,GACA/H,GAHQ,UAIL3iB,GAAQsJ,OAJH,YAIatJ,GAAQgjB,gBAI7B,qCACE,eAAC,GAAD,CAAkBthB,UAAQ,EAA1B,UACE,cAACR,EAAA,EAAD,CAAQZ,MAAM,UAAUW,UAAWub,IAAcC,GAAcna,QAd3C,kBAAMuhB,GAAwB,IAclD,8BAIA,cAAC,EAAD,CACEvjB,MAAM,UACNW,UAAWub,IAAcC,GACzBzb,QAASoiB,EACT9gB,QAnCgB,WACtB+gB,GAAmBC,GACnBC,GAAe,SAACta,GAAD,OAAgBA,MA6B3B,SAMGqa,EAAc,eAAiB,oBAIpC,sBAAKrhB,UAAWjC,GAAQ8H,UAAxB,UACE,qBAAK7F,UAAWjC,GAAQyiB,WAExB,sBAAKxgB,UAAWjC,GAAQ0iB,sBAAxB,UACE,cAAC,GAAD,CACEjH,SAAUA,EACVC,aAAcoK,KAAkBZ,GAChCvJ,YAAaiL,GACbhL,UAAWA,GACXC,WAAYA,KAGd,eAACrL,GAAA,EAAD,CAAMvO,UAAWjC,GAAQ2iB,gBAAiBpkB,IAAKokB,GAA/C,UACE,wBACE1gB,UAAWuE,aAAKxG,GAAQsJ,OAAQtJ,GAAQ6iB,aACxCtkB,IAAKioB,GACLze,OAAQlQ,EAAUW,WAClB6G,MAAOxH,EAAUW,aAGnB,wBACEyJ,UAAWuE,aAAKxG,GAAQsJ,OAAQtJ,GAAQ+iB,iBACxCxkB,IAAKmoB,GACL3e,OAAQlQ,EAAUW,WAClB6G,MAAOxH,EAAUW,WACjB8J,QA3TU,SAACmE,GAChBye,KAILL,GTrbqB,SACvBpL,EACApR,EACAC,GAEA,IAAMoR,EAAOD,EAAInQ,OAAOkjB,wBAClBC,EAAahT,EAAInQ,OAAOjK,MAAQqa,EAAKra,MACrCqtB,EAAcjT,EAAInQ,OAAOvB,OAAS2R,EAAK3R,OAE7C,MAAO,CACLM,EAAGI,KAAK0R,OAAO9R,EAAIqR,EAAKsH,MAAQyL,GAChCnkB,EAAGG,KAAK0R,OAAO7R,EAAIoR,EAAK0E,KAAOsO,IS0atBC,CAAiBxjB,GAAS1C,EAAMmmB,QAASnmB,EAAMomB,UACxDvH,IAAc,GACdH,IAAgB,aAyTZ,cAAC,GAAD,CACE1J,SAAUA,EACVa,YAAa4H,GAAc,EAC3B3H,UAAWA,GACXC,WAAYA,GACZC,aAAcA,GACd9W,cAAeA,GACf+W,aAAc8N,GACdna,cA1Ec,kBAAMoT,GAAoB,IA2ExC9G,aAvEa,kBAAMgH,GAAmB,IAwEtC/G,YAAagP,GACb/O,YAAaA,GACbC,QAASA,QAIb,cAAC,GAAD,CAAmBrO,KAAM+U,EAAkB9U,QAhFzB,kBAAM+U,GAAoB,IAgFuBhG,SAAUmN,KAE7E,cAAC,GAAD,CACEnc,KAAMiV,EACNhV,QAhFe,kBAAMiV,GAAmB,IAiFxC7d,MAAO+W,GAAYM,MAAQN,GAAY1C,QAGzC,cAAC,GAAD,CAAiB1L,KAAMqV,EAAqBpV,QAjGvB,kBAAMqV,GAAuB,IAiGqB5E,KAAM6E,IAE7E,cAAC,GAAD,CACEvV,KAAMmV,EACNlV,QApFoB,kBAAMmV,GAAwB,IAqFlDzD,UAAWA,SCz5BJ0M,GApB6B,SAAC,GAA2C,IAAzCnrB,EAAwC,EAAxCA,QAASoqB,EAA+B,EAA/BA,SAChDgB,EAAQ,IAAIC,gBAAgBjB,EAASkB,QAErCxR,ETiGqB,SAACA,GAAiE,IAAxCyR,EAAuC,uDAAvB,SACrE,MAAiB,WAAbzR,GAAsC,gBAAbA,EACpBA,EAGFyR,EStGUC,CAAqBJ,EAAM7uB,IAAI,aAC1C7F,ETgHuB,SAC7BA,GAEgB,IADhB60B,EACe,uDADG,OAElB,MAAmB,SAAf70B,GAAwC,WAAfA,GAA0C,SAAfA,EAC/CA,EAGF60B,ESxHYE,CAAuBL,EAAM7uB,IAAI,eAC9CumB,ETkIoB,SAACA,EAAwByI,GAEnD,GACc,OAAZzI,GACAA,EAAQjnB,OAAS,GACF,MAAfinB,EAAQ,IACwB,MAAhCA,EAAQA,EAAQjnB,OAAS,GAEzB,OAAO0vB,EAGT,IACE,OAAO5hB,KAAKC,MAAMkZ,GAClB,MAAOjZ,GACP,OAAO0hB,GShJOG,CAAoBN,EAAM7uB,IAAI,YAExCovB,EAAa,mBAAe7I,EAAU,cAAgBhJ,GACtD8R,EAAe,sBAAkBl1B,GACjCm1B,EAAe/I,EAAO,mBAAenZ,KAAKK,UAAU8Y,IAAa,GAEjEwI,EAAM,WAAOK,GAAP,OAAuBC,GAAvB,OAAyCC,GAMrD,OAJIzB,EAASkB,SAAWA,GACtBtrB,EAAQ+S,QAAR,eAAwBuY,IAGnB,cAAC,GAAD,CAAMxR,SAAUA,EAAUpjB,WAAYA,EAAYiqB,iBAAkBmC,KC5B9D,OAA0B,iCCA1B,OAA0B,oCCA1B,OAA0B,kCCiBnCzlB,GAAYC,aAAW,SAACC,GAAD,eAC3BC,YAAa,CACX2I,UAAW,CACTC,OAAQ,OACR5F,QAAS,OACT6F,cAAe,SACfC,eAAgB,eAChBC,WAAY,UAEdulB,MAAI,GACF7d,UAAW,GACXH,aAAc,IAFZ,eAGDvQ,EAAMoG,YAAYC,KAAK,MAAQ,CAC9BwC,OAAQ,MAJR,eAMD7I,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BuC,OAAQ,MAPR,GAUJ2lB,yBAA0B,CACxBruB,MAAO,OACP8C,QAAS,OACT8F,eAAgB,eAChBC,WAAY,UAEdoE,MAAM,cACJjN,MAAO,KACNH,EAAMoG,YAAYC,KAAK,MAAQ,CAC9BpD,QAAS,SAGb6M,QAAM,GACJC,OAAQ,EACRC,aAAc,IAFV,eAGHhQ,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,IACPuB,SAAU,SALR,eAOH1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,IACPuB,SAAU,SATR,eAWH1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BnG,MAAO,IACPuB,SAAU,YAbR,QAmJK+sB,GAhIQ,WAAO,IAAD,EACS7kB,oBAAS,GADlB,mBACpB8E,EADoB,KACRC,EADQ,KAGrBlM,EAAUC,cAEV5B,EAAUhB,KAEV4uB,EAAc,WAC2B,SAAzC3f,aAAa5C,QAAQ,gBACvB1J,EAAQ0F,KAAK,eAEb4G,aAAavC,QAAQ,eAAgB,QAErCmC,GAAc,KAIZggB,EAAkB,kBAAMlsB,EAAQ0F,KAAK,cAU3C,OACE,qCACE,cAAC,GAAD,IAEA,sBAAKpF,UAAWjC,EAAQ8H,UAAxB,UACE,qBAAK7F,UAAWjC,EAAQytB,KAAMnf,IAAKmf,GAAMlf,IAAI,yBAE7C,sBAAKtM,UAAWjC,EAAQ0tB,yBAAxB,UACE,qBAAKzrB,UAAWjC,EAAQsM,MAAOgC,IAAKwf,GAAMvf,IAAI,YAE9C,eAAChH,GAAA,EAAD,CAAayM,YAAY,WAAzB,UACE,cAAC9S,EAAA,EAAD,CACEe,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QAASsrB,EALX,kBAUA,cAAC1sB,EAAA,EAAD,CACEe,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QAASurB,EALX,sBAUA,cAAC3sB,EAAA,EAAD,CACEe,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QA5CgB,kBAAMX,EAAQ0F,KAAK,kBAuCrC,0BAUA,cAACnG,EAAA,EAAD,CACEe,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QApDgB,kBAAMX,EAAQ0F,KAAK,kBA+CrC,0BAUA,cAACnG,EAAA,EAAD,CACEe,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QA5Dc,kBAAMX,EAAQ0F,KAAK,gBAuDnC,wBAUA,cAACnG,EAAA,EAAD,CACEe,UAAWjC,EAAQgP,OACnBtV,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QApEW,kBAAMX,EAAQ0F,KAAK,aA+DhC,wBAWF,qBAAKpF,UAAWjC,EAAQsM,MAAOgC,IAAKyf,GAAOxf,IAAI,aAGjD,eAACC,GAAA,EAAD,CAAQC,KAAMb,EAAd,UACE,cAACe,GAAA,EAAD,2CAEA,cAACC,GAAA,EAAD,UACE,cAACmP,GAAA,EAAD,iOAOF,eAACjP,GAAA,EAAD,WACE,cAAC5N,EAAA,EAAD,CAAQZ,MAAM,UAAUgC,QAASurB,EAAjC,kCAIA,cAAC3sB,EAAA,EAAD,CAAQZ,MAAM,UAAUgC,QAASsrB,EAAjC,8C,gFC7KNI,GAAiB,SAACC,GACtB,OAAQA,GACN,KAAK,EACH,OAAOnrB,GAAOqB,KAChB,KAAK,EACH,OAAOrB,GAAO0B,OAChB,KAAK,EACH,OAAO1B,GAAOoB,OAChB,QACE,OAAOpB,GAAOuB,aCGdrF,GAAYC,aAAW,SAACC,GAAD,aAC3BC,YAAa,CACX+uB,WAAY,CACV5uB,gBAAiBwD,GAAOE,eAE1BmrB,eAAgB,CACd7uB,gBAAiBwD,GAAOG,iBAE1BC,aAAc,CACZ5D,gBAAiBwD,GAAOI,cAE1BsU,IAAK,CACH5W,SAAU,QAEZkH,UAAW,CACTqF,KAAM,EACNpF,OAAQ,EACR5F,QAAS,OACT6F,cAAe,SACfE,WAAY,SACZmF,QAAS,IAEX+gB,eAAgB,CACd/uB,MAAO,OAETgvB,WAAS,GACPC,aAAa,cAAD,OAAgBxrB,GAAOsB,YAD5B,eAENlF,EAAMoG,YAAYC,KAAK,MAAQ,CAC9B3E,SAAU,SAHL,eAKN1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5B5E,SAAU,WANL,GAST2tB,cAAe,CACbjuB,MAAOwC,GAAOyB,WACdjF,gBAAiBwD,GAAOwB,aAwJfkqB,GAnJgB,WAAO,IAAD,EACK1lB,mBAAS,GADd,mBAC5B2lB,EAD4B,KACdC,EADc,OAEa5lB,mBAAS,GAFtB,mBAE5B6lB,EAF4B,KAEVC,EAFU,OAIX9lB,mBAA2B,IAJhB,mBAI5B+lB,EAJ4B,KAItBC,EAJsB,OAKLhmB,oBAAS,GALJ,mBAK5B9H,EAL4B,KAKnB6c,EALmB,KAO7B5L,EAAcC,cAAc,SAAChT,GAAD,OAAkBA,EAAMoG,YAAYC,KAAK,SAErEvF,EAAUhB,KAEhB4K,qBAAU,WACR,IAAMyf,ED3CwB,SAChC0F,EACAC,GAEA,IAAMnE,EAAO,IAAIC,KAEXY,EAA2B,IAAlBsD,EAAsBn3B,EAAUK,aAAeL,EAAUM,kBAElE82B,EAAgB3xB,IAASS,YAAYC,WAAW0tB,GAEtD,OAAQqD,GACN,KAAK,EACH,OAAOE,EACJC,MAAM,OAAQ,KAAMrE,EAAKY,eACzByD,MAAM,QAAS,KAAMj0B,EAAa4vB,EAAKU,aACvC2D,MAAM,MAAO,KAAMrE,EAAKS,WACxB6D,QAAQ,QAAS,QACtB,KAAK,EACH,OAAOF,EACJC,MAAM,OAAQ,KAAMrE,EAAKY,eACzByD,MAAM,QAAS,KAAMj0B,EAAa4vB,EAAKU,aACvC4D,QAAQ,QAAS,QACtB,KAAK,EACL,QACE,OAAOF,EAAcE,QAAQ,QAAS,SCmBpBC,CAA0BX,EAAcE,GAAkBrF,YAC5E,SAACC,GACC,IAAM8F,EAAY,IAAIC,IAChBC,EAA4B,GAC9BC,EAA0B,CAAExE,KAAM,GAAIllB,OAAQ,EAAGmoB,KAAM,GAE3D1E,EAASkG,SAAQ,SAACxxB,GAAS,IAAD,EACAA,EAAI3D,OAApB0wB,EADgB,EAChBA,KAAMllB,EADU,EACVA,MAEd,IAAIupB,EAAUK,IAAI1E,GAAlB,CAHwB,MAOqBwE,EAA9BG,EAPS,EAOhB7pB,MAAwB8pB,EAPR,EAOE3B,KAIpB4B,EAAM,CAAE7E,OAAMllB,QAAOmoB,KAFdnoB,IAAU6pB,EAAYC,EAAWA,EAAW,GAIzDP,EAAUS,IAAI9E,GACduE,EAAQloB,KAAKwoB,GACbL,EAAUK,MAGZf,EAAQS,GAER1R,GAAW,MAEb,SAAC7jB,GAAD,OAAW6B,EAAqB7B,MAGlC,OAAO,kBAAMqvB,OACZ,CAACsF,EAAkBF,IAMtB,OACE,qCACE,cAAC,GAAD,CAAkB/sB,UAAQ,IAE1B,cAACG,EAAA,EAAD,CAAQI,UAAWjC,EAAQkuB,WAAYpsB,SAAS,SAAhD,SACE,eAACkW,GAAA,EAAD,CACEhY,QAAS,CAAEiY,UAAWjY,EAAQkD,cAC9BxJ,QAASuY,EAAc,YAAc,WACrCiG,UAAQ,EACRlS,MAAOyoB,EACP1d,SAdgB,SAACoH,EAAQjR,GAAT,OAA8BwnB,EAAgBxnB,IAShE,UAOE,cAACkR,GAAA,EAAD,CAAKnW,UAAWjC,EAAQwX,IAAK7G,MAAM,UAEnC,cAACyH,GAAA,EAAD,CAAKnW,UAAWjC,EAAQwX,IAAK7G,MAAM,YAEnC,cAACyH,GAAA,EAAD,CAAKnW,UAAWjC,EAAQwX,IAAK7G,MAAM,kBAIvC,cAAC9O,EAAA,EAAD,CAAQI,UAAWjC,EAAQmuB,eAAgBrsB,SAAS,SAApD,SACE,eAACkW,GAAA,EAAD,CACEhY,QAAS,CAAEiY,UAAWjY,EAAQkD,cAC9BxJ,QAASuY,EAAc,YAAc,WACrCiG,UAAQ,EACRlS,MAAO2oB,EACP5d,SA5BoB,SAACoH,EAAQjR,GAAT,OAA8B0nB,EAAoB1nB,IAuBxE,UAOE,cAACkR,GAAA,EAAD,CAAKnW,UAAWjC,EAAQwX,IAAK7G,MAAM,WAEnC,cAACyH,GAAA,EAAD,CAAKnW,UAAWjC,EAAQwX,IAAK7G,MAAM,qBAIvC,sBAAK1O,UAAWjC,EAAQ8H,UAAxB,UACE,cAAC,EAAD,CAAc1H,MAAOY,EAArB,SACE,cAACG,EAAA,EAAD,CAAkBb,MAAM,UAAUc,KAAM,OAG1C,cAAC,EAAD,CAAchB,KAAMY,EAApB,SACE,cAAC+uB,GAAA,EAAD,CAAgB9tB,UAAWjC,EAAQouB,eAAgB/X,UAAW2Z,KAA9D,SACE,eAACC,GAAA,EAAD,CAAOC,cAAY,EAAnB,UACE,cAACC,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CACEpuB,UAAWuE,aAAKxG,EAAQquB,UAAWruB,EAAQuuB,eAC3ChU,MAAM,SAFR,kBAOA,cAAC8V,GAAA,EAAD,CACEpuB,UAAWuE,aAAKxG,EAAQquB,UAAWruB,EAAQuuB,eAC3ChU,MAAM,SAFR,oBAOA,cAAC8V,GAAA,EAAD,CACEpuB,UAAWuE,aAAKxG,EAAQquB,UAAWruB,EAAQuuB,eAC3ChU,MAAM,SAFR,wBASJ,cAAC+V,GAAA,EAAD,UACGzB,EAAKnnB,KAAI,gBAAGsjB,EAAH,EAAGA,KAAMllB,EAAT,EAASA,MAAOmoB,EAAhB,EAAgBA,KAAhB,OACR,eAACmC,GAAA,EAAD,CAAqBluB,MAAO,CAAE5C,gBAAiB0uB,GAAeC,IAA9D,UACE,eAACoC,GAAA,EAAD,CAAWpuB,UAAWjC,EAAQquB,UAAW9T,MAAM,SAA/C,UACG0T,GAAQ,EAAI,cAAC,KAAD,IAAc,KAD7B,IACoCA,KAGpC,cAACoC,GAAA,EAAD,CACEpuB,UAAWjC,EAAQquB,UACnBhY,UAAU,KACVka,MAAM,MACNhW,MAAM,SAJR,SAMGyQ,IAGH,cAACqF,GAAA,EAAD,CAAWpuB,UAAWjC,EAAQquB,UAAW9T,MAAM,SAA/C,SACGzU,MAfUklB,sBCxLlB,OAA0B,qCCMnChsB,GAAYC,aAAW,SAACC,GAAD,iBAC3BC,YAAa,CACX2I,UAAW,CACTC,OAAQ,OACR5F,QAAS,OACT6F,cAAe,SACfC,eAAgB,eAChBC,WAAY,UAEdsoB,KAAG,GACD5gB,UAAW,GACXH,aAAc,IAFb,eAGAvQ,EAAMoG,YAAYC,KAAK,MAAQ,CAC9BwC,OAAQ,MAJT,eAMA7I,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BuC,OAAQ,MAPT,GAUH0oB,cAAY,GACV7vB,SAAU,OACVkY,WAAY,QAFF,eAGT5Z,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,SAJF,eAMT1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,WAPF,eAST1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5B5E,SAAU,SAVF,GAaZ8vB,cAAY,GACVxhB,aAAc,IADJ,eAEThQ,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,IACP0I,OAAQ,GACRnH,SAAU,SALF,eAOT1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9BrO,MAAO,IACP0I,OAAQ,GACRnH,SAAU,SAVF,eAYT1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5BnG,MAAO,IACP0I,OAAQ,GACRnH,SAAU,YAfF,QA+CD+vB,GA1BgB,WAC7B,IAAMhvB,EAAUC,cAEV5B,EAAUhB,KAIhB,OACE,sBAAKiD,UAAWjC,EAAQ8H,UAAxB,UACE,qBAAK7F,UAAWjC,EAAQwwB,IAAKliB,IAAKsiB,GAAUriB,IAAI,sBAEhD,cAAC9L,EAAA,EAAD,CAAYR,UAAWjC,EAAQywB,aAA/B,kCAEA,cAACvvB,EAAA,EAAD,CACEe,UAAWjC,EAAQ0wB,aACnBh3B,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QAbgB,kBAAMX,EAAQ0F,KAAK,MAQrC,iC,8BCjDArI,GAAYC,aAAW,kBAC3BE,YAAa,CACXoY,OAAQ,CACNjY,gBAAiBwD,GAAOE,eAE1BE,aAAc,CACZ5D,gBAAiBwD,GAAOI,cAE1BsU,IAAK,CACH5W,SAAU,QAEZkH,UAAW,CACTC,OAAQ,OACR5F,QAAS,OACT6F,cAAe,SACfC,eAAgB,eAChBC,WAAY,SACZ2oB,UAAW,UAEbrhB,KAAM,CACJzH,OAAQ,MACR1I,MAAO,MACP8C,QAAS,OACT6F,cAAe,SACfC,eAAgB,eAChBC,WAAY,UAEd3G,MAAO,CACLuX,WAAY,QAEdmH,aAAc,CACZlY,OAAQ,OACR1I,MAAO,OACP8C,QAAS,OACT6F,cAAe,SACfC,eAAgB,SAChBC,WAAY,eAKZ4oB,GAA8B,CAClCC,OAAQ,EACRC,UAAW,EACXC,MAAO,EACPC,MAAO,EACPC,QAAS,GAwPIC,GAnPc,WAAO,IAAD,EACDtoB,mBAAS,GADR,mBAC1BgP,EAD0B,KAChBC,EADgB,OAGGjP,mBAAS,GAHZ,mBAG1BuoB,EAH0B,KAGdC,EAHc,OAIHxoB,oBAAS,GAJN,mBAI1ByoB,EAJ0B,KAIjBC,EAJiB,OAKW1oB,mBAA2B,QALtC,mBAK1B2oB,EAL0B,KAKVC,EALU,OAOC5oB,mBAASgoB,IAPV,mBAO1Ba,EAP0B,KAOfC,EAPe,OAQH9oB,oBAAS,GARN,mBAQ1B9H,EAR0B,KAQjB6c,EARiB,KAU3B5L,EAAcC,cAAc,SAAChT,GAAD,OAAkBA,EAAMoG,YAAYC,KAAK,SAErEvF,EAAUhB,KAEhB4K,qBAAU,WACR,IAAM8hB,EAAsB,IAAb5T,EAAiBjgB,EAAUK,aAAeL,EAAUM,kBAE7DkxB,EAAc/rB,IACjBS,YACAC,WAAW0tB,GACXpC,YACC,SAACC,GACC,IAAIyH,EAAY,EACZD,EAAS,EACTE,EAAQ,EACRC,EAAQ,EAEZ3H,EAASkG,SAAQ,SAACxxB,GAAS,IAAD,EACwBA,EAAI3D,OAA5CwL,EADgB,EAChBA,MAAiBgX,EADD,EACTmO,SAAmBE,EADV,EACUA,UAE9BrlB,EAAQgX,EACVkU,GAAa,EACJlU,EAAUhX,EACnBirB,GAAU,EAEVE,GAAS,EAGXC,GAAS/F,EAAY,EAAI,KAG3ByG,EAAa,CACXZ,YACAD,SACAE,QACAC,QACAC,QAAS5H,EAASnoB,KAAO8vB,IAG3BrT,GAAW,MAEb,SAAC7jB,GAAD,OAAW6B,EAAqB7B,MAGpC,OAAO,kBAAMqvB,OACZ,CAACvR,IAvD6B,MAyDXmF,mBAAQ,WAAO,IAC3B8T,EAA6CY,EAA7CZ,OAAQC,EAAqCW,EAArCX,UAAWC,EAA0BU,EAA1BV,MAAOC,EAAmBS,EAAnBT,MAAOC,EAAYQ,EAAZR,QAEzC,OAAmB,IAAfE,EACK,CACL,cACA,CACE,CACEzmB,GAAI,UACJ+F,MAAO,UACP3K,MAAO+qB,EACPzwB,MAAOwC,GAAOgC,cAEhB,CACE8F,GAAI,aACJ+F,MAAO,aACP3K,MAAOgrB,EACP1wB,MAAOwC,GAAOiC,iBAEhB,CACE6F,GAAI,QACJ+F,MAAO,QACP3K,MAAOirB,EACP3wB,MAAOwC,GAAOkC,eAMf,CACL,8BACA,CACE,CACE4F,GAAI,QACJ+F,MAAO,QACP3K,MAAOkrB,EACP5wB,MAAOwC,GAAOmC,aAEhB,CACE2F,GAAI,WACJ+F,MAAO,WACP3K,MAAOmrB,EACP7wB,MAAOwC,GAAOoC,mBAInB,CAACmsB,EAAYM,IAvGiB,mBAyD1BpwB,EAzD0B,KAyDnBjH,EAzDmB,KAyG3Bu3B,EAAW,uCAAG,WAAO1Z,EAAQjR,GAAf,SAAA7J,EAAA,+EAAoC0a,EAAY7Q,IAAhD,2CAAH,wDAEX4qB,EAAe,SAACpQ,GACpBgQ,EAAkBhQ,GAClB8P,GAAW,IAYb,OACE,qCACE,cAAC,GAAD,CAAkB9vB,UAAQ,IAE1B,cAACG,EAAA,EAAD,CAAQI,UAAWjC,EAAQuX,OAAQzV,SAAS,SAA5C,SACE,eAACkW,GAAA,EAAD,CACEhY,QAAS,CAAEiY,UAAWjY,EAAQkD,cAC9BxJ,QAASuY,EAAc,YAAc,WACrCiG,UAAQ,EACRlS,MAAO8R,EACP/G,SAAU8gB,EALZ,UAOE,cAACzZ,GAAA,EAAD,CAAKnW,UAAWjC,EAAQwX,IAAK7G,MAAM,WAEnC,cAACyH,GAAA,EAAD,CAAKnW,UAAWjC,EAAQwX,IAAK7G,MAAM,qBAIvC,sBAAK1O,UAAWjC,EAAQ8H,UAAxB,UACE,cAACiqB,GAAA,EAAD,CACEC,QAAQ,EACRC,GAAIV,EACJ7P,UAAW+P,EACX9yB,QAAS,CAAEuzB,MAAO,IAAKC,KAAM,KAC7BC,SAjCc,WAIpBd,GAFkBD,GADmB,SAAnBI,GAA6B,EAAI,GAnHrC,MAuHdC,GAAkB,SAACzoB,GAAD,MAA8B,SAAdA,EAAuB,QAAU,UACnEuoB,GAAW,IAsBP,SAOE,eAAChhB,GAAA,EAAD,CAAMvO,UAAWjC,EAAQwP,KAAzB,UACE,cAAC/M,EAAA,EAAD,CAAYR,UAAWjC,EAAQuB,MAA/B,SAAuCA,IAEvC,sBAAKU,UAAWjC,EAAQigB,aAAxB,UACE,cAAC,EAAD,CAAc7f,MAAOY,EAArB,SACE,cAACG,EAAA,EAAD,CAAkBb,MAAM,YAAYc,KAAM,OAG5C,cAAC,EAAD,CAAchB,KAAMY,EAApB,SACE,cAAC,KAAD,CACE1G,KAAMA,EACN+3B,YAAa,GACbC,SAAU,GACVxR,aAAc,EACd7R,OAAQ,CAAEmP,IAAK,GAAIF,MAAO,GAAI6C,OAAQ,GAAIC,KAAM,IAChDle,OAAQ,CAAEme,MAAO,cACjBC,YAAa,EACbC,YAAa,CAAEC,KAAM,QAASC,UAAW,CAAC,CAAC,SAAU,KACrDC,oBAAoB,EACpBiR,mBAAmB,EACnBC,KAAM,CACJ,CACE5nB,GAAI,OACJiG,KAAM,cACN4hB,WAAY,UACZnyB,MAAO,wBACPc,KAAM,EACNiM,QAAS,EACTqlB,SAAS,GAEX,CACE9nB,GAAI,QACJiG,KAAM,eACN4hB,WAAY,UACZnyB,MAAO,wBACPqyB,UAAW,GACXhZ,UAAW,EACXwE,QAAS,KAGbyU,KAAM,CACJ,CACEC,MAAO,CACLjoB,GAAI,cAENA,GAAI,QAEN,CACEioB,MAAO,CACLjoB,GAAI,WAENA,GAAI,UAGR4W,QAAS,CACP,CACEC,OAAQ,SACRC,UAAWzP,EAAc,SAAW,MACpC0P,SAAS,EACTC,WAAY,GACZC,UAAW,GACXC,WAAY,GACZC,aAAc9P,EAAc,EAAI,GAChC+P,cAAelf,GAAO2B,WACtBwd,WAAY,GACZC,YAAa,SACbC,QAAS,CACP,CACEC,GAAI,QACJlgB,MAAO,CACL8f,cAAelf,GAAO4B,iCAY1C,eAAC6C,GAAA,EAAD,CAAanG,KAAK,QAAlB,UACE,cAACF,EAAA,EAAD,CAAQZ,MAAM,UAAU5G,QAAQ,YAAY4I,QAAS,kBAAMwvB,EAAa,SAAxE,SACE,cAACgB,GAAA,EAAD,MAGF,cAAC5xB,EAAA,EAAD,CAAQZ,MAAM,UAAU5G,QAAQ,YAAY4I,QAAS,kBAAMwvB,EAAa,UAAxE,SACE,cAACiB,GAAA,EAAD,gBC1SN/zB,GAAYC,aAAW,SAACC,GAAD,aAC3BC,YAAa,CACX2I,UAAW,CACT3F,QAAS,OACT6F,cAAe,SACfE,WAAY,SACZuJ,UAAW,aACXpE,QAAS,IAEX2lB,cAAe,CACb7lB,KAAM,EACNhL,QAAS,OACT6F,cAAe,SACfC,eAAgB,UAElB5C,MAAI,oBACDnG,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,YAFV,eAID1B,EAAMoG,YAAYoI,KAAK,MAAQ,CAC9B9M,SAAU,WALV,eAOD1B,EAAMoG,YAAYE,GAAG,MAAQ,CAC5B5E,SAAU,SARV,GAWJ6W,eAAgB,CACdtK,KAAM,EACNpF,OAAQ,KACR1I,MAAO,OACP8C,QAAS,OACT6F,cAAe,SACfC,eAAgB,SAChBC,WAAY,UAEdoE,MAAO,CACLgP,SAAU,OACVsH,UAAW,aAKXqQ,GAAezrB,IAAM0rB,YACzB,WAA4D30B,GAAS,IAAlE4B,EAAiE,EAAjEA,SAAU8B,EAAuD,EAAvDA,UAAuD,IAA5CkxB,aAAgB9tB,EAA4B,EAA5BA,KAAM+tB,EAAsB,EAAtBA,SACtCpzB,EAAUhB,KAEhB,OACE,eAACwR,GAAA,EAAD,CAAMvO,UAAWuE,aAAKxG,EAAQ8H,UAAW7F,GAAY1D,IAAKA,EAA1D,UACE,qBAAK0D,UAAWjC,EAAQgzB,cAAxB,SACE,cAACvwB,EAAA,EAAD,CAAYR,UAAWjC,EAAQqF,KAA/B,SAAsCA,MAGxC,qBACEpD,UAAWjC,EAAQyX,eACnBvV,MAAO,CAAEC,aAAsB3G,IAAb43B,EAAyB,OAAS,IAFtD,SAIE,qBAAKnxB,UAAWjC,EAAQsM,MAAOgC,IAAK8kB,EAAU7kB,IAAI,oBAGnDpO,QAMT8yB,GAAaI,YAAc,eAEZJ,UC9EA,OAA0B,mCCA1B,OAA0B,yCCA1B,OAA0B,iCCA1B,OAA0B,mCCA1B,OAA0B,oCCA1B,OAA0B,sCCA1B,OAA0B,oCCA1B,OAA0B,qCCA1B,OAA0B,qCCA1B,OAA0B,iCCA1B,OAA0B,oCCA1B,OAA0B,wCCA1B,OAA0B,mCCenCK,GAAyC,CAC7C,CACEjuB,KAAM,8BACN+tB,SAAUG,IAEZ,CACEluB,KACE,wHACF+tB,SAAUI,IAEZ,CACEnuB,KAAM,iDACN+tB,SC3BW,kvXD6Bb,CACE/tB,KACE,wHACF+tB,SAAUI,IAEZ,CACEnuB,KACE,iHACF+tB,SAAUK,IAEZ,CACEpuB,KAAM,6DACN+tB,SAAUM,IAEZ,CACEruB,KACE,4GACF+tB,SAAUO,IAEZ,CACEtuB,KAAM,4EACN+tB,SAAUQ,IAEZ,CACEvuB,KAAM,iEACN+tB,SAAUS,IAEZ,CACExuB,KAAM,6EACN+tB,SAAUU,IAEZ,CACEzuB,KAAM,4DACN+tB,SAAUW,IAEZ,CACE1uB,KACE,wGACF+tB,SAAUY,IAEZ,CACE3uB,KAAM,yFACN+tB,SAAU7vB,IAEZ,CACE8B,KAAM,wFACN+tB,SAAUa,IAEZ,CACE5uB,KAAM,2DAIJ6uB,GAAuC,CAC3C,CACE7uB,KACE,gHACF+tB,SAAUe,KEnERn1B,GAAYC,aAAW,kBAC3BE,YAAa,CACXoY,OAAQ,CACNjY,gBAAiBwD,GAAOE,eAE1BE,aAAc,CACZ5D,gBAAiBwD,GAAOI,cAE1BsU,IAAK,CACH5W,SAAU,QAEZkH,UAAW,CACTC,OAAQ,OACR5F,QAAS,OACT6F,cAAe,SACfC,eAAgB,eAChBC,WAAY,SACZ2oB,UAAW,UAEbuD,aAAc,CACZ/0B,MAAO,MACP0I,OAAQ,OAEVssB,oBAAqB,CACnBlnB,KAAM,EACNhL,QAAS,OACT6F,cAAe,SACfC,eAAgB,UAElBqsB,WAAY,CACVplB,aAAc,GACdtO,SAAU,aAKV2zB,GAAYjB,GAAuB91B,OAmH1Bg3B,GAjHY,WAAO,IAAD,EACC1rB,mBAAS,GADV,mBACxBgP,EADwB,KACdC,EADc,OAGKjP,mBAAS,GAHd,mBAGxBuoB,EAHwB,KAGZC,EAHY,OAIDxoB,oBAAS,GAJR,mBAIxByoB,EAJwB,KAIfC,EAJe,OAKa1oB,mBAA2B,QALxC,mBAKxB2oB,EALwB,KAKRC,EALQ,KAOzBzf,EAAcC,cAAc,SAAChT,GAAD,OAAkBA,EAAMoG,YAAYC,KAAK,SAErE5D,EAAUC,cAEV5B,EAAUhB,KAEV6yB,EAAW,uCAAG,WAAO1Z,EAAQjR,GAAf,SAAA7J,EAAA,+EAAoC0a,EAAY7Q,IAAhD,2CAAH,wDAEX4qB,EAAe,SAACpQ,GACpBgQ,EAAkBhQ,GAClB8P,GAAW,IAYb5nB,qBAAU,WACR,IAAMsH,EAAY,SAACzK,GACC,cAAdA,EAAMyE,KACR4mB,EAAa,QAGG,eAAdrrB,EAAMyE,KACR4mB,EAAa,UAMjB,OAFAjnB,OAAO4pB,iBAAiB,UAAWvjB,GAE5B,kBAAMrG,OAAO6pB,oBAAoB,UAAWxjB,OAKrD,OACE,qCACE,cAAC,GAAD,CAAkBxP,UAAQ,IAE1B,cAACG,EAAA,EAAD,CAAQI,UAAWjC,EAAQuX,OAAQzV,SAAS,SAA5C,SACE,eAACkW,GAAA,EAAD,CACEhY,QAAS,CAAEiY,UAAWjY,EAAQkD,cAC9BxJ,QAASuY,EAAc,YAAc,WACrCiG,UAAQ,EACRlS,MAAO8R,EACP/G,SAAU8gB,EALZ,UAOE,cAACzZ,GAAA,EAAD,CAAKnW,UAAWjC,EAAQwX,IAAK7G,MAAM,gBAEnC,cAACyH,GAAA,EAAD,CAAKnW,UAAWjC,EAAQwX,IAAK7G,MAAM,iBAIvC,sBAAK1O,UAAWjC,EAAQ8H,UAAxB,UACE,eAAC,GAAD,CAAU9B,MAAO8R,EAAU7R,MAAO,EAAlC,UACE,cAAC8rB,GAAA,EAAD,CACEC,QAAQ,EACRC,GAAIV,EACJ7P,UAAW+P,EACX9yB,QAAS,CAAEuzB,MAAO,IAAKC,KAAM,KAC7BC,SApDY,WAIpBd,GAFkBD,GADmB,SAAnBI,GAA6B,EAAI,GACR8C,IAAaA,IAGxD7C,GAAkB,SAACzoB,GAAD,MAA8B,SAAdA,EAAuB,QAAU,UACnEuoB,GAAW,IAyCL,SAOE,cAAC,GAAD,CACEvvB,UAAWjC,EAAQo0B,aACnBjB,aAAcG,GAAuBjC,GAFvC,SAIE,cAAC,EAAD,CAAcjxB,KAAqB,KAAfixB,EAApB,SACE,qBAAKpvB,UAAWjC,EAAQq0B,oBAAxB,SACE,cAACnzB,EAAA,EAAD,CACEe,UAAWjC,EAAQs0B,WACnB56B,QAAQ,YACR4G,MAAM,UACNc,KAAK,QACLkB,QAxCE,kBAAMX,EAAQ+S,QAAQ,eAmC1B,0BAcR,eAACnN,GAAA,EAAD,CAAanG,KAAK,QAAlB,UACE,cAACF,EAAA,EAAD,CAAQZ,MAAM,UAAU5G,QAAQ,YAAY4I,QAAS,kBAAMwvB,EAAa,SAAxE,SACE,cAACgB,GAAA,EAAD,MAGF,cAAC5xB,EAAA,EAAD,CAAQZ,MAAM,UAAU5G,QAAQ,YAAY4I,QAAS,kBAAMwvB,EAAa,UAAxE,SACE,cAACiB,GAAA,EAAD,YAKN,cAAC,GAAD,CAAU/sB,MAAO8R,EAAU7R,MAAO,EAAlC,SACE,cAAC,GAAD,CAAchE,UAAWjC,EAAQo0B,aAAcjB,aAAce,GAAqB,cC/ItFl1B,GAAYC,aAAW,kBAC3BE,YAAa,CACX2I,UAAW,CACTC,OAAQ,OACR5F,QAAS,OACT6F,cAAe,eAqGN2sB,GAhGU,WAAO,IAAD,EACa3pB,IAAgB,EAAO,iBADpC,mBACtBsE,EADsB,KACPslB,EADO,KAGvB50B,EAAUhB,KAEVuQ,EAAalG,uBAAY,kBAAMurB,GAAiB,KAAO,CAACA,IAE9D,OACE,cAAC,GAAiBC,SAAlB,CAA2B7uB,MAAO,CAAEsJ,gBAAeC,cAAnD,SACE,cAAC,KAAD,CAAeulB,SAAUl4B,mBAAzB,SACE,qBAAKqF,UAAWjC,EAAQ8H,UAAxB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOitB,OAAK,EAACC,KAAK,IAAlB,SACE,cAAC,GAAD,MAGF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,gBAAlB,SACE,cAAC,GAAD,MAGF,cAAC,GAAD,CAAgBD,OAAK,EAACC,KAAK,SAASryB,KAAM2M,EAAe1M,WAAW,eAApE,SACE,cAAC,GAAD,MAGF,cAAC,GAAD,CAAgBmyB,OAAK,EAACC,KAAK,eAAeryB,MAAO2M,EAAe1M,WAAW,SAA3E,SACE,cAAC,GAAD,MAGF,cAAC,GAAD,CACEmyB,OAAK,EACLC,KAAK,uBACLryB,KAAM2M,EACN1M,WAAW,eAJb,SAME,cAAC,GAAD,MAGF,cAAC,GAAD,CACEmyB,OAAK,EACLC,KAAK,qBACLryB,KAAM2M,EACN1M,WAAW,eAJb,SAME,cAAC,GAAD,MAGF,cAAC,IAAD,CACEmyB,OAAK,EACLC,KAAK,aACLC,OAAQ,YAA4B,IAAzBtzB,EAAwB,EAAxBA,QAASoqB,EAAe,EAAfA,SAKlB,OAJApqB,EAAQ+S,QAAQ,KAChB/S,EAAQ0F,KAAK,cACb1F,EAAQ0F,KAAR,eAAqB0kB,EAASkB,SAEvB,QAIX,cAAC,IAAD,CAAO8H,OAAK,EAACC,KAAK,WAAlB,SACE,cAAC,GAAD,MAGF,cAAC,IAAD,CACED,OAAK,EACLC,KAAK,QACLC,OAAQ,gBAAGtzB,EAAH,EAAGA,QAASoqB,EAAZ,EAAYA,SAAZ,OACN,cAAC,GAAD,CAAWpqB,QAASA,EAASoqB,SAAUA,OAI3C,cAAC,IAAD,CAAOgJ,OAAK,EAACC,KAAK,aAAlB,SACE,cAAC,GAAD,MAGF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,gBAAlB,SACE,cAAC,GAAD,MAGF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,cAAlB,SACE,cAAC,GAAD,MAGF,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,YAAlB,SACE,cAAC,GAAD,MAGF,cAAC,IAAD,CAAOA,KAAK,IAAZ,SACE,cAAC,GAAD,gBC5GR91B,GAAQg2B,YAAe,CAC3Bv1B,QAAS,CACPC,QAAS,CACPC,KAAMiD,GAAOlD,SAEfmD,UAAW,CACTlD,KAAMiD,GAAOC,cAmCJoyB,GA9BO,WAAO,IAAD,EACIrsB,oBAAS,GADb,mBACnB9H,EADmB,KACV6c,EADU,KAe1B,OAZAjU,qBAAU,YACW,uCAAG,sBAAAvM,EAAA,sEACRD,IADQ,4DACyBU,IADzB,oDAElB3D,QAAQi7B,KAAK,mCAFK,OAKpBvX,GAAW,GALS,4CAAH,qDAQnBpgB,GAAgB6S,MAAK,iBACpB,IAGD,cAAC+kB,EAAA,EAAD,CAAen2B,MAAOA,GAAtB,SACE,eAAC,IAAD,CAAkBo2B,SAAU,EAAGC,kBAAgB,EAA/C,UACE,cAAC,EAAD,CAAcn1B,MAAOY,EAArB,SACE,cAAC,GAAD,MAGF,cAAC,EAAD,CAAcZ,KAAMY,EAApB,SACE,cAAC,GAAD,YC7BKw0B,GAZS,SAACC,GACnBA,GACF,8BAAqBnlB,MAAK,YAAkD,IAA/ColB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOD,GACPE,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAQL,O,4BCCdM,IAASd,OACP,cAAC,IAAMe,WAAP,UACE,cAAC,GAAD,MAEFlW,SAASmW,eAAe,SAM1BT,O","file":"static/js/main.0491d75c.chunk.js","sourcesContent":["import { OptionsObject } from \"notistack\";\r\n\r\nconst constants = {\r\n  /* Achievements */\r\n  numberOfAchievements: 12,\r\n\r\n  /* axios */\r\n  axiosTimeout: 3000,\r\n\r\n  /* canvasUtils */\r\n  defaultImageSize: 512,\r\n\r\n  /* Dynamic Links */\r\n  domainUriPrefix: \"https://spotthelesion.page.link\",\r\n\r\n  /* Firebase Firestore */\r\n  scoresCasual: \"leaderboard_casual\",\r\n  scoresCompetitive: \"leaderboard_competitive\",\r\n  images: (difficulty: Difficulty): string => `images_${difficulty}`,\r\n\r\n  /* Firebase Storage */\r\n  maxOperationRetryTime: 3000,\r\n\r\n  /* Game */\r\n  animationCubesNumber: 10,\r\n  canvasSize: 1024,\r\n\r\n  /* Game drawings */\r\n  animationLineWidth: 3.5,\r\n  clickLineWidth: 3.5,\r\n  clickSize: 7,\r\n  hintRange: 50,\r\n  predictedLineWidth: 3.5,\r\n  roundEndTextSize: 48,\r\n  roundEndTextLineWidth: 2,\r\n  truthLineWidth: 3.5,\r\n\r\n  /* Game timings */\r\n  drawPredictedTime: 100,\r\n  drawTruthTime: 500,\r\n  evaluationTime: 1000,\r\n  redTime: 2000,\r\n\r\n  /* Snackbar */\r\n  achievementSnackbarOptions: {\r\n    anchorOrigin: {\r\n      vertical: \"top\",\r\n      horizontal: \"right\",\r\n    },\r\n    autoHideDuration: 3000,\r\n    variant: \"success\",\r\n  } as OptionsObject,\r\n  errorSnackbarOptions: {\r\n    anchorOrigin: {\r\n      vertical: \"bottom\",\r\n      horizontal: \"right\",\r\n    },\r\n    autoHideDuration: 3000,\r\n    variant: \"error\",\r\n  } as OptionsObject,\r\n  informationSnackbarOptions: {\r\n    anchorOrigin: {\r\n      vertical: \"bottom\",\r\n      horizontal: \"left\",\r\n    },\r\n    autoHideDuration: 3000,\r\n    variant: \"info\",\r\n  } as OptionsObject,\r\n  successSnackbarOptions: {\r\n    anchorOrigin: {\r\n      vertical: \"bottom\",\r\n      horizontal: \"left\",\r\n    },\r\n    autoHideDuration: 6000,\r\n    variant: \"success\",\r\n  } as OptionsObject,\r\n  uploadFilesSnackbarOptions: {\r\n    anchorOrigin: {\r\n      vertical: \"bottom\",\r\n      horizontal: \"left\",\r\n    },\r\n    autoHideDuration: 4000,\r\n    variant: \"warning\",\r\n  } as OptionsObject,\r\n};\r\n\r\nexport default constants;\r\n","import { AxiosError } from \"axios\";\r\nimport { ReactNode } from \"react\";\r\nimport { OptionsObject } from \"notistack\";\r\nimport constants from \"../res/constants\";\r\n\r\n/**\r\n * Logs an axios error\r\n *\r\n * @param error Axios error to log\r\n */\r\nconst logAxiosError = (error: AxiosError): void => {\r\n  if (error.response) {\r\n    /* Received response error (4xx, 5xx) */\r\n    console.error(\r\n      `Axios response error\\n status: ${error.response.status}\\n headers: ${error.response.headers}\\n data: ${error.response.data}`\r\n    );\r\n  } else if (error.request) {\r\n    /* No response received */\r\n    console.error(`Axios no response error\\n request: ${error.request}`);\r\n  } else {\r\n    /* Request could not be created */\r\n    console.error(`Axios unknown error\\n message: ${error.message}`);\r\n  }\r\n};\r\n\r\n/**\r\n * Logs the given error, optionally displaying a snackbar\r\n *\r\n * @param error           Error to handle\r\n * @param enqueueSnackbar Function to display a snackbar\r\n */\r\nconst handleAxiosError = (\r\n  error: AxiosError,\r\n  enqueueSnackbar?: (message: ReactNode, options?: OptionsObject) => void\r\n): void => {\r\n  logAxiosError(error);\r\n\r\n  /* Snackbar should be displayed */\r\n  if (enqueueSnackbar) {\r\n    let message = \"Please try again.\";\r\n\r\n    /* Internet connection error */\r\n    if (error.message.includes(\"timeout\")) {\r\n      message = \"Please check your internet connection and try again.\";\r\n    }\r\n\r\n    enqueueSnackbar(message, constants.errorSnackbarOptions);\r\n  }\r\n};\r\n\r\nexport { logAxiosError, handleAxiosError };\r\n","import { ReactNode } from \"react\";\r\nimport { OptionsObject } from \"notistack\";\r\nimport constants from \"../res/constants\";\r\n\r\n/**\r\n * Asserts a part of the code that should not be reached (e.g. default case of exhaustive switch)\r\n *\r\n * @param val Unreachable value\r\n */\r\nconst assertUnreachable = (val: never): never => {\r\n  throw new Error(`Unreachable value ${val} reached.`);\r\n};\r\n\r\n/**\r\n * Logs the given image loading error\r\n *\r\n * @param error Image load error to log\r\n */\r\nconst logImageLoadError = (error: Error): void =>\r\n  console.error(`Image loading error\\n message: ${error.message}`);\r\n\r\n/**\r\n * Logs the given error, optionally displaying a snackbar\r\n *\r\n * @param error           Error to handle\r\n * @param enqueueSnackbar Function to display a snackbar\r\n */\r\nconst handleImageLoadError = (\r\n  error: Error,\r\n  enqueueSnackbar?: (message: ReactNode, options?: OptionsObject) => void\r\n): void => {\r\n  logImageLoadError(error);\r\n\r\n  if (enqueueSnackbar) {\r\n    const message = \"Please try again.\";\r\n\r\n    enqueueSnackbar(message, constants.errorSnackbarOptions);\r\n  }\r\n};\r\n\r\n/**\r\n * Logs an uncaught error in a function\r\n *\r\n * @param error  Uncaught error to log\r\n * @param fnName Function name where error occurred\r\n */\r\nconst logUncaughtError = (error: Error, fnName: string): void =>\r\n  console.error(`Uncaught error in ${fnName}\\n ${error.message}`);\r\n\r\n/**\r\n * Logs the given error, optionally displaying a snackbar\r\n *\r\n * @param error           Error to handle\r\n * @param fnName          Function name where error occurred\r\n * @param enqueueSnackbar Function to display a snackbar\r\n */\r\nconst handleUncaughtError = (\r\n  error: Error,\r\n  fnName: string,\r\n  enqueueSnackbar?: (message: ReactNode, options?: OptionsObject) => void\r\n): void => {\r\n  logUncaughtError(error, fnName);\r\n\r\n  /* Snackbar should be displayed */\r\n  if (enqueueSnackbar) {\r\n    const message = \"Please try again.\";\r\n\r\n    enqueueSnackbar(message, constants.errorSnackbarOptions);\r\n  }\r\n};\r\n\r\nexport {\r\n  assertUnreachable,\r\n  handleImageLoadError,\r\n  handleUncaughtError,\r\n  logImageLoadError,\r\n  logUncaughtError,\r\n};\r\n","import firebase from \"firebase\";\r\nimport { ReactNode } from \"react\";\r\nimport { OptionsObject } from \"notistack\";\r\nimport constants from \"../res/constants\";\r\n\r\ntype AuthError = firebase.auth.AuthError;\r\n\r\ntype FirestoreError = firebase.firestore.FirestoreError;\r\n\r\ntype FirebaseStorageError = firebase.storage.FirebaseStorageError;\r\n\r\nconst months: Month[] = [\r\n  \"Jan\",\r\n  \"Feb\",\r\n  \"Mar\",\r\n  \"Apr\",\r\n  \"May\",\r\n  \"Jun\",\r\n  \"Jul\",\r\n  \"Aug\",\r\n  \"Sep\",\r\n  \"Oct\",\r\n  \"Nov\",\r\n  \"Dec\",\r\n];\r\n\r\n/**\r\n * Return a three letter month name for the given month number\r\n *\r\n * @param month Month number\r\n *\r\n * @return Three letter month name\r\n */\r\nconst getMonthName = (month: number): Month => {\r\n  if (month < 0 || month > 11) {\r\n    throw new Error(\"Month number must be between 0 and 11 inclusively.\");\r\n  }\r\n\r\n  return months[month];\r\n};\r\n\r\n/**\r\n * Checks if an error is an Auth error\r\n *\r\n * @param error Error to check\r\n *\r\n * @return AuthError type predicate\r\n */\r\nconst isAuthError = (error: unknown): error is AuthError =>\r\n  (error as AuthError).code !== undefined && (error as AuthError).code.startsWith(\"auth/\");\r\n\r\n/**\r\n * Logs an Auth error\r\n *\r\n * @param error Auth error to log\r\n */\r\nconst logAuthError = (error: AuthError): void =>\r\n  console.error(`Firebase auth error\\n code: ${error.code}\\n message: ${error.message}`);\r\n\r\n/**\r\n * Logs the given error, optionally displaying a snackbar\r\n *\r\n * @param error           Error to handle\r\n * @param enqueueSnackbar Function to display a snackbar\r\n */\r\nconst handleAuthError = (\r\n  error: AuthError,\r\n  enqueueSnackbar?: (message: ReactNode, options?: OptionsObject) => void\r\n): void => {\r\n  logAuthError(error);\r\n\r\n  /* Snackbar should be displayed */\r\n  if (enqueueSnackbar) {\r\n    const message = \"Please try again.\";\r\n\r\n    enqueueSnackbar(message, constants.errorSnackbarOptions);\r\n  }\r\n};\r\n\r\n/**\r\n * Checks if an error is a Firebase storage error\r\n *\r\n * @param error Error to check\r\n *\r\n * @return FirebaseStorageError type predicate\r\n */\r\nconst isFirebaseStorageError = (error: Error): error is FirebaseStorageError =>\r\n  (error as FirebaseStorageError).code !== undefined &&\r\n  (error as FirebaseStorageError).code.startsWith(\"storage/\");\r\n\r\n/**\r\n * Logs a Firebase storage error\r\n *\r\n * @param error Firebase storage error to log\r\n */\r\nconst logFirebaseStorageError = (error: FirebaseStorageError): void =>\r\n  console.error(`Firebase storage error\\n code: ${error.code}\\n message: ${error.message}`);\r\n\r\n/**\r\n * Log the given error, optionally displaying a snackbar\r\n *\r\n * @param error           Error to handle\r\n * @param enqueueSnackbar Function to display a snackbar\r\n */\r\nconst handleFirebaseStorageError = (\r\n  error: FirebaseStorageError,\r\n  enqueueSnackbar?: (message: ReactNode, options?: OptionsObject) => void\r\n): void => {\r\n  logFirebaseStorageError(error);\r\n\r\n  /* Snackbar should be displayed */\r\n  if (enqueueSnackbar) {\r\n    let message = \"Please try again.\";\r\n\r\n    /* Internet connection error */\r\n    if (error.code === \"storage/retry-limit-exceeded\") {\r\n      message = \"Please check your internet connection and try again.\";\r\n    }\r\n\r\n    enqueueSnackbar(message, constants.errorSnackbarOptions);\r\n  }\r\n};\r\n\r\n/**\r\n * Checks if an error is a Firestore error\r\n *\r\n * @param error Error to check\r\n *\r\n * @return FirestoreError type predicate\r\n */\r\nconst isFirestoreError = (error: Error): error is FirestoreError =>\r\n  (error as FirestoreError).code !== undefined;\r\n\r\n/**\r\n * Logs a Firestore error\r\n *\r\n * @param error Firestore error to log\r\n */\r\nconst logFirestoreError = (error: FirestoreError): void =>\r\n  console.error(`Firebase firestore error\\n code: ${error.code}\\n message: ${error.message}`);\r\n\r\n/**\r\n * Log the given error, optionally displaying a snackbar\r\n *\r\n * @param error           Error to handle\r\n * @param enqueueSnackbar Function to display a snackbar\r\n */\r\nconst handleFirestoreError = (\r\n  error: FirestoreError,\r\n  enqueueSnackbar?: (message: ReactNode, options?: OptionsObject) => void\r\n): void => {\r\n  logFirestoreError(error);\r\n\r\n  /* Snackbar should be displayed */\r\n  if (enqueueSnackbar) {\r\n    let message = \"Please try again.\";\r\n\r\n    if (error.code === \"unavailable\") {\r\n      message = \"Please check your internet connection and try again.\";\r\n    }\r\n\r\n    enqueueSnackbar(message, constants.errorSnackbarOptions);\r\n  }\r\n};\r\n\r\nexport {\r\n  getMonthName,\r\n  handleAuthError,\r\n  handleFirebaseStorageError,\r\n  handleFirestoreError,\r\n  isAuthError,\r\n  isFirebaseStorageError,\r\n  isFirestoreError,\r\n  logAuthError,\r\n  logFirebaseStorageError,\r\n  logFirestoreError,\r\n};\r\n","const variables = {\r\n  /* Game */\r\n  aiScoreMultiplier: 72,\r\n  roundsNumber: 10,\r\n\r\n  /* Game drawings */\r\n  hintLineWidth: 2,\r\n  hintRadius: 100,\r\n\r\n  /* Game timings */\r\n  animationDuration: 3000,\r\n  hintTime: 5000,\r\n  roundDuration: 10000,\r\n\r\n  /* Firebase */\r\n  easyFilesNumber: 1252,\r\n  mediumFilesNumber: 2202,\r\n  hardFilesNumber: 1269,\r\n};\r\n\r\nexport default variables;\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/auth\";\r\nimport axios from \"axios\";\r\nimport { handleAxiosError } from \"../utils/axiosUtils\";\r\nimport { handleUncaughtError } from \"../utils/errorUtils\";\r\nimport {\r\n  handleAuthError,\r\n  handleFirebaseStorageError,\r\n  handleFirestoreError,\r\n  isAuthError,\r\n  isFirebaseStorageError,\r\n  isFirestoreError,\r\n} from \"../utils/firebaseUtils\";\r\nimport constants from \"../res/constants\";\r\nimport variables from \"../res/variables\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  appId: \"1:131387805123:web:9bdbabe358ffcf04ad4176\",\r\n  authDomain: \"spot-the-lesion.firebaseapp.com\",\r\n  databaseURL: \"https://spot-the-lesion.firebaseio.com\",\r\n  storageBucket: \"spot-the-lesion.appspot.com\",\r\n  messagingSenderId: \"131387805123\",\r\n  measurementId: \"G-13PZY5QQPK\",\r\n  projectId: \"spot-the-lesion\",\r\n};\r\n\r\n/**\r\n * Initialize the Firebase app\r\n * Sign in with a default account to enable Firestore security rules\r\n * Set the maximum operation retry time for Storage\r\n *\r\n * @return True if successful, false otherwise\r\n */\r\nconst initializeFirebase = async (): Promise<boolean> => {\r\n  if (process.env.REACT_APP_FIREBASE_API_KEY === undefined) {\r\n    console.error(\"Firebase API key not set.\");\r\n\r\n    return false;\r\n  }\r\n\r\n  /* Check if app already initialized */\r\n  if (firebase.apps.length === 1) {\r\n    return true;\r\n  }\r\n\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n  const defaultEmail = \"user@gmail.com\";\r\n  const defaultPassword = process.env.REACT_APP_SERVER_KEY || \"N/A\";\r\n\r\n  try {\r\n    await firebase.auth().signInWithEmailAndPassword(defaultEmail, defaultPassword);\r\n\r\n    firebase.storage().setMaxOperationRetryTime(constants.maxOperationRetryTime);\r\n\r\n    return true;\r\n  } catch (error) {\r\n    if (isAuthError(error)) {\r\n      console.error(\"Default user sign in failed.\");\r\n\r\n      handleAuthError(error);\r\n    }\r\n\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Get the global variables for the app\r\n *\r\n * Get game settings from Firestore\r\n * Get image numbers from Storage\r\n *\r\n * @return True if successful, false otherwise\r\n */\r\nconst getGlobalVariables = async (): Promise<boolean> => {\r\n  try {\r\n    /* Get game settings form Firestore */\r\n    const optionsSnapshot = await firebase\r\n      .firestore()\r\n      .collection(\"game_options\")\r\n      .doc(\"current_options\")\r\n      .get();\r\n\r\n    const optionsData = optionsSnapshot.data() as FirestoreOptionsData | undefined;\r\n\r\n    Object.assign(variables, optionsData);\r\n\r\n    /* Get image numbers from Storage */\r\n    const url = await firebase.storage().ref(\"image_numbers.json\").getDownloadURL();\r\n\r\n    const response = await axios.get<ImageNumbersData>(url, { timeout: constants.axiosTimeout });\r\n\r\n    const { easy, medium, hard } = response.data;\r\n\r\n    variables.easyFilesNumber = easy;\r\n    variables.mediumFilesNumber = medium;\r\n    variables.hardFilesNumber = hard;\r\n\r\n    return true;\r\n  } catch (error) {\r\n    if (isFirestoreError(error)) {\r\n      handleFirestoreError(error);\r\n    } else if (isFirebaseStorageError(error)) {\r\n      handleFirebaseStorageError(error);\r\n    } else if (axios.isAxiosError(error)) {\r\n      handleAxiosError(error);\r\n    } else {\r\n      handleUncaughtError(error, \"getGlobalVariables\");\r\n    }\r\n\r\n    return false;\r\n  }\r\n};\r\n\r\nexport { getGlobalVariables, initializeFirebase };\r\n","import React from \"react\";\r\nimport { LinearProgress, LinearProgressProps } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\n\r\ninterface StylesProps {\r\n  barColor?: string;\r\n  barBackgroundColor?: string;\r\n}\r\n\r\ninterface ColoredLinearProgressProps extends LinearProgressProps {\r\n  barColor?: string;\r\n  barBackgroundColor?: string;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: \"100%\",\r\n      backgroundColor: (props: StylesProps) => props.barBackgroundColor || \"gray\",\r\n    },\r\n    bar: {\r\n      backgroundColor: (props: StylesProps) => props.barColor || theme.palette.primary.main,\r\n    },\r\n  })\r\n);\r\n\r\nconst ColoredLinearProgress: React.FC<ColoredLinearProgressProps> = ({\r\n  barColor,\r\n  barBackgroundColor,\r\n  ...other\r\n}: ColoredLinearProgressProps) => {\r\n  const classes = useStyles({ barColor, barBackgroundColor });\r\n\r\n  // Props are properly destructured and passed\r\n  // eslint-disable-next-line react/jsx-props-no-spreading\r\n  return <LinearProgress classes={classes} {...other} />;\r\n};\r\n\r\nexport default ColoredLinearProgress;\r\n","import React, { ReactNode } from \"react\";\r\n\r\ninterface HideFragmentProps {\r\n  hide?: boolean;\r\n  children: ReactNode;\r\n}\r\n\r\nconst HideFragment: React.FC<HideFragmentProps> = ({\r\n  children,\r\n  hide = false,\r\n}: HideFragmentProps) => {\r\n  if (hide) {\r\n    return null;\r\n  }\r\n\r\n  return <>{children}</>;\r\n};\r\n\r\nexport default HideFragment;\r\n","import React from \"react\";\r\nimport { Tooltip, TooltipProps } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    arrow: {\r\n      color: theme.palette.common.white,\r\n    },\r\n    tooltip: {\r\n      backgroundColor: theme.palette.common.white,\r\n      color: \"rgba(0, 0, 0, 0.87)\",\r\n      boxShadow: theme.shadows[1],\r\n      fontSize: 14,\r\n    },\r\n  })\r\n);\r\n\r\nconst LightTooltip: React.FC<TooltipProps> = ({ children, ...other }: TooltipProps) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    // Props are properly destructured and passed\r\n    // eslint-disable-next-line react/jsx-props-no-spreading\r\n    <Tooltip classes={classes} {...other}>\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default LightTooltip;\r\n","import React, { ReactNode } from \"react\";\r\nimport { Button, ButtonProps, CircularProgress } from \"@material-ui/core\";\r\n\r\ninterface LoadingButtonProps extends ButtonProps {\r\n  loading: boolean;\r\n  children: ReactNode;\r\n}\r\n\r\nconst LoadingButton: React.FC<LoadingButtonProps> = ({\r\n  children,\r\n  loading,\r\n  disabled,\r\n  ...other\r\n}: LoadingButtonProps) => {\r\n  return (\r\n    // Props are properly destructured and passed\r\n    // eslint-disable-next-line react/jsx-props-no-spreading\r\n    <Button disabled={disabled || loading} {...other}>\r\n      {loading ? <CircularProgress color=\"secondary\" size={24} /> : children}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default LoadingButton;\r\n","import React, { ReactNode } from \"react\";\r\nimport { AppBar, IconButton, Toolbar, Typography } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { KeyboardBackspace } from \"@material-ui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\ninterface NavigationAppBarProps {\r\n  showBack?: boolean;\r\n  children?: ReactNode;\r\n}\r\n\r\nconst useStyles = makeStyles(() =>\r\n  createStyles({\r\n    backButton: {\r\n      marginRight: 8,\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n    },\r\n  })\r\n);\r\n\r\nconst NavigationAppBar: React.FC<NavigationAppBarProps> = ({\r\n  children,\r\n  showBack,\r\n}: NavigationAppBarProps) => {\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory();\r\n\r\n  const onBackClick = () => history.goBack();\r\n\r\n  return (\r\n    <AppBar position=\"sticky\">\r\n      <Toolbar variant=\"dense\">\r\n        <IconButton\r\n          className={classes.backButton}\r\n          style={{ display: showBack ? \"\" : \"none\" }}\r\n          edge=\"start\"\r\n          color=\"inherit\"\r\n          aria-label=\"Back\"\r\n          onClick={onBackClick}\r\n        >\r\n          <KeyboardBackspace />\r\n        </IconButton>\r\n\r\n        <Typography className={classes.title}>Spot the Lesion</Typography>\r\n\r\n        {children}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default NavigationAppBar;\r\n","import React, { ReactNode } from \"react\";\r\nimport { Route, Redirect, RouteProps } from \"react-router-dom\";\r\n\r\ninterface ProtectedRouteProps extends RouteProps {\r\n  show: boolean;\r\n  redirectTo: string;\r\n  children: ReactNode;\r\n}\r\n\r\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = ({\r\n  children,\r\n  show,\r\n  redirectTo,\r\n  ...other\r\n}: ProtectedRouteProps) => {\r\n  // Props are properly destructured and passed\r\n  // eslint-disable-next-line react/jsx-props-no-spreading\r\n  return <Route {...other}>{show ? children : <Redirect to={redirectTo} />}</Route>;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","const colors = {\r\n  primary: \"#07575B\",\r\n  secondary: \"#63A2AB\",\r\n\r\n  primaryTabBar: \"#004445\",\r\n  secondaryTabBar: \"#003B46\",\r\n  tabIndicator: \"#C4DFE6\",\r\n\r\n  /* FileUpload */\r\n  fileUploadError: \"red\",\r\n  fileUploadSuccess: \"green\",\r\n\r\n  /* Game */\r\n  animation: \"#63A2AB\",\r\n  click: \"orange\",\r\n  hint: \"red\",\r\n  timerInitial: \"#373737\",\r\n  timerOrange: \"orange\",\r\n  timerRed: \"red\",\r\n  truth: \"green\",\r\n  playerCorrect: \"green\",\r\n  playerIncorrect: \"red\",\r\n  predicted: \"red\",\r\n\r\n  /* GameSideBar */\r\n  draw: \"gray\",\r\n  playerLost: \"red\",\r\n  playerWon: \"green\",\r\n\r\n  /* Leaderboards */\r\n  bronze: \"#CD7F32\",\r\n  gold: \"#FFCC00\",\r\n  rowBorder: \"#003B46\",\r\n  rowDefault: \"#C4DFE6\",\r\n  header: \"#07575B\",\r\n  headerText: \"white\",\r\n  silver: \"#A9A9A9\",\r\n\r\n  /* Pie Chart */\r\n  legendText: \"black\",\r\n  legendTextHover: \"#888888\",\r\n\r\n  /* Pie Chart - ImageStatsDialog */\r\n  pieImageCorrectAnswers: \"#00B359\",\r\n  pieImageHints: \"#E6B800\",\r\n  pieImageWrongAnswers: \"#FF0000\",\r\n\r\n  /* Pie Chart - Statistics */\r\n  pieAllAiWins: \"#D9267A\",\r\n  pieAllHumanWins: \"#26AFD9\",\r\n  pieAllDraws: \"#BAE3BC\",\r\n  pieAllHints: \"#26AFD9\",\r\n  pieAllNoHints: \"#D9267A\",\r\n\r\n  /* ScoreWithIncrement */\r\n  positiveIncrement: \"green\",\r\n  zeroIncrement: \"red\",\r\n};\r\n\r\nexport default colors;\r\n","import React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport colors from \"../res/colors\";\r\n\r\ninterface StylesProps {\r\n  increment: number;\r\n  showIncrement: boolean;\r\n}\r\n\r\ninterface ScoreWithIncrementProps {\r\n  player: string;\r\n  score: number;\r\n  increment: number;\r\n  showIncrement: boolean;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    text: {\r\n      [theme.breakpoints.down(\"sm\")]: {\r\n        fontSize: \"1.5rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        fontSize: \"2rem\",\r\n      },\r\n    },\r\n    incrementText: {\r\n      color: (props: StylesProps) =>\r\n        props.increment > 0 ? colors.positiveIncrement : colors.zeroIncrement,\r\n      display: (props: StylesProps) => (props.showIncrement ? \"\" : \"none\"),\r\n    },\r\n  })\r\n);\r\n\r\nconst ScoreWithIncrement: React.FC<ScoreWithIncrementProps> = ({\r\n  player,\r\n  score,\r\n  increment,\r\n  showIncrement,\r\n}: ScoreWithIncrementProps) => {\r\n  const classes = useStyles({ increment, showIncrement });\r\n\r\n  return (\r\n    <Typography className={classes.text}>\r\n      {player}: {score} <span className={classes.incrementText}>+{increment}</span>\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default ScoreWithIncrement;\r\n","import React, { ReactNode } from \"react\";\r\n\r\ninterface TabPanelProps {\r\n  value: number;\r\n  index: number;\r\n  children: ReactNode;\r\n}\r\n\r\nconst TabPanel: React.FC<TabPanelProps> = ({ children, value, index }: TabPanelProps) => {\r\n  if (value !== index) {\r\n    return null;\r\n  }\r\n\r\n  return <>{children}</>;\r\n};\r\n\r\nexport default TabPanel;\r\n","import React from \"react\";\r\nimport { Button, ButtonProps } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\r\nimport clsx from \"clsx\";\r\n\r\ninterface ToggleButtonProps extends ButtonProps {\r\n  value: string;\r\n  onToggle?: (event: React.MouseEvent<HTMLButtonElement>, value: string) => void;\r\n  selected?: boolean;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    root: {\r\n      color: fade(theme.palette.action.active, 0.38),\r\n    },\r\n    selected: {\r\n      backgroundColor: fade(theme.palette.action.active, 0.12),\r\n      \"&:hover\": {\r\n        backgroundColor: fade(theme.palette.action.active, 0.15),\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nconst ToggleButton: React.FC<ToggleButtonProps> = ({\r\n  children,\r\n  className,\r\n  value,\r\n  onClick,\r\n  onToggle,\r\n  selected,\r\n  ...other\r\n}: ToggleButtonProps) => {\r\n  const classes = useStyles();\r\n\r\n  const onButtonClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n    if (onClick) {\r\n      onClick(event);\r\n    }\r\n\r\n    if (onToggle) {\r\n      onToggle(event, value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      className={clsx(\r\n        {\r\n          [classes.selected]: selected,\r\n        },\r\n        className\r\n      )}\r\n      onClick={onButtonClick}\r\n      // Props are properly destructured and passed\r\n      // eslint-disable-next-line react/jsx-props-no-spreading\r\n      {...other}\r\n    >\r\n      {children}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default ToggleButton;\r\n","import React from \"react\";\r\nimport { ButtonGroup, ButtonGroupProps } from \"@material-ui/core\";\r\n\r\ninterface ToggleButtonGroupProps<T> extends ButtonGroupProps {\r\n  exclusive?: boolean;\r\n  value: T[];\r\n  onToggle?: (event: React.MouseEvent<HTMLButtonElement>, newValue: T[]) => void;\r\n}\r\n\r\nconst isValueSelected = <T extends string>(value: T, selectedValues: T[]) =>\r\n  selectedValues.indexOf(value) >= 0;\r\n\r\nconst ToggleButtonGroup = <T extends string>({\r\n  children,\r\n  exclusive = false,\r\n  value,\r\n  onToggle,\r\n  size = \"medium\",\r\n  ...other\r\n}: ToggleButtonGroupProps<T>): JSX.Element => {\r\n  const handleToggle = (event: React.MouseEvent<HTMLButtonElement>, buttonValue: T) => {\r\n    if (!onToggle) {\r\n      return;\r\n    }\r\n\r\n    const ix = value.indexOf(buttonValue);\r\n    const newValue = value.slice();\r\n\r\n    if (ix >= 0) {\r\n      newValue.splice(ix, 1);\r\n    } else {\r\n      newValue.push(buttonValue);\r\n    }\r\n\r\n    onToggle(event, newValue);\r\n  };\r\n\r\n  const handleExclusiveToggle = (event: React.MouseEvent<HTMLButtonElement>, buttonValue: T) => {\r\n    if (!onToggle) {\r\n      return;\r\n    }\r\n\r\n    const ix = value.indexOf(buttonValue);\r\n    const newValue: T[] = [];\r\n\r\n    if (ix < 0) {\r\n      newValue.push(buttonValue);\r\n    }\r\n\r\n    onToggle(event, newValue);\r\n  };\r\n\r\n  return (\r\n    // Props are properly destructured and passed\r\n    // eslint-disable-next-line react/jsx-props-no-spreading\r\n    <ButtonGroup {...other}>\r\n      {React.Children.map(children, (child) => {\r\n        if (!React.isValidElement(child)) {\r\n          return null;\r\n        }\r\n\r\n        return React.cloneElement(child, {\r\n          onToggle: exclusive ? handleExclusiveToggle : handleToggle,\r\n          selected: child.props.selected || isValueSelected(child.props.value, value),\r\n          size: child.props.size || size,\r\n        });\r\n      })}\r\n    </ButtonGroup>\r\n  );\r\n};\r\n\r\nexport default ToggleButtonGroup;\r\n","import React from \"react\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(() =>\r\n  createStyles({\r\n    container: {\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n  })\r\n);\r\n\r\nconst Loading: React.FC = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <CircularProgress color=\"primary\" size={128} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","/**\r\n * Returns the modulo of two given numbers\r\n * This differs from the remainder operator (%) for negative dividends\r\n *\r\n * @param x Dividend\r\n * @param y Divider\r\n *\r\n * @return Modulo of the two numbers\r\n */\r\nconst modulo = (x: number, y: number): number => ((x % y) + y) % y;\r\n\r\n/**\r\n * Get a random value in a range around a start point\r\n *\r\n * @param x     Start point\r\n * @param range Random range [-range, range]\r\n *\r\n * @return Random value in range around x\r\n */\r\nconst randomAround = (x: number, range: number): number =>\r\n  x + Math.floor(Math.random() * (range * 2 + 1)) - range;\r\n\r\nexport { modulo, randomAround };\r\n","import { useState } from \"react\";\r\nimport { modulo } from \"../utils/numberUtils\";\r\n\r\n/**\r\n * Custom hook for creating a generator from a given array\r\n * If the array is empty, it will always return -1\r\n *\r\n * @param array Array of numbers out of which to create a generator\r\n *\r\n * @return Array value generator function\r\n */\r\nconst useArrayGenerator = (array: number[]): (() => number) => {\r\n  const [ix, setIx] = useState(0);\r\n\r\n  if (array.length === 0) {\r\n    return () => -1;\r\n  }\r\n\r\n  return () => {\r\n    const number = array[ix];\r\n\r\n    setIx((prevState) => modulo(prevState + 1, array.length));\r\n\r\n    return number;\r\n  };\r\n};\r\n\r\nexport default useArrayGenerator;\r\n","import { useCallback, useState } from \"react\";\r\n\r\n/**\r\n * Custom hook for accessing a canvas's context\r\n *\r\n * @return Canvas rendering context and callback ref for setting it\r\n */\r\nconst useCanvasContext = (): readonly [\r\n  CanvasRenderingContext2D,\r\n  (canvas: HTMLCanvasElement | null) => void\r\n] => {\r\n  /* State won't ever be called while null, as it is set on render with the callback ref */\r\n  const [context, setContext] = useState<CanvasRenderingContext2D>(null!);\r\n\r\n  /* Callback ref for setting canvas context */\r\n  const ref = useCallback((canvas: HTMLCanvasElement | null) => {\r\n    /* Called with null on component unmount */\r\n    if (canvas !== null) {\r\n      setContext(canvas.getContext(\"2d\")!);\r\n    }\r\n  }, []);\r\n\r\n  return [context, ref] as const;\r\n};\r\n\r\nexport default useCanvasContext;\r\n","import { RefObject, useEffect, useState } from \"react\";\r\nimport h337 from \"heatmap.js\";\r\nimport constants from \"../res/constants\";\r\n\r\n/**\r\n * Custom hook for drawing a Heatmap over a canvas\r\n *\r\n * @param show       If true, the heatmap is shown\r\n * @param loadData   Function to load heatmap data\r\n * @param container  Ref to the container element to draw the heatmap in\r\n * @param className  Canvas className\r\n */\r\nconst useHeatmap = (\r\n  show: boolean,\r\n  loadData: (any) => void,\r\n  container: RefObject<HTMLDivElement>,\r\n  className: string\r\n): void => {\r\n  const [heatmapInstance, setHeatmapInstance] = useState<h337>(null!);\r\n\r\n  /* Initialize a heatmap instance */\r\n  useEffect(() => {\r\n    if (container.current === null) {\r\n      return;\r\n    }\r\n\r\n    /* Initialize heatmap instance */\r\n    const instance = h337.create({\r\n      container: container.current,\r\n      valueField: \"clickCount\",\r\n      width: constants.canvasSize,\r\n      height: constants.canvasSize,\r\n    });\r\n\r\n    // eslint-disable-next-line no-underscore-dangle\r\n    const { canvas }: { canvas: HTMLCanvasElement } = instance._renderer;\r\n\r\n    /* Replace default style with Game canvas style */\r\n    canvas.removeAttribute(\"style\");\r\n    canvas.className = className;\r\n\r\n    setHeatmapInstance(instance);\r\n  }, [className, container]);\r\n\r\n  /* Load data on the heatmap instance */\r\n  useEffect(() => {\r\n    if (heatmapInstance === null) {\r\n      return;\r\n    }\r\n\r\n    // eslint-disable-next-line no-underscore-dangle\r\n    const { canvas }: { canvas: HTMLCanvasElement } = heatmapInstance._renderer;\r\n\r\n    if (show) {\r\n      /* Show heatmap and load data */\r\n      canvas.style.display = \"\";\r\n\r\n      loadData(heatmapInstance);\r\n    } else {\r\n      /* Hide heatmap */\r\n      canvas.style.display = \"none\";\r\n\r\n      heatmapInstance.setData({ min: 0, max: 1, data: [] });\r\n    }\r\n  }, [heatmapInstance, loadData, show]);\r\n};\r\n\r\nexport default useHeatmap;\r\n","import { useEffect, useRef } from \"react\";\r\n\r\n/**\r\n * Custom hook for intervals\r\n *\r\n * @param callback Function to be called in interval\r\n * @param delay    How often to call the function, or null to pause the interval\r\n */\r\nconst useInterval = (callback: () => void, delay: number | null): void => {\r\n  const savedCallback = useRef<(() => void) | null>(null);\r\n\r\n  /* Update callback to catch state changes */\r\n  useEffect(() => {\r\n    savedCallback.current = callback;\r\n  }, [callback]);\r\n\r\n  /* Trigger or pause the interval */\r\n  useEffect(() => {\r\n    const tick = () => {\r\n      if (savedCallback.current !== null) {\r\n        savedCallback.current();\r\n      }\r\n    };\r\n\r\n    if (delay !== null) {\r\n      const id = window.setInterval(tick, delay);\r\n\r\n      return () => clearInterval(id);\r\n    }\r\n\r\n    return () => {};\r\n  }, [delay]);\r\n};\r\n\r\nexport default useInterval;\r\n","import { Dispatch, SetStateAction, useEffect, useState } from \"react\";\r\n\r\n/**\r\n * Custom hook for creating stateful variable saved in the browser's sessionStorage\r\n *\r\n * @param defaultValue Default value for the state variable\r\n * @param key          Key for saving/accessing the state variable in sessionStorage\r\n *\r\n * @return State variable value and setter\r\n */\r\nconst useSessionState = <T>(\r\n  defaultValue: T,\r\n  key: string\r\n): readonly [T, Dispatch<SetStateAction<T>>] => {\r\n  const [value, setValue] = useState<T>(() => {\r\n    const sessionValue = sessionStorage.getItem(key) || \"\";\r\n\r\n    try {\r\n      return JSON.parse(sessionValue);\r\n    } catch (_error) {\r\n      return defaultValue;\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    sessionStorage.setItem(key, JSON.stringify(value));\r\n  }, [key, value]);\r\n\r\n  return [value, setValue];\r\n};\r\n\r\nexport default useSessionState;\r\n","import { useState } from \"react\";\r\nimport { range } from \"../utils/arrayUtils\";\r\nimport { modulo } from \"../utils/numberUtils\";\r\n\r\n/**\r\n * Custom hook for creating a unique random generator\r\n *\r\n * When all unique values have been generated, restart with the same range\r\n *\r\n * @param min Minimum random value (inclusive)\r\n * @param max Maximum random value (exclusive)\r\n *\r\n * @return Unique random generator function\r\n */\r\nconst useUniqueRandomGenerator = (min: number, max: number): (() => number) => {\r\n  const [nums] = useState(() => range(min, max));\r\n  const [ix, setIx] = useState(max - min - 1);\r\n\r\n  return () => {\r\n    const randomIx = Math.floor(Math.random() * (ix + 1));\r\n\r\n    const randomNum = nums[randomIx];\r\n\r\n    nums[randomIx] = nums[ix];\r\n\r\n    nums[ix] = randomNum;\r\n\r\n    setIx((prevState) => modulo(prevState - 1, max - min));\r\n\r\n    return randomNum;\r\n  };\r\n};\r\n\r\nexport default useUniqueRandomGenerator;\r\n","/**\r\n * Given an array, partitions it into two complementary arrays based on a predicate function\r\n *\r\n * @param xs        Array of elements\r\n * @param predicate Predicate function to partition the array on\r\n *\r\n * @return A pair of two arrays, the first being the values for which the predicate returned true,\r\n *         and the latter the values for which it returned false\r\n */\r\nconst partition = <T>(xs: T[], predicate: (value: T) => boolean): [T[], T[]] =>\r\n  xs.reduce(\r\n    (acc, x) => {\r\n      acc[predicate(x) ? 0 : 1].push(x);\r\n\r\n      return acc;\r\n    },\r\n    [[], []] as [T[], T[]]\r\n  );\r\n\r\n/**\r\n * Create an array from a given range\r\n *\r\n * @param start First value of range (inclusive)\r\n * @param stop  Last value of range (exclusive)\r\n * @param step  Strictly positive step between consecutive range values\r\n *\r\n * @return Array range\r\n */\r\nconst range = (start = 1, stop: number, step = 1): number[] => {\r\n  if (stop <= start) {\r\n    throw new Error(\"Stop must be greater than start.\");\r\n  }\r\n\r\n  if (step <= 0) {\r\n    throw new Error(\"Step must be positive.\");\r\n  }\r\n\r\n  const nums: number[] = [];\r\n\r\n  for (let i = start; i < stop; i += step) {\r\n    nums.push(i);\r\n  }\r\n\r\n  return nums;\r\n};\r\n\r\n/**\r\n * Create a (randomly) shuffled array from a given range\r\n *\r\n * @param start First value of range (inclusive)\r\n * @param stop  Last value of range (exclusive)\r\n * @param step  Step between consecutive range values\r\n *\r\n * @return Shuffled array range\r\n */\r\nconst shuffledRange = (start = 1, stop: number, step = 1): number[] => {\r\n  if (stop <= start) {\r\n    throw new Error(\"Stop must be greater than start.\");\r\n  }\r\n\r\n  if (step <= 0) {\r\n    throw new Error(\"Step must be positive.\");\r\n  }\r\n\r\n  const nums: number[] = [];\r\n\r\n  for (let i = 0; i < (stop - start) / step; i++) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n\r\n    if (j !== i) {\r\n      nums.push(nums[j]);\r\n    }\r\n\r\n    nums[j] = start + i * step;\r\n  }\r\n\r\n  return nums;\r\n};\r\n\r\nexport { partition, range, shuffledRange };\r\n","export default __webpack_public_path__ + \"static/media/block.76020d92.png\";","export default __webpack_public_path__ + \"static/media/tick.77996589.png\";","export default __webpack_public_path__ + \"static/media/investigation.7162d033.png\";","export default __webpack_public_path__ + \"static/media/medal.46f2243b.png\";","export default __webpack_public_path__ + \"static/media/trophy.c2d7389d.png\";","export default __webpack_public_path__ + \"static/media/5.36ae9f54.png\";","export default __webpack_public_path__ + \"static/media/summit.da279dec.png\";","export default __webpack_public_path__ + \"static/media/brainstorm.f8359c94.png\";","export default __webpack_public_path__ + \"static/media/flash.fae3cf9d.png\";","export default __webpack_public_path__ + \"static/media/timer.dda31662.png\";","export default __webpack_public_path__ + \"static/media/confetti.313aa6bd.png\";","import question from \"../../res/images/achievements/block.png\";\r\nimport firstCorrect from \"../../res/images/achievements/tick.png\";\r\nimport firstCorrectWithoutHint from \"../../res/images/achievements/investigation.png\";\r\nimport firstCasualWin from \"../../res/images/achievements/medal.png\";\r\nimport firstCompetitiveWin from \"../../res/images/achievements/trophy.png\";\r\nimport fiveCorrectAnswers from \"../../res/images/achievements/5.png\";\r\nimport competitivePoints from \"../../res/images/achievements/summit.png\";\r\nimport allCorrectCompetitive from \"../../res/images/achievements/brainstorm.png\";\r\nimport fastAnswer from \"../../res/images/achievements/flash.png\";\r\nimport slowAnswer from \"../../res/images/achievements/timer.png\";\r\nimport correctAnswers from \"../../res/images/achievements/confetti.png\";\r\n\r\n/* Placeholder for not yet unlocked achievements */\r\nconst lockedAchievement: AchievementItem = {\r\n  key: \"\",\r\n  title: \"Not found yet\",\r\n  description: \"Play more in order to unlock this achievement\",\r\n  image: question,\r\n};\r\n\r\nconst achievementItems: AchievementItem[] = [\r\n  {\r\n    key: \"firstCorrect\",\r\n    title: \"First Step\",\r\n    description: \"Congratulations! You have spotted your first lesion. How many more can you spot?\",\r\n    image: firstCorrect,\r\n  },\r\n  {\r\n    key: \"firstCorrectWithoutHint\",\r\n    title: \"Independent Spotter\",\r\n    description:\r\n      \"Getting better, eh? You have spotted your first lesion without the help of a hint.\",\r\n    image: firstCorrectWithoutHint,\r\n  },\r\n  {\r\n    key: \"firstCasualWin\",\r\n    title: \"Casually Winning\",\r\n    description: \"Congratulations! You have won your first casual game. How about a new challenge?\",\r\n    image: firstCasualWin,\r\n  },\r\n  {\r\n    key: \"firstCompetitiveWin\",\r\n    title: \"Competitive Winner\",\r\n    description:\r\n      \"Who said machines have outsmarted humans? You have beaten the AI in a race against time!\",\r\n    image: firstCompetitiveWin,\r\n  },\r\n  {\r\n    key: \"fiveCorrectSameRunCasual\",\r\n    title: \"Practice makes perfect\",\r\n    description:\r\n      \"You are getting the hang of it! You have spotted five lesions in the same casual run.\",\r\n    image: fiveCorrectAnswers,\r\n  },\r\n  {\r\n    key: \"fiveCorrectSameRunCompetitive\",\r\n    title: \"Master Spotter\",\r\n    description: \"An impressive run! You have spotted five lesions in the same competitive run\",\r\n    image: fiveCorrectAnswers,\r\n  },\r\n  {\r\n    key: \"competitivePointsRun\",\r\n    title: \"IT'S OVER 1000!!!\",\r\n    description: \"1000 points?! You really have an eye for spotting lesions!\",\r\n    image: competitivePoints,\r\n  },\r\n  {\r\n    key: \"allCorrectCompetitive\",\r\n    title: \"Perfectionist\",\r\n    description: \"You got them all right! Have you considered a career in medicine?\",\r\n    image: allCorrectCompetitive,\r\n  },\r\n  {\r\n    key: \"fastAnswer\",\r\n    title: \"The flash!\",\r\n    description: \"You spotted a lesion in less than 2 seconds! Are you even human?\",\r\n    image: fastAnswer,\r\n  },\r\n  {\r\n    key: \"slowAnswer\",\r\n    title: \"Nerves of steel\",\r\n    description:\r\n      \"You operate well under difficult circumstances. You spotted a lesion with less than 0.5 seconds remaining\",\r\n    image: slowAnswer,\r\n  },\r\n  {\r\n    key: \"twentyCorrectSameRunCasual\",\r\n    title: \"Going the distance\",\r\n    description: \"20 correct answers? You are spot-on!\",\r\n    image: correctAnswers,\r\n  },\r\n  {\r\n    key: \"fiftyCorrectSameRunCasual\",\r\n    title: \"Still going?!\",\r\n    description: \"50 correct answers? You really put the spot in spot-the-lesion!\",\r\n    image: correctAnswers,\r\n  },\r\n];\r\n\r\nexport { lockedAchievement, achievementItems };\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Grid,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { LightTooltip, NavigationAppBar } from \"../../components\";\r\nimport { lockedAchievement, achievementItems } from \"./achievementItems\";\r\nimport constants from \"../../res/constants\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      flex: 1,\r\n      height: 0,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n    infoText: {\r\n      padding: 16,\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.between(\"sm\", \"md\")]: {\r\n        fontSize: \"1.5rem\",\r\n      },\r\n      [theme.breakpoints.up(\"lg\")]: {\r\n        fontSize: \"2rem\",\r\n      },\r\n    },\r\n    gridContainer: {\r\n      overflow: \"auto\",\r\n    },\r\n    gridItem: {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      padding: 16,\r\n    },\r\n    image: {\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        width: \"100%\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        width: 150,\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        width: 200,\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nconst Achievements: React.FC = () => {\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [selectedAchievement, setSelectedAchievement] = useState(lockedAchievement);\r\n\r\n  const classes = useStyles();\r\n\r\n  const onDialogClose = () => setDialogOpen(false);\r\n\r\n  const infoText = `Achievements unlocked: ${Math.max(localStorage.length - 1, 0)} out of \r\n                    ${constants.numberOfAchievements}. Click on an achievement to see details.`;\r\n\r\n  return (\r\n    <>\r\n      <NavigationAppBar showBack />\r\n\r\n      <div className={classes.container}>\r\n        <Typography className={classes.infoText}>{infoText}</Typography>\r\n\r\n        <Grid container className={classes.gridContainer}>\r\n          {achievementItems.map((item) => {\r\n            const { key } = item;\r\n\r\n            const unlocked = localStorage.getItem(key);\r\n\r\n            const displayItem = unlocked === \"true\" ? item : lockedAchievement;\r\n\r\n            const { title, image } = displayItem;\r\n\r\n            const onButtonClick = () => {\r\n              setSelectedAchievement(displayItem);\r\n              setDialogOpen(true);\r\n            };\r\n\r\n            return (\r\n              <Grid key={key} item xs={4} className={classes.gridItem}>\r\n                <LightTooltip title={title} arrow>\r\n                  <Button onClick={onButtonClick}>\r\n                    <img className={classes.image} src={image} alt={title} />\r\n                  </Button>\r\n                </LightTooltip>\r\n              </Grid>\r\n            );\r\n          })}\r\n        </Grid>\r\n      </div>\r\n\r\n      <Dialog open={dialogOpen} onClose={onDialogClose}>\r\n        <DialogTitle>{selectedAchievement.title}</DialogTitle>\r\n\r\n        <DialogContent dividers>\r\n          <Typography>{selectedAchievement.description} </Typography>\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <Button color=\"primary\" onClick={onDialogClose}>\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Achievements;\r\n","import React from \"react\";\r\nimport { Button } from \"@material-ui/core/\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { NavigationAppBar } from \"../../components\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n    buttonContainer: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n    button: {\r\n      margin: 8,\r\n      borderRadius: 20,\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        width: 250,\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        width: 300,\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        width: 320,\r\n        fontSize: \"1.25rem\",\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nconst Admin: React.FC = () => {\r\n  const history = useHistory();\r\n\r\n  const classes = useStyles();\r\n\r\n  const onGameSettingsClick = () => history.push(\"/admin/game-settings\");\r\n\r\n  const onFileUploadClick = () => history.push(\"/admin/file-upload\");\r\n\r\n  return (\r\n    <>\r\n      <NavigationAppBar showBack />\r\n\r\n      <div className={classes.container}>\r\n        <div className={classes.buttonContainer}>\r\n          <Button\r\n            className={classes.button}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"large\"\r\n            onClick={onGameSettingsClick}\r\n          >\r\n            Game Settings Panel\r\n          </Button>\r\n\r\n          <Button\r\n            className={classes.button}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"large\"\r\n            onClick={onFileUploadClick}\r\n          >\r\n            File Upload Panel\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n","import { createContext } from \"react\";\r\n\r\nconst AdminAuthContext = createContext({\r\n  adminLoggedIn: false,\r\n  adminLogIn: () => {},\r\n});\r\n\r\nexport default AdminAuthContext;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Button, Card, IconButton, InputAdornment, TextField, Typography } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport firebase from \"firebase/app\";\r\nimport AdminAuthContext from \"./AdminAuthContext\";\r\nimport { NavigationAppBar } from \"../../components\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n    card: {\r\n      width: \"60%\",\r\n      height: \"60%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"center\",\r\n    },\r\n    text: {\r\n      marginBottom: 24,\r\n      textAlign: \"center\",\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        fontSize: \"1.25rem\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        fontSize: \"1.5rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        fontSize: \"2rem\",\r\n      },\r\n    },\r\n    formContainer: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n    button: {\r\n      width: \"100%\",\r\n      marginTop: 24,\r\n      borderRadius: 20,\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        fontSize: \"1.25rem\",\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nconst AdminLogin: React.FC = () => {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showError, setShowError] = useState(false);\r\n\r\n  const { adminLogIn } = useContext(AdminAuthContext);\r\n\r\n  const classes = useStyles();\r\n\r\n  const onPasswordChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setShowError(false);\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  const onPasswordKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (event.key === \"Enter\") {\r\n      onSubmitClick().then(() => {});\r\n    }\r\n  };\r\n\r\n  const onShowPasswordClick = () => setShowPassword((prevState) => !prevState);\r\n\r\n  const onShowPasswordMouseDown = (event: React.MouseEvent<HTMLButtonElement>) =>\r\n    event.preventDefault();\r\n\r\n  const onSubmitClick = () =>\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(\"spot-the-lesion@gmail.com\", password)\r\n      .then(() => adminLogIn())\r\n      .catch((_error) => setShowError(true));\r\n\r\n  return (\r\n    <>\r\n      <NavigationAppBar showBack />\r\n\r\n      <div className={classes.container}>\r\n        <Card className={classes.card}>\r\n          <Typography className={classes.text}>Admin Screen</Typography>\r\n\r\n          <div className={classes.formContainer}>\r\n            <TextField\r\n              autoFocus\r\n              variant=\"outlined\"\r\n              label=\"Password\"\r\n              required\r\n              type={showPassword ? \"text\" : \"password\"}\r\n              error={showError}\r\n              helperText={showError ? \"Incorrect password\" : \"\"}\r\n              value={password}\r\n              onChange={onPasswordChange}\r\n              InputProps={{\r\n                onKeyDown: onPasswordKeyDown,\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"toggle password visibility\"\r\n                      onClick={onShowPasswordClick}\r\n                      onMouseDown={onShowPasswordMouseDown}\r\n                    >\r\n                      {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n\r\n            <Button\r\n              className={classes.button}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={onSubmitClick}\r\n            >\r\n              Log In\r\n            </Button>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminLogin;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  Card,\r\n  TextField,\r\n  Theme,\r\n  Typography,\r\n  useMediaQuery,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport firebase from \"firebase/app\";\r\nimport { handleFirestoreError, isFirestoreError } from \"../../utils/firebaseUtils\";\r\nimport { NavigationAppBar } from \"../../components\";\r\nimport constants from \"../../res/constants\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n    card: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      boxSizing: \"border-box\",\r\n      padding: 24,\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        width: \"80%\",\r\n        height: \"95%\",\r\n      },\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        width: \"60%\",\r\n        height: \"80%\",\r\n      },\r\n    },\r\n    text: {\r\n      padding: 8,\r\n      textAlign: \"center\",\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        fontSize: \"1.5rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        fontSize: \"2rem\",\r\n      },\r\n    },\r\n    settingsList: {\r\n      flex: 1,\r\n      overflow: \"auto\",\r\n    },\r\n    settingItem: {\r\n      margin: 16,\r\n    },\r\n    buttonGroup: {\r\n      alignItems: \"center\",\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        width: \"70%\",\r\n      },\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        width: \"100%\",\r\n      },\r\n    },\r\n    button: {\r\n      margin: 8,\r\n      borderRadius: 20,\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        width: \"80%\",\r\n        fontSize: \"0.6rem\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        width: \"80%\",\r\n        fontSize: \"0.6rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        width: \"100%\",\r\n        fontSize: \"1rem\",\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\n/**\r\n * Given a setting name, returns its minimum valid value\r\n *\r\n * @param name Setting name\r\n *\r\n * @return Minimum valid value\r\n */\r\nconst getMinValue = (name: string): number => {\r\n  switch (name) {\r\n    case \"Number of Rounds\":\r\n      return 1;\r\n    default:\r\n      return 0;\r\n  }\r\n};\r\n\r\nconst GameSettings: React.FC = () => {\r\n  const [loadData, setLoadData] = useState(true);\r\n  const [currentData, setCurrentData] = useState<FirestoreOptionsData>(null!);\r\n\r\n  const smallScreen = useMediaQuery((theme: Theme) => theme.breakpoints.down(\"xs\"));\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const classes = useStyles();\r\n\r\n  // To add an option to the list:\r\n  //  a) Create Firebase number field: in default_options and current_options\r\n  //  b) Add the name of that field in firebaseTypes.d.ts in SettingsData\r\n  //  b) Create a hook (const [<name1>, set<name1>] = useState(0);)\r\n  //  c) Add a line in settingsList with the name of the option and the two values from the hook\r\n  // WARNING! Make sure that SettingsData and settingsList are sorted lexicographically by the field name.\r\n  // WARNING! Only number values are supported. To change this to string, replace all occurrences of \"number\" with \"string\".\r\n\r\n  const [animationDuration, setAnimationDuration] = useState(0);\r\n  const [hintTime, setHintTime] = useState(0);\r\n  const [hintRadius, setHintRadius] = useState(0);\r\n  const [hintLineWidth, setHintLineWidth] = useState(0);\r\n  const [roundDuration, setRoundDuration] = useState(0);\r\n  const [roundsNumber, setRoundsNumber] = useState(0);\r\n  const [aiScoreMultiplier, setAiScoreMultiplier] = useState(0);\r\n\r\n  const settingsList: GameSetting[] = [\r\n    { name: \"AI Score Multiplier\", value: aiScoreMultiplier, setter: setAiScoreMultiplier },\r\n    { name: \"Animation Duration\", value: animationDuration, setter: setAnimationDuration },\r\n    { name: \"Hint Line Width\", value: hintLineWidth, setter: setHintLineWidth },\r\n    { name: \"Hint Radius\", value: hintRadius, setter: setHintRadius },\r\n    { name: \"Hint Time\", value: hintTime, setter: setHintTime },\r\n    { name: \"Round duration\", value: roundDuration, setter: setRoundDuration },\r\n    { name: \"Number of Rounds\", value: roundsNumber, setter: setRoundsNumber },\r\n  ];\r\n\r\n  /**\r\n   * Function for retrieving the current game options from Firebase\r\n   */\r\n  const getData = async () => {\r\n    setLoadData(false);\r\n\r\n    try {\r\n      const settingsSnapshot = await firebase\r\n        .firestore()\r\n        .collection(\"game_options\")\r\n        .doc(\"current_options\")\r\n        .get();\r\n\r\n      if (!settingsSnapshot.exists) {\r\n        return;\r\n      }\r\n\r\n      const settingsData = settingsSnapshot.data() as FirestoreOptionsData;\r\n\r\n      setCurrentData(settingsData);\r\n\r\n      const keys = Object.keys(settingsData);\r\n\r\n      keys.sort();\r\n\r\n      let i = 0;\r\n      for (const key in keys) {\r\n        if (Object.prototype.hasOwnProperty.call(keys, key)) {\r\n          settingsList[i].setter(settingsData[keys[key]]);\r\n          i += 1;\r\n        }\r\n      }\r\n    } catch (error) {\r\n      if (isFirestoreError(error)) {\r\n        handleFirestoreError(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  if (loadData) {\r\n    getData().then(() => {});\r\n  }\r\n\r\n  const onUpdateClick = async () => {\r\n    const values = settingsList.map((setting) => setting.value);\r\n\r\n    const newData: FirestoreOptionsData = currentData;\r\n\r\n    const keys = Object.keys(currentData);\r\n\r\n    keys.sort();\r\n\r\n    let i = 0;\r\n    for (const key in keys) {\r\n      if (Object.prototype.hasOwnProperty.call(keys, key)) {\r\n        newData[keys[key]] = values[i];\r\n        i += 1;\r\n      }\r\n    }\r\n\r\n    try {\r\n      await firebase.firestore().collection(\"game_options\").doc(\"current_options\").set(newData);\r\n\r\n      enqueueSnackbar(\r\n        \"The game options were updated successfully!\",\r\n        constants.successSnackbarOptions\r\n      );\r\n    } catch (error) {\r\n      if (isFirestoreError(error)) {\r\n        handleFirestoreError(error, enqueueSnackbar);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onResetDefault = async () => {\r\n    try {\r\n      const defaultSettingsSnapshot = await firebase\r\n        .firestore()\r\n        .collection(\"game_options\")\r\n        .doc(\"default_options\")\r\n        .get();\r\n\r\n      const defaultSettingsData = defaultSettingsSnapshot.data() as FirestoreOptionsData;\r\n\r\n      await firebase\r\n        .firestore()\r\n        .collection(\"game_options\")\r\n        .doc(\"current_options\")\r\n        .set(defaultSettingsData);\r\n\r\n      enqueueSnackbar(\"The game options were reset to default!\", constants.successSnackbarOptions);\r\n\r\n      setLoadData(true);\r\n    } catch (error) {\r\n      if (isFirestoreError(error)) {\r\n        handleFirestoreError(error, enqueueSnackbar);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavigationAppBar showBack />\r\n\r\n      <div className={classes.container}>\r\n        <Card className={classes.card}>\r\n          <Typography className={classes.text}>Game Settings</Typography>\r\n\r\n          <div className={classes.settingsList}>\r\n            {settingsList.map(({ name, value, setter }) => {\r\n              const onSettingChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n                const newValue = Number(event.target.value);\r\n                const changeValue = Math.max(newValue, getMinValue(name));\r\n\r\n                setter(changeValue);\r\n              };\r\n\r\n              return (\r\n                <div key={name} className={classes.settingItem}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    label={name}\r\n                    type=\"number\"\r\n                    value={value}\r\n                    onChange={onSettingChange}\r\n                  />\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          <ButtonGroup\r\n            orientation={smallScreen ? \"vertical\" : \"horizontal\"}\r\n            className={classes.buttonGroup}\r\n          >\r\n            <Button\r\n              className={classes.button}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={onUpdateClick}\r\n            >\r\n              Update\r\n            </Button>\r\n\r\n            <Button\r\n              className={classes.button}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={onResetDefault}\r\n            >\r\n              Reset Default\r\n            </Button>\r\n          </ButtonGroup>\r\n        </Card>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default GameSettings;\r\n","/**\r\n * Given two Files, compares their names\r\n *\r\n * @param a First file to compare\r\n * @param b Second file to compare\r\n *\r\n * @return Negative value if a < b, zero if equal, and positive value otherwise\r\n */\r\nconst compareFiles = (a: File, b: File): number => a.name.localeCompare(b.name);\r\n\r\n/**\r\n * Get the names of the files in an array of Files\r\n *\r\n * @param files Array of Files to retrieve the names from\r\n *\r\n * @return String of file names, separated by ';'\r\n */\r\nconst getFileNames = (files: File[]): string => files.map((file) => file.name).join(\"; \");\r\n\r\n/**\r\n * Given a file name, returns the string without the extension\r\n *\r\n * @param fileName File name to remove the extension from\r\n *\r\n * @return File name without extension\r\n */\r\nconst removeExtension = (fileName: string): string => fileName.replace(/(.*)\\.[^.]+$/, \"$1\");\r\n\r\nexport { compareFiles, getFileNames, removeExtension };\r\n","import React, { useState } from \"react\";\r\nimport { Button, Card, TextField, Typography } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { CloudUpload } from \"@material-ui/icons\";\r\nimport axios from \"axios\";\r\nimport clsx from \"clsx\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { NavigationAppBar } from \"../../components\";\r\nimport { handleAxiosError } from \"../../utils/axiosUtils\";\r\nimport { compareFiles, getFileNames, removeExtension } from \"../../utils/fileUtils\";\r\nimport colors from \"../../res/colors\";\r\nimport constants from \"../../res/constants\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n    card: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      boxSizing: \"border-box\",\r\n      padding: 24,\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        width: \"80%\",\r\n        height: \"95%\",\r\n      },\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        width: \"60%\",\r\n        height: \"80%\",\r\n      },\r\n    },\r\n    text: {\r\n      padding: 8,\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        fontSize: \"1.25rem\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        fontSize: \"1.5rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        fontSize: \"2rem\",\r\n      },\r\n    },\r\n    uploadList: {\r\n      width: \"100%\",\r\n      margin: 24,\r\n    },\r\n    uploadItem: {\r\n      display: \"flex\",\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"center\",\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        flexDirection: \"column\",\r\n      },\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        flexDirection: \"row\",\r\n      },\r\n    },\r\n    uploadButton: {\r\n      margin: 16,\r\n    },\r\n    uploadTextField: {\r\n      margin: 16,\r\n    },\r\n    successText: {\r\n      color: colors.fileUploadSuccess,\r\n    },\r\n    errorText: {\r\n      color: colors.fileUploadError,\r\n    },\r\n    submitButton: {\r\n      borderRadius: 20,\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        width: \"70%\",\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        width: \"75%\",\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        width: \"40%\",\r\n        fontSize: \"1.25rem\",\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nconst axiosConfig = { headers: { \"content-type\": \"multipart/form-data\" } };\r\n\r\nconst wrongPasswordResponse = \"Upload has not been completed, the server password was not correct!\";\r\n\r\nconst FileUpload: React.FC = () => {\r\n  const [selectedImages, setSelectedImages] = useState<File[]>([]);\r\n  const [selectedJsons, setSelectedJsons] = useState<File[]>([]);\r\n\r\n  const [imageHelperText, setImageHelperText] = useState(\"\");\r\n  const [jsonHelperText, setJsonHelperText] = useState(\"\");\r\n\r\n  const [uploadSuccessful, setUploadSuccessful] = useState(false);\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const classes = useStyles();\r\n\r\n  const resetState = () => {\r\n    setImageHelperText(\"\");\r\n    setJsonHelperText(\"\");\r\n    setUploadSuccessful(false);\r\n  };\r\n\r\n  const onUploadImageInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (event.target.files === null) {\r\n      return;\r\n    }\r\n\r\n    const files = [...event.target.files].sort(compareFiles);\r\n\r\n    setSelectedImages(files);\r\n    resetState();\r\n  };\r\n\r\n  const onUploadJsonInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (event.target.files === null) {\r\n      return;\r\n    }\r\n\r\n    const files = [...event.target.files].sort(compareFiles);\r\n\r\n    setSelectedJsons(files);\r\n    resetState();\r\n  };\r\n\r\n  /**\r\n   * Check the selected files, setting the helper texts if invalid\r\n   *\r\n   * @param images Selected image files\r\n   * @param jsons  Selected json files\r\n   *\r\n   * @return True if valid, false otherwise\r\n   */\r\n  const checkSelectedFiles = (images: File[], jsons: File[]) => {\r\n    if (images.length === 0 || jsons.length === 0) {\r\n      if (images.length === 0) {\r\n        setImageHelperText(\"Please select a file.\");\r\n      }\r\n\r\n      if (jsons.length === 0) {\r\n        setJsonHelperText(\"Please select a file.\");\r\n      }\r\n\r\n      return false;\r\n    }\r\n\r\n    if (images.length !== jsons.length) {\r\n      if (images.length < jsons.length) {\r\n        setImageHelperText(\"Too few images for the selected jsons.\");\r\n      }\r\n\r\n      if (jsons.length < images.length) {\r\n        setJsonHelperText(\"Too few jsons for the selected images.\");\r\n      }\r\n\r\n      return false;\r\n    }\r\n\r\n    for (let i = 0; i < images.length; i++) {\r\n      const imageName = removeExtension(images[i].name);\r\n      const jsonName = removeExtension(jsons[i].name);\r\n\r\n      if (imageName !== jsonName) {\r\n        setImageHelperText(\"Images and jsons names don't match.\");\r\n        setJsonHelperText(\"Images and jsons names don't match.\");\r\n\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  /**\r\n   * Function for sending POST Request to the server,\r\n   * after at least 1 image and at least 1 JSONs were selected\r\n   */\r\n  const onSubmitClick = () => {\r\n    if (!checkSelectedFiles(selectedImages, selectedJsons)) {\r\n      return;\r\n    }\r\n\r\n    enqueueSnackbar(\"Uploading files to the server...\", constants.uploadFilesSnackbarOptions);\r\n\r\n    for (let i = 0; i < selectedImages.length; i++) {\r\n      /* Send one POST Request per each image and json pair to the server */\r\n      const serverKey = process.env.REACT_APP_SERVER_KEY || \"N/A\";\r\n\r\n      const formData = new FormData();\r\n      formData.append(\"pass\", serverKey);\r\n      formData.append(\"scan\", selectedImages[i]);\r\n      formData.append(\"json\", selectedJsons[i]);\r\n\r\n      axios\r\n        .post(\"https://spot-the-lesion.herokuapp.com/post/\", formData, axiosConfig)\r\n        .then((response) => {\r\n          const successful = response.status === 200 && response.data !== wrongPasswordResponse;\r\n\r\n          if (successful) {\r\n            setImageHelperText(\"Upload successful!\");\r\n            setJsonHelperText(\"Upload successful!\");\r\n\r\n            setUploadSuccessful(true);\r\n          } else {\r\n            setImageHelperText(response.data);\r\n            setJsonHelperText(response.data);\r\n          }\r\n\r\n          /* Enqueue snackbar with the Server Response */\r\n          const responseSnackbarOptions = successful\r\n            ? constants.successSnackbarOptions\r\n            : constants.errorSnackbarOptions;\r\n\r\n          enqueueSnackbar(response.data, responseSnackbarOptions);\r\n        })\r\n        .catch((error) => {\r\n          if (axios.isAxiosError(error)) {\r\n            handleAxiosError(error);\r\n\r\n            if (error.response) {\r\n              setImageHelperText(error.response.data);\r\n              setJsonHelperText(error.response.data);\r\n\r\n              /* Enqueue snackbar with the Server Error */\r\n              enqueueSnackbar(error.response.data, constants.errorSnackbarOptions);\r\n            }\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavigationAppBar showBack />\r\n\r\n      <div className={classes.container}>\r\n        <Card className={classes.card}>\r\n          <Typography className={classes.text}>Image upload panel</Typography>\r\n\r\n          <div className={classes.uploadList}>\r\n            <div className={classes.uploadItem}>\r\n              <input\r\n                id=\"upload-image-input\"\r\n                accept=\"image/*\"\r\n                type=\"file\"\r\n                multiple\r\n                hidden\r\n                onChange={onUploadImageInputChange}\r\n              />\r\n\r\n              <label htmlFor=\"upload-image-input\" className={classes.uploadButton}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"large\"\r\n                  startIcon={<CloudUpload />}\r\n                  component=\"span\"\r\n                >\r\n                  Upload Image\r\n                </Button>\r\n              </label>\r\n\r\n              <TextField\r\n                className={classes.uploadTextField}\r\n                placeholder=\"No file selected\"\r\n                value={getFileNames(selectedImages)}\r\n                helperText={imageHelperText}\r\n                FormHelperTextProps={{\r\n                  className: clsx({\r\n                    [classes.successText]: uploadSuccessful,\r\n                    [classes.errorText]: !uploadSuccessful,\r\n                  }),\r\n                }}\r\n                InputProps={{ readOnly: true }}\r\n              />\r\n            </div>\r\n\r\n            <div className={classes.uploadItem}>\r\n              <input\r\n                id=\"upload-json-input\"\r\n                accept=\".json\"\r\n                type=\"file\"\r\n                multiple\r\n                hidden\r\n                onChange={onUploadJsonInputChange}\r\n              />\r\n\r\n              <label htmlFor=\"upload-json-input\" className={classes.uploadButton}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"large\"\r\n                  startIcon={<CloudUpload />}\r\n                  component=\"span\"\r\n                >\r\n                  Upload JSON\r\n                </Button>\r\n              </label>\r\n\r\n              <TextField\r\n                className={classes.uploadTextField}\r\n                placeholder=\"No file selected\"\r\n                value={getFileNames(selectedJsons)}\r\n                helperText={jsonHelperText}\r\n                FormHelperTextProps={{\r\n                  className: clsx({\r\n                    [classes.successText]: uploadSuccessful,\r\n                    [classes.errorText]: !uploadSuccessful,\r\n                  }),\r\n                }}\r\n                InputProps={{ readOnly: true }}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <Button\r\n            className={classes.submitButton}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"large\"\r\n            onClick={onSubmitClick}\r\n          >\r\n            Submit\r\n          </Button>\r\n        </Card>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FileUpload;\r\n","const pkgRegex = /(.+)@(.+)$/;\r\n\r\n/**\r\n * Given an NPM Package, get the name and version\r\n *\r\n * @param pkg NPM Package string\r\n *\r\n * @return Name and version of the given package\r\n */\r\nconst getPackageNameAndVersion = (pkg: string): [string, string] => {\r\n  const name = pkg.replace(pkgRegex, \"$1\");\r\n  const version = pkg.replace(pkgRegex, \"$2\");\r\n\r\n  return [name, version];\r\n};\r\n\r\n/**\r\n * Processes a libraries json, returning an array of Library objects\r\n *\r\n * @param libraries Libraries json to process\r\n *\r\n * @return Array of Library objects\r\n */\r\nconst getLibrariesArray = (libraries: Record<string, LicenseInfo>): Library[] => {\r\n  return Object.keys(libraries).map((key) => {\r\n    const [name, version] = getPackageNameAndVersion(key);\r\n\r\n    return {\r\n      name,\r\n      version,\r\n      licenseInfo: libraries[key],\r\n    };\r\n  });\r\n};\r\n\r\nexport { getPackageNameAndVersion, getLibrariesArray };\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZ8AAABtCAMAAABJEZwAAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURf///wAAAJycnJSUjKWlpe/374yMjAgICO/m79bOzkJKUq2lrXNzc2NSWtbe3ubm3r3FxRBK5hBKWhBKtUJKhEIZ5pQZ5kIZtZQZtRAZjGuUa5QZWsXvvUIZWmsZ5msZtWsZWozmzozOnIy1zr1SEL0ZEL2MEDo6OkLOY1Lv5hnv5iEhKdaUpYxzaxDvY70ppb0IpbW1tZRK5pRKhEJK5hBKjEJKtZRKtYxKWr3vEGtK5mtKhGtKtb29EBkQECk6MbW9tZSca0IZjJQZjGsZjO9SEO8ZEO+MEJQZEGsZEIzm74zvnIy1771SMb0ZMb2MMb1Sc70p5r2U771atb0Zc72Mc71SUr0I5r2Uzr1alL0ZUr2MUnuE5nuEtb1K5kLvY+8ppe8IpebF773F5kIQEL3vQr3vlO/vEL3va5RKEO+9EBClEGtKEBB7EBDOEPeUpb29Mb29c729UhAI5hAItRAIWu9Sc+9SMe8p5lKlte8ZMe+U7+9ate8Zc++MMRmltZQZMe+Mc0JKEGsZMVJ7tRl7tVLOtRnOtbWMpe9SUu8I5lKllO+Uzu9alO8ZUhmllO+MUiFKEFJ7lBl7lFLOlBnOlO9K5kKl5tbFpQil5kJ75gh75kLO5gjO5s7FxZyE5pyEtb1r5u/vlO/vQu/va0KlEJR7OpTvEGt7OmvvEEJ7EJR7EJTFEGt7EGvFEELOEJRKMe+9c++9MUIQMRClMRClc2tKMRB7MRB7cxDOMRDOc+/vvQhCEBDvEO+9UhClUhB7UhDOUiEhGWtrY1LvtRnvtVLvlBnvlBAp5hAptRApWoStnO9r5mOl5vfFpSml5mN75il75mPO5inO5pTvc0Klc0KlMZScOpTvMWucOmvvMWvvc0J7MZScEJTFMWucEGvFMZTFc0J7c2vFc0LOMbXFnL3v5kLvEJTvUkKlUmvvUpTFUkJ7UmvFUghCMRDvMULvMQgQKUJSMc7v/3t7lJx7lLWllAgAIXuUlIxzlKWtlP/m/5ycjAgAAJSUnAAAACnoqD0AAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAABcRAAAXEQHKJvM/AAAZt0lEQVR4Xu1dy5biyK5NzCMDDIZx/wAD1hn0D1D+Un9MMrz/cefd6w7yUNled2+FJEcYGzh9KutBs7MetiMcD0lbUoRN8vIzY1ksqqDHVzFRlHr+CVhpFyeerPWkkKJPRai2lfzV858H1Z4iOCz19AqCCAu4Tz9NXZdFsSgWZd3opdv4U7tY8+SkJ99BP/v9/oC/b59oen8TarFvd8gw1pxMaj0fRyjWm4PWBo6rxe17BGIsgOjH+LOQok+F9vQ9TOE/Q6kDm2z0wjjmWvM2f04m5g7H1V0kMv+W8eefrJ+NDuweD6c1b+mnPWq9HH+ttPwaBvnzHYSmPf3E+jne1M998Wd5yR3FUWtcw5M/Pbh+vmz1yji05tX4U2idAZy1yjVk+cEz/ry81DqwKJGruCP+hN+0SsR+tV6fVpoo7O/JXTP/9gP4M9XznwfqUf64I8GKNa/p599aQ1CUS1FJUxZU0c2sgsj825M/QCUu5XhHduXxZ1SVZ60AHMvUX4Z6f092MMKff3J+8PLydXfaLOZ6chU6h1EmNFoOrG5Hs0EYf7L9g9uu97+G9vQz6udu3MrftloMiHj/Dn40f76DK/086BzG9OOp4B1r3TH8jPEnLOvdtpfcNPX1TavQ7OpKj4dQ4f5r5ahwPZ1a1vWuyat4/jYcf6pXLb5PPaHBCC/GcFf+Fqq62Y0PH6VXpw6whWwW2lPUz2xzWm9OpxO7aNb7L4fj8XBYlRYDqsXqcDjg0n7hgwinzfqEewpeCX7PdGiUzQnFf6D8y6pMyt83aACt8LjF/W8rmUWLoaxPp64r5Nyn/eHwFltIDUrnMLKQ+U92ItabQ5zBl01uhrf5g8Hx1uNhfxricbFi6dthJRMqTpgbflIxhXqD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\"","export default __webpack_public_path__ + \"static/media/mira.e21c963d.png\";","import React, { useState } from \"react\";\r\nimport {\r\n  AppBar,\r\n  Card,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Tab,\r\n  Tabs,\r\n  Theme,\r\n  Typography,\r\n  useMediaQuery,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { getLibrariesArray } from \"../../utils/creditsUtils\";\r\nimport { NavigationAppBar, TabPanel } from \"../../components\";\r\nimport libraries from \"./libraries.json\";\r\nimport imperial from \"../../res/images/credits/imperial.png\";\r\nimport mira from \"../../res/images/credits/mira.png\";\r\nimport colors from \"../../res/colors\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    appBar: {\r\n      backgroundColor: colors.primaryTabBar,\r\n    },\r\n    tabIndicator: {\r\n      backgroundColor: colors.tabIndicator,\r\n    },\r\n    tab: {\r\n      fontSize: \"1rem\",\r\n    },\r\n    container: {\r\n      flex: 1,\r\n      height: 0,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n    imageContainer: {\r\n      height: 0,\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      justifyContent: \"space-between\",\r\n      justifyItems: \"center\",\r\n      alignItems: \"center\",\r\n      marginLeft: \"10%\",\r\n    },\r\n    card: {\r\n      height: \"80%\",\r\n      width: \"80%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"space-evenly\",\r\n      padding: 8,\r\n    },\r\n    text: {\r\n      textAlign: \"center\",\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        fontSize: \"1.25rem\",\r\n      },\r\n      [theme.breakpoints.only(\"md\")]: {\r\n        fontSize: \"1.5rem\",\r\n      },\r\n      [theme.breakpoints.up(\"lg\")]: {\r\n        fontSize: \"2rem\",\r\n      },\r\n    },\r\n    list: {\r\n      flex: 1,\r\n      height: 0,\r\n      overflow: \"auto\",\r\n    },\r\n    image: {\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        width: \"90%\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        width: \"70%\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        width: \"70%\",\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nconst Credits: React.FC = () => {\r\n  const [tabIndex, setTabIndex] = useState(0);\r\n\r\n  const smallScreen = useMediaQuery((theme: Theme) => theme.breakpoints.down(\"xs\"));\r\n\r\n  const classes = useStyles();\r\n\r\n  const onTabChange = (_event, newValue: number) => setTabIndex(newValue);\r\n\r\n  return (\r\n    <>\r\n      <NavigationAppBar showBack />\r\n\r\n      <AppBar className={classes.appBar} position=\"sticky\">\r\n        <Tabs\r\n          classes={{ indicator: classes.tabIndicator }}\r\n          variant={smallScreen ? \"fullWidth\" : \"standard\"}\r\n          centered\r\n          aria-label=\"Credits pages\"\r\n          value={tabIndex}\r\n          onChange={onTabChange}\r\n        >\r\n          <Tab className={classes.tab} label=\"About The Game\" />\r\n\r\n          <Tab className={classes.tab} label=\"Libraries & Images\" />\r\n        </Tabs>\r\n      </AppBar>\r\n\r\n      <div className={classes.container}>\r\n        <TabPanel value={tabIndex} index={0}>\r\n          <Card className={classes.card}>\r\n            <Typography className={classes.text}>\r\n              The AI for this game is based on the{\" \"}\r\n              <a href=\"https://arxiv.org/abs/1906.02283\" target=\"blank\">\r\n                MICCAI 2019 paper\r\n              </a>\r\n            </Typography>\r\n\r\n            <Typography className={classes.text}>\r\n              CT Scan AI developed by Martin Zlocha, Qi Dou and Ben Glocker.\r\n            </Typography>\r\n\r\n            <Typography className={classes.text}>\r\n              This site was made with React for the 3rd year Software Engineering Group Project by:\r\n              Andrei-Matei Roman, Andrei-Ovidiu Badea, Calin-Andrei Alexandru, Calin Biberea,\r\n              Cosmin-Ionut Baies, Tiberiu-Andrei Georgescu\r\n            </Typography>\r\n\r\n            <Typography className={classes.text}>\r\n              (c) 2019 Data obtained from the{\" \"}\r\n              <a\r\n                href=\"https://www.nih.gov/news-events/news-releases/nih-clinical-center-releases-dataset-32000-ct-images\"\r\n                target=\"blank\"\r\n              >\r\n                NIH Clinical Center\r\n              </a>\r\n            </Typography>\r\n            <div className={classes.imageContainer}>\r\n              <a href=\"http://www.imperial.ac.uk/\" target=\"blank\">\r\n                <img className={classes.image} src={imperial} alt={imperial} />\r\n              </a>\r\n\r\n              <a href=\"https://sites.google.com/view/project-mira/\" target=\"blank\">\r\n                <img className={classes.image} src={mira} alt={mira} />\r\n              </a>\r\n            </div>\r\n          </Card>\r\n        </TabPanel>\r\n\r\n        <TabPanel value={tabIndex} index={1}>\r\n          <Card className={classes.card}>\r\n            <Typography className={classes.text}>\r\n              Here is a list of libraries and images used, kudos to the creators for enabling us to\r\n              work effectively.\r\n            </Typography>\r\n\r\n            <Typography className={classes.text}>\r\n              You can find a link to the authors and the licenses for the images by following{\" \"}\r\n              <a href=\"https://drive.google.com/file/d/1zAs8cqA91jkWzLExid3EvleiB8e1yIuu/view?usp=sharing\">\r\n                this link\r\n              </a>\r\n              .\r\n            </Typography>\r\n\r\n            <Typography className={classes.text}>\r\n              Here are the libraries that this game uses:\r\n            </Typography>\r\n\r\n            <List className={classes.list}>\r\n              {getLibrariesArray(libraries).map(({ name, version }) => (\r\n                <ListItem key={name}>\r\n                  <ListItemText primary={name} secondary={version} />\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          </Card>\r\n        </TabPanel>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Credits;\r\n","import React, { useState } from \"react\";\r\nimport { Button, Typography } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { NavigationAppBar, ToggleButton, ToggleButtonGroup } from \"../../components\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"center\",\r\n    },\r\n    selectorsContainer: {\r\n      width: \"100%\",\r\n      display: \"flex\",\r\n      justifyContent: \"space-evenly\",\r\n      [theme.breakpoints.down(\"sm\")]: {\r\n        flex: 0.8,\r\n        flexDirection: \"column\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        flexDirection: \"row\",\r\n      },\r\n    },\r\n    selectorContainer: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n    selectText: {\r\n      fontSize: \"3rem\",\r\n      fontWeight: \"bold\",\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        fontSize: \"150%\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        fontSize: \"1.5rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        fontSize: \"3rem\",\r\n      },\r\n    },\r\n    toggleButton: {\r\n      margin: 8,\r\n      borderRadius: 20,\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        width: 300,\r\n        height: 50,\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        width: 350,\r\n        height: 58,\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        width: 370,\r\n        height: 61,\r\n        fontSize: \"1.25rem\",\r\n      },\r\n    },\r\n    startButton: {\r\n      borderRadius: 20,\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        width: 300,\r\n        height: 50,\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        width: 350,\r\n        height: 58,\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        width: 370,\r\n        height: 61,\r\n        fontSize: \"1.25rem\",\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nconst GameMenu: React.FC = () => {\r\n  const [gameModes, setGameModes] = useState<GameMode[]>([]);\r\n  const [difficulties, setDifficulties] = useState<Difficulty[]>([]);\r\n\r\n  const history = useHistory();\r\n\r\n  const classes = useStyles();\r\n\r\n  const onToggleGameMode = (\r\n    _event: React.MouseEvent<HTMLButtonElement>,\r\n    newGameModes: GameMode[]\r\n  ) => setGameModes(newGameModes);\r\n\r\n  const onToggleDifficulty = (\r\n    _event: React.MouseEvent<HTMLButtonElement>,\r\n    newDifficulties: Difficulty[]\r\n  ) => setDifficulties(newDifficulties);\r\n\r\n  const onStartClick = () =>\r\n    history.push(`/game?gameMode=${gameModes[0]}&difficulty=${difficulties[0]}`);\r\n\r\n  return (\r\n    <>\r\n      <NavigationAppBar showBack />\r\n\r\n      <div className={classes.container}>\r\n        <div className={classes.selectorsContainer}>\r\n          <div className={classes.selectorContainer}>\r\n            <Typography className={classes.selectText}>Game mode</Typography>\r\n\r\n            <ToggleButtonGroup\r\n              orientation=\"vertical\"\r\n              exclusive\r\n              value={gameModes}\r\n              onToggle={onToggleGameMode}\r\n            >\r\n              <ToggleButton\r\n                className={classes.toggleButton}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"large\"\r\n                value=\"casual\"\r\n              >\r\n                Casual\r\n              </ToggleButton>\r\n\r\n              <ToggleButton\r\n                className={classes.toggleButton}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"large\"\r\n                value=\"competitive\"\r\n              >\r\n                Competitive\r\n              </ToggleButton>\r\n            </ToggleButtonGroup>\r\n          </div>\r\n\r\n          <div className={classes.selectorContainer}>\r\n            <Typography className={classes.selectText}>Difficulty</Typography>\r\n\r\n            <ToggleButtonGroup\r\n              orientation=\"vertical\"\r\n              exclusive\r\n              value={difficulties}\r\n              onToggle={onToggleDifficulty}\r\n            >\r\n              <ToggleButton\r\n                className={classes.toggleButton}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"large\"\r\n                value=\"easy\"\r\n              >\r\n                Easy\r\n              </ToggleButton>\r\n\r\n              <ToggleButton\r\n                className={classes.toggleButton}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"large\"\r\n                value=\"medium\"\r\n              >\r\n                Medium\r\n              </ToggleButton>\r\n\r\n              <ToggleButton\r\n                className={classes.toggleButton}\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                size=\"large\"\r\n                value=\"hard\"\r\n              >\r\n                Hard\r\n              </ToggleButton>\r\n            </ToggleButtonGroup>\r\n          </div>\r\n        </div>\r\n\r\n        <Button\r\n          className={classes.startButton}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"large\"\r\n          disabled={gameModes.length === 0 || difficulties.length === 0}\r\n          onClick={onStartClick}\r\n        >\r\n          Start\r\n        </Button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default GameMenu;\r\n","import constants from \"../res/constants\";\r\n\r\n/**\r\n * Draws a cross\r\n *\r\n * @param ctx         Context to draw the cross on\r\n * @param x           Width coordinate\r\n * @param y           Height coordinate\r\n * @param size        Cross size from center to edge\r\n * @param lineWidth   Width of the cross lines\r\n * @param strokeStyle Style for drawing the cross\r\n */\r\nconst drawCross = (\r\n  ctx: CanvasRenderingContext2D,\r\n  x: number,\r\n  y: number,\r\n  size: number,\r\n  lineWidth: number,\r\n  strokeStyle: string\r\n): void => {\r\n  ctx.lineWidth = lineWidth;\r\n  ctx.strokeStyle = strokeStyle;\r\n  ctx.beginPath();\r\n  ctx.moveTo(x - size, y - size);\r\n  ctx.lineTo(x + size, y + size);\r\n  ctx.moveTo(x + size, y - size);\r\n  ctx.lineTo(x - size, y + size);\r\n  ctx.stroke();\r\n};\r\n\r\n/**\r\n * Draws a circle\r\n *\r\n * @param ctx         Context to draw the circle on\r\n * @param x           Width coordinate\r\n * @param y           Height coordinate\r\n * @param radius      Circle radius\r\n * @param lineWidth   Width of the circle line\r\n * @param strokeStyle Style for drawing the circle\r\n */\r\nconst drawCircle = (\r\n  ctx: CanvasRenderingContext2D,\r\n  x: number,\r\n  y: number,\r\n  radius: number,\r\n  lineWidth: number,\r\n  strokeStyle: string\r\n): void => {\r\n  ctx.lineWidth = lineWidth;\r\n  ctx.strokeStyle = strokeStyle;\r\n\r\n  ctx.beginPath();\r\n  ctx.arc(x, y, radius, 0, 2 * Math.PI);\r\n  ctx.stroke();\r\n};\r\n\r\n/**\r\n * Draws a rectangle\r\n *\r\n * @param ctx         Context to draw the rectangle on\r\n * @param rect        Coordinates for the corners of the rectangle to draw\r\n * @param lineWidth   Width of the rectangle lines\r\n * @param strokeStyle Style for drawing the rectangle\r\n */\r\nconst drawRectangle = (\r\n  ctx: CanvasRenderingContext2D,\r\n  rect: number[],\r\n  lineWidth: number,\r\n  strokeStyle: string\r\n): void => {\r\n  if (rect.length !== 4) {\r\n    throw new Error(\"Rectangle must be an array of length 4.\");\r\n  }\r\n\r\n  const xBase = rect[0];\r\n  const xEnd = rect[2];\r\n  const yBase = rect[1];\r\n  const yEnd = rect[3];\r\n\r\n  const width = xEnd - xBase;\r\n  const height = yEnd - yBase;\r\n\r\n  ctx.lineWidth = lineWidth;\r\n  ctx.strokeStyle = strokeStyle;\r\n\r\n  ctx.beginPath();\r\n  ctx.rect(xBase, yBase, width, height);\r\n  ctx.stroke();\r\n};\r\n\r\n/**\r\n * Draws a stroked text\r\n *\r\n * @param ctx         Context to draw the text on\r\n * @param text        Text to draw\r\n * @param x           Width coordinate\r\n * @param y           Height coordinate\r\n * @param align       Text alignment\r\n * @param size        Text font size (in px)\r\n * @param strokeWidth Text stroke width\r\n * @param strokeStyle Text stroke style\r\n * @param fillStyle   Text fill style\r\n */\r\nconst drawStrokedText = (\r\n  ctx: CanvasRenderingContext2D,\r\n  text: string,\r\n  x: number,\r\n  y: number,\r\n  align: CanvasTextAlign,\r\n  size: number,\r\n  strokeWidth: number,\r\n  strokeStyle: string,\r\n  fillStyle: string\r\n): void => {\r\n  ctx.font = `${size}px Roboto`;\r\n  ctx.lineJoin = \"miter\";\r\n  ctx.miterLimit = 2;\r\n\r\n  ctx.textAlign = align;\r\n  ctx.lineWidth = strokeWidth;\r\n  ctx.strokeStyle = strokeStyle;\r\n  ctx.fillStyle = fillStyle;\r\n\r\n  ctx.strokeText(text, x, y);\r\n  ctx.fillText(text, x, y);\r\n};\r\n\r\n/**\r\n * Maps a given value from the scale of the given canvas to the default scale\r\n * Equivalent to the inverse of toCanvasScale\r\n *\r\n * @param ctx Canvas context, used to determine canvas scale\r\n * @param x   Value to map\r\n *\r\n * @return Given value, mapped to the default scale, and rounded\r\n */\r\nconst toDefaultScale = (ctx: CanvasRenderingContext2D, x: number): number =>\r\n  Math.round((x * constants.defaultImageSize) / ctx.canvas.width);\r\n\r\n/**\r\n * Maps a given value from the default scale to the scale of the given canvas\r\n * Equivalent to the inverse of toDefaultScale\r\n *\r\n * @param ctx Canvas context, used to determine canvas scale\r\n * @param x   Value to map\r\n *\r\n * @return Given value, mapped to the canvas scale, and rounded\r\n */\r\nconst toCanvasScale = (ctx: CanvasRenderingContext2D, x: number): number =>\r\n  Math.round((x * ctx.canvas.width) / constants.defaultImageSize);\r\n\r\n/**\r\n * Maps the coordinates of a given rectangle to the scale of the given canvas\r\n *\r\n * @param ctx  Canvas context, used to determine canvas size for scaling\r\n * @param rect Coordinates for the corners of the rectangle to map\r\n *\r\n * @return Given rectangle coordinates, mapped to the canvas scale\r\n */\r\nconst mapRectangleToCanvasScale = (ctx: CanvasRenderingContext2D, rect: number[]): number[] =>\r\n  rect.map((x) => toCanvasScale(ctx, x));\r\n\r\n/**\r\n * Maps the click position relative to the canvas\r\n *\r\n * @param ctx Canvas context to map relative to\r\n * @param x   Width coordinate\r\n * @param y   Height coordinate\r\n *\r\n * @return Click coordinates relative to the canvas, and rounded\r\n */\r\nconst mapClickToCanvas = (\r\n  ctx: CanvasRenderingContext2D,\r\n  x: number,\r\n  y: number\r\n): { x: number; y: number } => {\r\n  const rect = ctx.canvas.getBoundingClientRect();\r\n  const widthScale = ctx.canvas.width / rect.width;\r\n  const heightScale = ctx.canvas.height / rect.height;\r\n\r\n  return {\r\n    x: Math.round((x - rect.left) * widthScale),\r\n    y: Math.round((y - rect.top) * heightScale),\r\n  };\r\n};\r\n\r\nexport {\r\n  drawCircle,\r\n  drawCross,\r\n  drawRectangle,\r\n  drawStrokedText,\r\n  mapClickToCanvas,\r\n  mapRectangleToCanvasScale,\r\n  toCanvasScale,\r\n  toDefaultScale,\r\n};\r\n","import { ReactNode } from \"react\";\r\nimport { OptionsObject } from \"notistack\";\r\nimport { drawStrokedText } from \"./canvasUtils\";\r\nimport { assertUnreachable } from \"./errorUtils\";\r\nimport constants from \"../res/constants\";\r\nimport variables from \"../res/variables\";\r\n\r\n/**\r\n * Draw the round end text\r\n *\r\n * @param ctx       Context to draw the text on\r\n * @param text      Text to draw\r\n * @param size      Text font size (in px)\r\n * @param lineWidth Width of the text line\r\n * @param color     Text color\r\n */\r\nconst drawRoundEndText = (\r\n  ctx: CanvasRenderingContext2D,\r\n  text: string,\r\n  size: number,\r\n  lineWidth: number,\r\n  color: string\r\n): void => {\r\n  const x = Math.round(ctx.canvas.width / 2);\r\n  const y = Math.round(ctx.canvas.height / 10);\r\n\r\n  drawStrokedText(ctx, text, x, y, \"center\", size, lineWidth, \"white\", color);\r\n};\r\n\r\n/**\r\n * Given the coordinates of two rectangles, returns the ratio of their intersection\r\n * over their union.\r\n *\r\n * Used in determining the success of a given AI prediction.\r\n *\r\n * @param rectA Coordinates for the corners of the first rectangle\r\n * @param rectB Coordinates for the corners of the second rectangle\r\n *\r\n * @return Ratio of intersection area over union area\r\n */\r\nconst getIntersectionOverUnion = (rectA: number[], rectB: number[]): number => {\r\n  if (rectA.length !== 4 || rectB.length !== 4) {\r\n    throw new Error(\"Both input rectangles must be arrays of length 4.\");\r\n  }\r\n\r\n  const xA = Math.max(rectA[0], rectB[0]);\r\n  const xB = Math.min(rectA[2], rectB[2]);\r\n  const yA = Math.max(rectA[1], rectB[1]);\r\n  const yB = Math.min(rectA[3], rectB[3]);\r\n\r\n  const inter = Math.max(0, xB - xA + 1) * Math.max(0, yB - yA + 1);\r\n\r\n  const areaA = (rectA[2] - rectA[0] + 1) * (rectA[3] - rectA[1] + 1);\r\n  const areaB = (rectB[2] - rectB[0] + 1) * (rectB[3] - rectB[1] + 1);\r\n\r\n  const union = areaA + areaB - inter;\r\n\r\n  return inter / union;\r\n};\r\n\r\n/**\r\n * Returns the path to the annotation file corresponding to the given annotationId\r\n *\r\n * @param annotationId Id of the annotation file to retrieve\r\n * @param difficulty   Game difficulty, specifying the sub folder name\r\n *\r\n * @return Path to annotation file\r\n */\r\n\r\nconst getAnnotationPath = (annotationId: number, difficulty: Difficulty): string =>\r\n  `annotation/${difficulty}/${annotationId}.json`;\r\n\r\n/**\r\n * Returns the path to the image file corresponding to the given imageId\r\n *\r\n * @param imageId    Id of the image file to retrieve\r\n * @param difficulty Game difficulty, specifying the sub folder name\r\n *\r\n * @return Path to image file\r\n */\r\nconst getImagePath = (imageId: number, difficulty: Difficulty): string =>\r\n  `images/${difficulty}/${imageId}.png`;\r\n\r\n/**\r\n * Return the number of files corresponding to the given difficulty\r\n *\r\n * @param difficulty Difficulty for which to retrieve the files number\r\n *\r\n * @return Number of files\r\n */\r\nconst getFilesNumber = (difficulty: Difficulty): number => {\r\n  switch (difficulty) {\r\n    case \"easy\":\r\n      return variables.easyFilesNumber;\r\n    case \"medium\":\r\n      return variables.mediumFilesNumber;\r\n    case \"hard\":\r\n      return variables.hardFilesNumber;\r\n    default:\r\n      return assertUnreachable(difficulty);\r\n  }\r\n};\r\n\r\n/**\r\n * Given a string, get its corresponding game mode value, or if that's not valid, use the default\r\n *\r\n * @param gameMode Game mode string\r\n * @param def      Default game mode value\r\n *\r\n * @return Valid game mode value\r\n */\r\nconst getGameModeOrDefault = (gameMode: string | null, def: GameMode = \"casual\"): GameMode => {\r\n  if (gameMode === \"casual\" || gameMode === \"competitive\") {\r\n    return gameMode;\r\n  }\r\n\r\n  return def;\r\n};\r\n\r\n/**\r\n * Given a string, get its corresponding difficulty value, or if that's not valid, use the default\r\n *\r\n * @param difficulty Difficulty string\r\n * @param def        Default difficulty value\r\n *\r\n * @return Valid difficulty value\r\n */\r\nconst getDifficultyOrDefault = (\r\n  difficulty: string | null,\r\n  def: Difficulty = \"easy\"\r\n): Difficulty => {\r\n  if (difficulty === \"easy\" || difficulty === \"medium\" || difficulty === \"hard\") {\r\n    return difficulty;\r\n  }\r\n\r\n  return def;\r\n};\r\n\r\n/**\r\n * Given a string, get the file ids array it encodes, or if that's not valid, use the default\r\n *\r\n * @param fileIds File ids array encoding\r\n * @param def     Default file ids array value\r\n *\r\n * @return Valid file ids array, or undefined\r\n */\r\nconst getFileIdsOrDefault = (fileIds: string | null, def?: number[]): number[] | undefined => {\r\n  /* Check for array-style string */\r\n  if (\r\n    fileIds === null ||\r\n    fileIds.length < 2 ||\r\n    fileIds[0] !== \"[\" ||\r\n    fileIds[fileIds.length - 1] !== \"]\"\r\n  ) {\r\n    return def;\r\n  }\r\n\r\n  try {\r\n    return JSON.parse(fileIds);\r\n  } catch (_error) {\r\n    return def;\r\n  }\r\n};\r\n\r\n/**\r\n * Unlock an achievement and display a snackbar to the user (if not already unlocked)\r\n *\r\n * @param key             Achievement key\r\n * @param message         Snackbar message\r\n * @param enqueueSnackbar Function to display a snackbar\r\n */\r\nconst unlockAchievement = (\r\n  key: string,\r\n  message: ReactNode,\r\n  enqueueSnackbar: (message: ReactNode, options?: OptionsObject) => void\r\n): void => {\r\n  if (localStorage.getItem(key) === null) {\r\n    enqueueSnackbar(message, constants.achievementSnackbarOptions);\r\n\r\n    localStorage.setItem(key, \"true\");\r\n  }\r\n};\r\n\r\nexport {\r\n  drawRoundEndText,\r\n  getAnnotationPath,\r\n  getDifficultyOrDefault,\r\n  getFileIdsOrDefault,\r\n  getFilesNumber,\r\n  getGameModeOrDefault,\r\n  getImagePath,\r\n  getIntersectionOverUnion,\r\n  unlockAchievement,\r\n};\r\n","import React from \"react\";\r\nimport { Button, Card, Typography } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { ColoredLinearProgress, HideFragment } from \"../../components\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      margin: 8,\r\n      padding: 8,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      [theme.breakpoints.down(\"sm\")]: {\r\n        width: \"80vw\",\r\n        maxWidth: \"60vh\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        width: \"70vh\",\r\n        maxWidth: \"70vw\",\r\n      },\r\n    },\r\n    timer: {\r\n      marginBottom: 8,\r\n      fontSize: \"1.5rem\",\r\n    },\r\n  })\r\n);\r\n\r\nconst GameTopBar: React.FC<GameTopBarProps> = ({\r\n  gameMode,\r\n  hintDisabled,\r\n  onHintClick,\r\n  roundTime,\r\n  timerColor,\r\n}: GameTopBarProps) => {\r\n  const classes = useStyles();\r\n\r\n  const time = (roundTime / 1000).toFixed(1);\r\n\r\n  return (\r\n    <Card className={classes.container}>\r\n      <HideFragment hide={gameMode !== \"casual\"}>\r\n        <Button variant=\"contained\" color=\"secondary\" disabled={hintDisabled} onClick={onHintClick}>\r\n          Show hint\r\n        </Button>\r\n      </HideFragment>\r\n\r\n      <HideFragment hide={gameMode !== \"competitive\"}>\r\n        <Typography className={classes.timer} style={{ color: timerColor }}>\r\n          Time remaining: {time}s\r\n        </Typography>\r\n\r\n        <ColoredLinearProgress\r\n          barColor={timerColor}\r\n          variant=\"determinate\"\r\n          value={roundTime / 100}\r\n        />\r\n      </HideFragment>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default GameTopBar;\r\n","import React, { useMemo, useState } from \"react\";\r\nimport { Button, Card, Typography } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { ScoreWithIncrement, LoadingButton, HideFragment } from \"../../components\";\r\nimport colors from \"../../res/colors\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        flex: 1,\r\n        height: \"100%\",\r\n        display: \"flex\",\r\n        justifyContent: \"flex-end\",\r\n        alignItems: \"center\",\r\n      },\r\n    },\r\n    card: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      alignContent: \"center\",\r\n      margin: 8,\r\n      padding: 8,\r\n      [theme.breakpoints.down(\"sm\")]: {\r\n        width: \"80vw\",\r\n        maxWidth: \"60vh\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        minWidth: \"20vw\",\r\n      },\r\n    },\r\n    scoresContainer: {\r\n      width: \"100%\",\r\n      display: \"flex\",\r\n      [theme.breakpoints.down(\"sm\")]: {\r\n        flexDirection: \"row\",\r\n        justifyContent: \"space-evenly\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n      },\r\n    },\r\n    cardText: {\r\n      [theme.breakpoints.down(\"sm\")]: {\r\n        fontSize: \"1.5rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        fontSize: \"2rem\",\r\n      },\r\n    },\r\n    submitShareContainer: {\r\n      width: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"center\",\r\n    },\r\n    button: {\r\n      margin: \"5px\",\r\n    },\r\n  })\r\n);\r\n\r\nconst GameSideBar: React.FC<GameSideBarProps> = ({\r\n  gameMode,\r\n  gameStarted,\r\n  gameEnded,\r\n  roundEnded,\r\n  roundLoading,\r\n  showIncrement,\r\n  onStartRound,\r\n  onSubmitClick,\r\n  onShareClick,\r\n  onChallenge,\r\n  playerScore,\r\n  aiScore,\r\n}: GameSideBarProps) => {\r\n  const [challengeLoading, setChallengeLoading] = useState(false);\r\n\r\n  const classes = useStyles();\r\n\r\n  const [gameEndText, gameEndColor] = useMemo(() => {\r\n    const playerScoreFull = playerScore.total + playerScore.round;\r\n    const aiScoreFull = aiScore.total + aiScore.round;\r\n\r\n    if (playerScoreFull > aiScoreFull) {\r\n      return [\"You won!\", colors.playerWon];\r\n    }\r\n\r\n    if (playerScoreFull < aiScoreFull) {\r\n      return [\"AI won!\", colors.playerLost];\r\n    }\r\n\r\n    return [\"It was a draw!\", colors.draw];\r\n  }, [playerScore, aiScore]);\r\n\r\n  const onChallengeClick = async () => {\r\n    try {\r\n      setChallengeLoading(true);\r\n\r\n      await onChallenge();\r\n    } finally {\r\n      setChallengeLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <Card className={classes.card}>\r\n        <div className={classes.scoresContainer}>\r\n          <ScoreWithIncrement\r\n            player=\"You\"\r\n            score={playerScore.total}\r\n            increment={playerScore.round}\r\n            showIncrement={showIncrement}\r\n          />\r\n\r\n          <Typography className={classes.cardText}>vs</Typography>\r\n\r\n          <ScoreWithIncrement\r\n            player=\"AI\"\r\n            score={aiScore.total}\r\n            increment={aiScore.round}\r\n            showIncrement={showIncrement}\r\n          />\r\n        </div>\r\n\r\n        <HideFragment hide={!gameEnded}>\r\n          <Typography className={classes.cardText} style={{ color: gameEndColor }}>\r\n            {gameEndText}\r\n          </Typography>\r\n        </HideFragment>\r\n\r\n        <HideFragment hide={gameEnded}>\r\n          <LoadingButton\r\n            className={classes.button}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"large\"\r\n            loading={roundLoading}\r\n            disabled={gameStarted && !roundEnded}\r\n            onClick={onStartRound}\r\n          >\r\n            {gameStarted ? \"Next\" : \"Start\"}\r\n          </LoadingButton>\r\n        </HideFragment>\r\n\r\n        <HideFragment\r\n          hide={(gameMode === \"competitive\" && !gameEnded) || !roundEnded || roundLoading}\r\n        >\r\n          <div className={classes.submitShareContainer}>\r\n            <Button\r\n              className={classes.button}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={onSubmitClick}\r\n            >\r\n              Submit\r\n            </Button>\r\n\r\n            <Button\r\n              className={classes.button}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={onShareClick}\r\n            >\r\n              Share\r\n            </Button>\r\n          </div>\r\n        </HideFragment>\r\n\r\n        <HideFragment hide={!gameEnded}>\r\n          <LoadingButton\r\n            className={classes.button}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"large\"\r\n            loading={challengeLoading}\r\n            onClick={onChallengeClick}\r\n          >\r\n            Challenge friend\r\n          </LoadingButton>\r\n        </HideFragment>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameSideBar;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { LoadingButton } from \"../../components\";\r\n\r\nconst SubmitScoreDialog: React.FC<SubmitScoreDialogProps> = ({\r\n  open,\r\n  onClose,\r\n  onSubmit,\r\n}: SubmitScoreDialogProps) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const onCloseDialog = () => {\r\n    setUsername(\"\");\r\n    setError(false);\r\n\r\n    onClose();\r\n  };\r\n\r\n  const onUsernameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    setError(false);\r\n    setUsername(event.target.value);\r\n  };\r\n\r\n  const onSubmitClick = async () => {\r\n    if (username === \"\") {\r\n      setError(true);\r\n    } else {\r\n      setLoading(true);\r\n\r\n      await onSubmit(username);\r\n\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onCloseDialog}>\r\n      <DialogTitle>Submit</DialogTitle>\r\n\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          To submit your score, please enter your username here.\r\n        </DialogContentText>\r\n\r\n        <TextField\r\n          autoFocus\r\n          margin=\"dense\"\r\n          label=\"Username\"\r\n          required\r\n          type=\"text\"\r\n          fullWidth\r\n          error={error}\r\n          helperText={error ? \"Username cannot be empty\" : \"\"}\r\n          value={username}\r\n          onChange={onUsernameChange}\r\n        />\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button color=\"primary\" onClick={onCloseDialog}>\r\n          Cancel\r\n        </Button>\r\n\r\n        <LoadingButton color=\"primary\" loading={loading} onClick={onSubmitClick}>\r\n          Submit\r\n        </LoadingButton>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default SubmitScoreDialog;\r\n","import React from \"react\";\r\nimport { Dialog, DialogTitle, IconButton, Typography } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport {\r\n  FacebookIcon,\r\n  FacebookShareButton,\r\n  TwitterIcon,\r\n  TwitterShareButton,\r\n  LinkedinIcon,\r\n  LinkedinShareButton,\r\n  EmailIcon,\r\n  EmailShareButton,\r\n} from \"react-share\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    closeButton: {\r\n      position: \"absolute\",\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500],\r\n    },\r\n    container: {\r\n      width: \"100%\",\r\n      textAlign: \"center\",\r\n    },\r\n    shareButton: {\r\n      margin: \"10px\",\r\n    },\r\n  })\r\n);\r\n\r\nconst ShareScoreDialog: React.FC<ShareScoreDialogProps> = ({\r\n  open,\r\n  onClose,\r\n  score,\r\n}: ShareScoreDialogProps) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} fullWidth maxWidth=\"xs\">\r\n      <DialogTitle>\r\n        <Typography variant=\"h6\">Share your score!</Typography>\r\n\r\n        <IconButton className={classes.closeButton} onClick={onClose}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </DialogTitle>\r\n\r\n      <div className={classes.container}>\r\n        <TwitterShareButton\r\n          className={classes.shareButton}\r\n          url=\"http://cb3618.pages.doc.ic.ac.uk/spot-the-lesion\"\r\n          title={`I got ${score} points in Spot-the-Lesion! Can you beat my score?`}\r\n        >\r\n          <TwitterIcon size=\"50px\" round />\r\n        </TwitterShareButton>\r\n\r\n        <FacebookShareButton\r\n          className={classes.shareButton}\r\n          url=\"http://cb3618.pages.doc.ic.ac.uk/spot-the-lesion\"\r\n          quote={`I got ${score} points in Spot-the-Lesion! Can you beat my score?`}\r\n        >\r\n          <FacebookIcon size=\"50px\" round />\r\n        </FacebookShareButton>\r\n\r\n        <LinkedinShareButton\r\n          className={classes.shareButton}\r\n          url=\"http://cb3618.pages.doc.ic.ac.uk/spot-the-lesion\"\r\n          title={`I got ${score} points in Spot-the-Lesion! Can you beat my score?`}\r\n        >\r\n          <LinkedinIcon size=\"50px\" round />\r\n        </LinkedinShareButton>\r\n\r\n        <EmailShareButton\r\n          className={classes.shareButton}\r\n          url=\"http://cb3618.pages.doc.ic.ac.uk/spot-the-lesion\"\r\n          subject={`I got ${score} points in Spot-the-Lesion! Can you beat my score?`}\r\n        >\r\n          <EmailIcon size=\"50px\" round />\r\n        </EmailShareButton>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ShareScoreDialog;\r\n","import React, { useRef, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  IconButton,\r\n  InputAdornment,\r\n  TextField,\r\n  Tooltip,\r\n} from \"@material-ui/core\";\r\nimport { AssignmentTurnedInOutlined } from \"@material-ui/icons\";\r\n\r\nconst ChallengeDialog: React.FC<ChallengeDialogProps> = ({\r\n  open,\r\n  onClose,\r\n  link,\r\n}: ChallengeDialogProps) => {\r\n  const [tooltipOpen, setTooltipOpen] = useState(false);\r\n  const [tooltipTitle, setTooltipTitle] = useState(\"Copy to clipboard\");\r\n\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const selectInputText = () => {\r\n    if (inputRef.current === null) {\r\n      return;\r\n    }\r\n\r\n    inputRef.current.select();\r\n\r\n    /* For mobile devices */\r\n    inputRef.current.setSelectionRange(0, link.length);\r\n  };\r\n\r\n  const onCopyToClipboardClick = () => {\r\n    selectInputText();\r\n\r\n    document.execCommand(\"copy\");\r\n\r\n    setTooltipTitle(\"Copied!\");\r\n  };\r\n\r\n  const onMouseEnterAdornment = () => {\r\n    setTooltipTitle(\"Copy to clipboard\");\r\n    setTooltipOpen(true);\r\n  };\r\n\r\n  const onMouseLeaveAdornment = () => setTooltipOpen(false);\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose}>\r\n      <DialogTitle>Challenge</DialogTitle>\r\n\r\n      <DialogContent>\r\n        <DialogContentText>Share this link to a friend to challenge them</DialogContentText>\r\n\r\n        <TextField\r\n          inputRef={inputRef}\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          margin=\"dense\"\r\n          autoFocus\r\n          type=\"url\"\r\n          label=\"Challenge link\"\r\n          value={link}\r\n          onClick={selectInputText}\r\n          InputProps={{\r\n            readOnly: true,\r\n            endAdornment: (\r\n              <InputAdornment\r\n                position=\"end\"\r\n                onMouseEnter={onMouseEnterAdornment}\r\n                onMouseLeave={onMouseLeaveAdornment}\r\n              >\r\n                <Tooltip open={tooltipOpen} title={tooltipTitle}>\r\n                  <IconButton size=\"small\" edge=\"end\" onClick={onCopyToClipboardClick}>\r\n                    <AssignmentTurnedInOutlined />\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n        />\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button color=\"primary\" onClick={onClose}>\r\n          Close\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ChallengeDialog;\r\n","import React, { useMemo } from \"react\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Theme,\r\n  Typography,\r\n  useMediaQuery,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { ResponsivePie } from \"@nivo/pie\";\r\nimport { partition } from \"../../utils/arrayUtils\";\r\nimport colors from \"../../res/colors\";\r\n\r\nconst useStyles = makeStyles(\r\n  createStyles({\r\n    pieContainer: {\r\n      width: \"100%\",\r\n      height: \"60vh\",\r\n    },\r\n    zeroValueText: {\r\n      margin: 8,\r\n      fontWeight: \"bold\",\r\n    },\r\n  })\r\n);\r\n\r\nconst ImageStatsDialog: React.FC<ImageStatsDialogProps> = ({\r\n  open,\r\n  onClose,\r\n  imageData,\r\n}: ImageStatsDialogProps) => {\r\n  const smallScreen = useMediaQuery((theme: Theme) => theme.breakpoints.down(\"xs\"));\r\n\r\n  const classes = useStyles();\r\n\r\n  const [nonZeroData, zeroData] = useMemo(() => {\r\n    const data = [\r\n      {\r\n        id: \"Correct Answers\",\r\n        label: \"Correct Answers\",\r\n        value: imageData.correctClicks,\r\n        color: colors.pieImageCorrectAnswers,\r\n      },\r\n      {\r\n        id: \"Wrong Answers\",\r\n        label: \"Wrong Answers\",\r\n        value: imageData.wrongClicks,\r\n        color: colors.pieImageWrongAnswers,\r\n      },\r\n      {\r\n        id: \"Hints\",\r\n        label: \"Total Hints\",\r\n        value: imageData.hintCount,\r\n        color: colors.pieImageHints,\r\n      },\r\n    ];\r\n\r\n    return partition(data, (x) => x.value !== 0);\r\n  }, [imageData]);\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} fullWidth maxWidth=\"sm\">\r\n      <DialogTitle>Image Statistics</DialogTitle>\r\n\r\n      <DialogContent>\r\n        <div className={classes.pieContainer} hidden={nonZeroData.length === 0}>\r\n          <ResponsivePie\r\n            data={nonZeroData}\r\n            startAngle={-180}\r\n            cornerRadius={3}\r\n            margin={{ top: 40, right: 80, bottom: 80, left: 80 }}\r\n            colors={{ datum: \"data.color\" }}\r\n            borderWidth={1}\r\n            borderColor={{ from: \"color\", modifiers: [[\"darker\", 1]] }}\r\n            enableRadialLabels={false}\r\n            sliceLabel=\"value\"\r\n            legends={[\r\n              {\r\n                anchor: \"bottom\",\r\n                direction: smallScreen ? \"column\" : \"row\",\r\n                justify: false,\r\n                translateY: 70,\r\n                itemWidth: 75,\r\n                itemHeight: 18,\r\n                itemsSpacing: smallScreen ? 5 : 75,\r\n                itemTextColor: colors.legendText,\r\n                symbolSize: 18,\r\n                symbolShape: \"circle\",\r\n                effects: [\r\n                  {\r\n                    on: \"hover\",\r\n                    style: {\r\n                      itemTextColor: colors.legendTextHover,\r\n                    },\r\n                  },\r\n                ],\r\n              },\r\n            ]}\r\n          />\r\n        </div>\r\n\r\n        {zeroData.map(({ id, value }) => {\r\n          if (value !== 0) {\r\n            return null;\r\n          }\r\n\r\n          return (\r\n            <Typography key={id} className={classes.zeroValueText}>\r\n              {`There are no ${id} registered for this image!`}\r\n            </Typography>\r\n          );\r\n        })}\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button color=\"primary\" onClick={onClose}>\r\n          Close\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ImageStatsDialog;\r\n","import { useArrayGenerator, useUniqueRandomGenerator } from \"../../hooks\";\r\nimport { getFilesNumber } from \"../../utils/gameUtils\";\r\n\r\n/**\r\n * Custom hook for generating a new file id, either from the given difficulty,\r\n * or from the given array of challenge file ids\r\n *\r\n * @param difficulty       Game difficulty, setting the range for random file id generation\r\n * @param challengeFileIds Array of challenge file ids\r\n *\r\n * @return File id generator function\r\n */\r\nconst useFileIdGenerator = (\r\n  difficulty: Difficulty,\r\n  challengeFileIds: number[] | undefined\r\n): (() => number) => {\r\n  const getNewRandomFileId = useUniqueRandomGenerator(0, getFilesNumber(difficulty));\r\n  const getNewChallengeFileId = useArrayGenerator(challengeFileIds || []);\r\n\r\n  return () => {\r\n    if (challengeFileIds) {\r\n      return getNewChallengeFileId();\r\n    }\r\n\r\n    return getNewRandomFileId();\r\n  };\r\n};\r\n\r\nexport default useFileIdGenerator;\r\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { Button, Card } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport axios from \"axios\";\r\nimport clsx from \"clsx\";\r\nimport firebase from \"firebase/app\";\r\nimport { LoadingButton, NavigationAppBar } from \"../../components\";\r\nimport { useCanvasContext, useHeatmap, useInterval } from \"../../hooks\";\r\nimport { handleAxiosError } from \"../../utils/axiosUtils\";\r\nimport {\r\n  drawCircle,\r\n  drawCross,\r\n  drawRectangle,\r\n  mapClickToCanvas,\r\n  mapRectangleToCanvasScale,\r\n  toCanvasScale,\r\n  toDefaultScale,\r\n} from \"../../utils/canvasUtils\";\r\nimport { handleImageLoadError, handleUncaughtError } from \"../../utils/errorUtils\";\r\nimport {\r\n  getMonthName,\r\n  handleFirebaseStorageError,\r\n  handleFirestoreError,\r\n  isFirebaseStorageError,\r\n  isFirestoreError,\r\n} from \"../../utils/firebaseUtils\";\r\nimport {\r\n  drawRoundEndText,\r\n  getAnnotationPath,\r\n  getImagePath,\r\n  getIntersectionOverUnion,\r\n  unlockAchievement,\r\n} from \"../../utils/gameUtils\";\r\nimport { randomAround } from \"../../utils/numberUtils\";\r\nimport GameTopBar from \"./GameTopBar\";\r\nimport GameSideBar from \"./GameSideBar\";\r\nimport SubmitScoreDialog from \"./SubmitScoreDialog\";\r\nimport ShareScoreDialog from \"./ShareScoreDialog\";\r\nimport ChallengeDialog from \"./ChallengeDialog\";\r\nimport ImageStatsDialog from \"./ImageStatsDialog\";\r\nimport useFileIdGenerator from \"./useFileIdGenerator\";\r\nimport colors from \"../../res/colors\";\r\nimport constants from \"../../res/constants\";\r\nimport variables from \"../../res/variables\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"center\",\r\n      [theme.breakpoints.down(\"sm\")]: {\r\n        flexDirection: \"column\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        flexDirection: \"row\",\r\n      },\r\n    },\r\n    emptyDiv: {\r\n      flex: 1,\r\n      [theme.breakpoints.down(\"sm\")]: {\r\n        display: \"none\",\r\n      },\r\n    },\r\n    topBarCanvasContainer: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n    canvasContainer: {\r\n      position: \"relative\",\r\n      padding: 8,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      [theme.breakpoints.down(\"sm\")]: {\r\n        height: \"80vw\",\r\n        width: \"80vw\",\r\n        maxWidth: \"60vh\",\r\n        maxHeight: \"60vh\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        height: \"70vh\",\r\n        width: \"70vh\",\r\n        maxWidth: \"70vw\",\r\n        maxHeight: \"70vw\",\r\n      },\r\n    },\r\n    canvas: {\r\n      height: \"100%\",\r\n      width: \"100%\",\r\n      position: \"absolute\",\r\n      left: 0,\r\n      top: 0,\r\n    },\r\n    imageCanvas: {\r\n      zIndex: 0,\r\n    },\r\n    animationCanvas: {\r\n      zIndex: 1,\r\n    },\r\n    heatmapCanvas: {\r\n      zIndex: 2,\r\n    },\r\n  })\r\n);\r\n\r\nconst defaultImageData: FirestoreImageData = {\r\n  clicks: [],\r\n  correctClicks: 0,\r\n  hintCount: 0,\r\n  wrongClicks: 0,\r\n};\r\n\r\nconst Game: React.FC<GameProps> = ({ gameMode, difficulty, challengeFileIds }: GameProps) => {\r\n  const [heatmapLoading, setHeatmapLoading] = useState(false);\r\n  const [showHeatmap, setShowHeatmap] = useState(false);\r\n\r\n  const [submitDialogOpen, setSubmitDialogOpen] = useState(false);\r\n  const [shareDialogOpen, setShareDialogOpen] = useState(false);\r\n  const [imageStatsDialogOpen, setImageStatsDialogOpen] = useState(false);\r\n  const [challengeDialogOpen, setChallengeDialogOpen] = useState(false);\r\n\r\n  const [challengeLink, setChallengeLink] = useState(\"\");\r\n\r\n  const [roundNumber, setRoundNumber] = useState(0);\r\n  const [gameEnded, setGameEnded] = useState(false);\r\n  const [hinted, setHinted] = useState(false);\r\n\r\n  const [fileId, setFileId] = useState(-1);\r\n  const [fileIds, setFileIds] = useState<number[]>([]);\r\n\r\n  const [truth, setTruth] = useState<number[]>([]);\r\n  const [predicted, setPredicted] = useState<number[]>([]);\r\n  const [click, setClick] = useState<{ x: number; y: number } | null>(null);\r\n\r\n  const [imageData, setImageData] = useState<FirestoreImageData>({\r\n    ...defaultImageData,\r\n    clicks: [],\r\n  });\r\n\r\n  const [roundLoading, setRoundLoading] = useState(false);\r\n  const [roundEnded, setRoundEnded] = useState(false);\r\n  const [showIncrement, setShowIncrement] = useState(false);\r\n\r\n  const [roundRunning, setRoundRunning] = useState(false);\r\n  const [roundTime, setRoundTime] = useState(variables.roundDuration);\r\n\r\n  const [endRunning, setEndRunning] = useState(false);\r\n  const [endTime, setEndTime] = useState(0);\r\n\r\n  const [animationRunning, setAnimationRunning] = useState(false);\r\n  const [animationPosition, setAnimationPosition] = useState(0);\r\n\r\n  const [timerColor, setTimerColor] = useState(colors.timerInitial);\r\n\r\n  const [hintedCurrent, setHintedCurrent] = useState(false);\r\n\r\n  const [playerScore, setPlayerScore] = useState({ total: 0, round: 0 });\r\n  const [playerCorrectAnswers, setPlayerCorrectAnswers] = useState(0);\r\n  const [playerCorrectCurrent, setPlayerCorrectCurrent] = useState(false);\r\n\r\n  const [aiScore, setAiScore] = useState({ total: 0, round: 0 });\r\n  const [aiCorrectAnswers, setAiCorrectAnswers] = useState(0);\r\n\r\n  const [context, canvasRef] = useCanvasContext();\r\n  const [animationContext, animationCanvasRef] = useCanvasContext();\r\n\r\n  const canvasContainer = useRef<HTMLDivElement>(null);\r\n\r\n  const getNewFileId = useFileIdGenerator(difficulty, challengeFileIds);\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const history = useHistory();\r\n\r\n  const classes = useStyles();\r\n\r\n  /**\r\n   * Round timer\r\n   *\r\n   * Decrement roundTime by 100, every 100ms\r\n   *\r\n   * Running only in competitive mode, while roundRunning is true\r\n   */\r\n  useInterval(\r\n    () => setRoundTime((prevState) => prevState - 100),\r\n    roundRunning && gameMode === \"competitive\" ? 100 : null\r\n  );\r\n\r\n  /**\r\n   * Draw the hint circle\r\n   */\r\n  const drawHint = useCallback(() => {\r\n    setHintedCurrent(true);\r\n    setHinted(true);\r\n\r\n    const radius = toCanvasScale(context, variables.hintRadius);\r\n    const hintRange = toCanvasScale(context, constants.hintRange);\r\n\r\n    const x = randomAround(Math.round(truth[0] + (truth[2] - truth[0]) / 2), hintRange);\r\n    const y = randomAround(Math.round(truth[1] + (truth[3] - truth[1]) / 2), hintRange);\r\n\r\n    drawCircle(context, x, y, radius, variables.hintLineWidth, colors.hint);\r\n  }, [context, truth]);\r\n\r\n  /**\r\n   * Round timer based events\r\n   */\r\n  useEffect(() => {\r\n    if (!roundRunning) {\r\n      return;\r\n    }\r\n\r\n    if (roundTime === variables.hintTime) {\r\n      /*\r\n       * set timer color to timer orange\r\n       * show hint\r\n       */\r\n      setTimerColor(colors.timerOrange);\r\n\r\n      drawHint();\r\n    } else if (roundTime === constants.redTime) {\r\n      /*\r\n       * set timer color to timer red\r\n       */\r\n      setTimerColor(colors.timerRed);\r\n    } else if (roundTime === 0) {\r\n      /*\r\n       * start end timer and stop roundNumber timer\r\n       */\r\n      setEndRunning(true);\r\n      setRoundRunning(false);\r\n    }\r\n  }, [roundRunning, roundTime, drawHint]);\r\n\r\n  /**\r\n   * End timer\r\n   *\r\n   * Increment endTime by 100, every 100ms\r\n   *\r\n   * Running only while endRunning is true\r\n   */\r\n  useInterval(() => setEndTime((prevState) => prevState + 100), endRunning ? 100 : null);\r\n\r\n  /**\r\n   * Upload the player click in order to gather statistics and generate heatmaps\r\n   *\r\n   * @param x       Width coordinate\r\n   * @param y       Height coordinate\r\n   * @param correct Whether click was correct\r\n   */\r\n  const uploadClick = useCallback(\r\n    async (x: number, y: number, correct: boolean) => {\r\n      const newClick = {\r\n        x: toDefaultScale(context, x),\r\n        y: toDefaultScale(context, y),\r\n        clickCount: 1,\r\n      };\r\n\r\n      const { clicks, correctClicks, hintCount, wrongClicks } = imageData;\r\n\r\n      /* Locate (if present) existing click with same coordinates */\r\n      const existingClick = clicks.find((clk) => clk.x === newClick.x && clk.y === newClick.y);\r\n\r\n      /* If not found, append to array, otherwise increment clickCount */\r\n      if (existingClick === undefined) {\r\n        clicks.push(newClick);\r\n      } else {\r\n        existingClick.clickCount += 1;\r\n      }\r\n\r\n      const docName = fileId.toString();\r\n\r\n      const newImageData = {\r\n        clicks,\r\n        correctClicks: correctClicks + (correct ? 1 : 0),\r\n        wrongClicks: wrongClicks + (correct ? 0 : 1),\r\n        hintCount: hintCount + (hintedCurrent ? 1 : 0),\r\n      };\r\n\r\n      try {\r\n        await firebase\r\n          .firestore()\r\n          .collection(constants.images(difficulty))\r\n          .doc(docName)\r\n          .set(newImageData);\r\n      } catch (error) {\r\n        if (isFirestoreError(error)) {\r\n          handleFirestoreError(error);\r\n        } else {\r\n          handleUncaughtError(error, \"uploadClick\");\r\n        }\r\n      }\r\n    },\r\n    [context, difficulty, fileId, hintedCurrent, imageData]\r\n  );\r\n\r\n  /**\r\n   * End timer based events\r\n   */\r\n  useEffect(() => {\r\n    if (!endRunning) {\r\n      return;\r\n    }\r\n\r\n    if (endTime === 0) {\r\n      /*\r\n       * 0 seconds passed\r\n       *\r\n       * draw player click (if available)\r\n       * start animation timer and pause end timer\r\n       */\r\n      if (click) {\r\n        const { x, y } = click;\r\n\r\n        const clickSize = toCanvasScale(context, constants.clickSize);\r\n        const clickLineWidth = toCanvasScale(context, constants.clickLineWidth);\r\n\r\n        drawCross(context, x, y, clickSize, clickLineWidth, colors.click);\r\n      }\r\n\r\n      enqueueSnackbar(\"The system is thinking...\", constants.informationSnackbarOptions);\r\n\r\n      setAnimationRunning(true);\r\n      setEndRunning(false);\r\n    } else if (endTime === constants.drawPredictedTime) {\r\n      /*\r\n       * draw predicted rectangle\r\n       */\r\n      const predictedLineWidth = toCanvasScale(context, constants.predictedLineWidth);\r\n\r\n      drawRectangle(context, predicted, predictedLineWidth, colors.predicted);\r\n    } else if (endTime === constants.drawTruthTime) {\r\n      /*\r\n       * draw truth rectangle\r\n       */\r\n      const truthLineWidth = toCanvasScale(context, constants.truthLineWidth);\r\n\r\n      drawRectangle(context, truth, truthLineWidth, colors.truth);\r\n    } else if (endTime === constants.evaluationTime) {\r\n      /*\r\n       * evaluate player\r\n       * upload player click\r\n       * draw round end text\r\n       * evaluate AI\r\n       * retrieve image statistics\r\n       * stop end timer\r\n       * end round\r\n       */\r\n      enqueueSnackbar(\"Checking results...\", constants.informationSnackbarOptions);\r\n\r\n      if (click) {\r\n        const { x, y } = click;\r\n\r\n        /* Player was successful if the click coordinates are inside the truth rectangle */\r\n        const playerCorrect = truth[0] <= x && x <= truth[2] && truth[1] <= y && y <= truth[3];\r\n\r\n        uploadClick(x, y, playerCorrect).then(() => {});\r\n\r\n        if (playerCorrect) {\r\n          /* Casual Mode: half a point, doubled if no hint received */\r\n          const casualScore = 0.5 * (hintedCurrent ? 1 : 2);\r\n\r\n          /* Competitive Mode: function of round time left, doubled if no hint received */\r\n          const competitiveScore = Math.round(roundTime / 100) * (hintedCurrent ? 1 : 2);\r\n\r\n          const roundScore = gameMode === \"casual\" ? casualScore : competitiveScore;\r\n\r\n          setPlayerScore(({ total }) => ({ total, round: roundScore }));\r\n          setPlayerCorrectAnswers((prevState) => prevState + 1);\r\n          setPlayerCorrectCurrent(true);\r\n        }\r\n\r\n        const text = playerCorrect ? \"Well spotted!\" : \"Missed!\";\r\n        const textColor = playerCorrect ? colors.playerCorrect : colors.playerIncorrect;\r\n\r\n        const textSize = toCanvasScale(context, constants.roundEndTextSize);\r\n        const textLineWidth = toCanvasScale(context, constants.roundEndTextLineWidth);\r\n\r\n        drawRoundEndText(context, text, textSize, textLineWidth, textColor);\r\n      } else {\r\n        const textSize = toCanvasScale(context, constants.roundEndTextSize);\r\n        const textLineWidth = toCanvasScale(context, constants.roundEndTextLineWidth);\r\n\r\n        drawRoundEndText(context, \"Too slow!\", textSize, textLineWidth, colors.playerIncorrect);\r\n      }\r\n\r\n      const intersectionOverUnion = getIntersectionOverUnion(truth, predicted);\r\n\r\n      /* AI was successful if the ratio of the intersection over the union is greater than 0.5 */\r\n      const aiCorrect = intersectionOverUnion > 0.5;\r\n\r\n      if (aiCorrect) {\r\n        /* Casual mode: one point */\r\n        const casualScore = 1;\r\n\r\n        /* Competitive mode: function of prediction accuracy and constant increase rate */\r\n        const competitiveRoundScore = Math.round(\r\n          intersectionOverUnion * variables.aiScoreMultiplier\r\n        );\r\n\r\n        const roundScore = gameMode === \"casual\" ? casualScore : competitiveRoundScore;\r\n\r\n        setAiScore(({ total }) => ({ total, round: roundScore }));\r\n        setAiCorrectAnswers((prevState) => prevState + 1);\r\n      }\r\n\r\n      setRoundEnded(true);\r\n      setEndRunning(false);\r\n    }\r\n  }, [\r\n    click,\r\n    context,\r\n    endRunning,\r\n    endTime,\r\n    enqueueSnackbar,\r\n    fileId,\r\n    gameMode,\r\n    hintedCurrent,\r\n    predicted,\r\n    roundTime,\r\n    truth,\r\n    uploadClick,\r\n  ]);\r\n\r\n  /**\r\n   * Animation timer\r\n   *\r\n   * Increment animationPosition by 1 (tempo based on set animation time and number of search cubes)\r\n   *\r\n   * Running only while animationRunning is true\r\n   */\r\n  useInterval(\r\n    () => setAnimationPosition((prevState) => prevState + 1),\r\n    animationRunning\r\n      ? Math.round(variables.animationDuration / constants.animationCubesNumber ** 2)\r\n      : null\r\n  );\r\n\r\n  /**\r\n   * Animation timer based events\r\n   */\r\n  useEffect(() => {\r\n    if (!animationRunning) {\r\n      return;\r\n    }\r\n\r\n    /* Clear previous cube */\r\n    animationContext.clearRect(0, 0, animationContext.canvas.width, animationContext.canvas.height);\r\n\r\n    /* Stop when all cube positions were reached, and resume end timer with one tick passed */\r\n    if (animationPosition === constants.animationCubesNumber ** 2) {\r\n      setAnimationRunning(false);\r\n      setEndTime((prevState) => prevState + 100);\r\n      setEndRunning(true);\r\n      return;\r\n    }\r\n\r\n    const cubeSide = animationContext.canvas.width / constants.animationCubesNumber;\r\n    const baseX = (animationPosition % constants.animationCubesNumber) * cubeSide;\r\n    const baseY = Math.floor(animationPosition / constants.animationCubesNumber) * cubeSide;\r\n    const cube = [\r\n      Math.round(baseX),\r\n      Math.round(baseY),\r\n      Math.round(baseX + cubeSide),\r\n      Math.round(baseY + cubeSide),\r\n    ];\r\n\r\n    const animationLineWidth = toCanvasScale(animationContext, constants.animationLineWidth);\r\n\r\n    drawRectangle(animationContext, cube, animationLineWidth, colors.animation);\r\n  }, [animationContext, animationPosition, animationRunning]);\r\n\r\n  /**\r\n   * Round end based events\r\n   */\r\n  useEffect(() => {\r\n    if (!roundEnded || roundLoading) {\r\n      return;\r\n    }\r\n\r\n    setShowIncrement(true);\r\n\r\n    if (gameMode === \"competitive\" && roundNumber === variables.roundsNumber) {\r\n      setGameEnded(true);\r\n    }\r\n\r\n    const unlockAchievementHandler = (key, msg) => unlockAchievement(key, msg, enqueueSnackbar);\r\n\r\n    /* Check general achievements */\r\n    if (playerCorrectCurrent) {\r\n      unlockAchievementHandler(\"firstCorrect\", \"Achievement! First Step!\");\r\n\r\n      if (!hintedCurrent) {\r\n        unlockAchievementHandler(\"firstCorrectWithoutHint\", \"Achievement! Independent Spotter!\");\r\n      }\r\n    }\r\n\r\n    /* Check casual achievements */\r\n    if (gameMode === \"casual\") {\r\n      if (playerCorrectAnswers === 5) {\r\n        unlockAchievementHandler(\r\n          \"fiveCorrectSameRunCasual\",\r\n          \"Achievement! Practice makes perfect!\"\r\n        );\r\n      }\r\n\r\n      if (playerCorrectAnswers === 20) {\r\n        unlockAchievementHandler(\"twentyCorrectSameRunCasual\", \"Achievement! Going the distance!\");\r\n      }\r\n\r\n      if (playerCorrectAnswers === 50) {\r\n        unlockAchievementHandler(\"fiftyCorrectSameRunCasual\", \"Achievement! Still going?!\");\r\n      }\r\n    }\r\n\r\n    /* Check competitive achievements */\r\n    if (gameMode === \"competitive\") {\r\n      if (playerCorrectCurrent && roundTime > variables.roundDuration - 2000) {\r\n        unlockAchievementHandler(\"fastAnswer\", \"Achievement! The flash!\");\r\n      }\r\n\r\n      if (playerCorrectCurrent && roundTime < 500) {\r\n        unlockAchievementHandler(\"slowAnswer\", \"Achievement! Nerves of steel!\");\r\n      }\r\n\r\n      if (playerScore.total + playerScore.round >= 1000) {\r\n        unlockAchievementHandler(\"competitivePoints\", \"Achievement! IT'S OVER 1000!!!\");\r\n      }\r\n    }\r\n  }, [\r\n    enqueueSnackbar,\r\n    gameMode,\r\n    hintedCurrent,\r\n    playerCorrectAnswers,\r\n    playerCorrectCurrent,\r\n    playerScore,\r\n    roundEnded,\r\n    roundLoading,\r\n    roundNumber,\r\n    roundTime,\r\n  ]);\r\n\r\n  /**\r\n   * Game end based events\r\n   */\r\n  useEffect(() => {\r\n    if (!gameEnded) {\r\n      return;\r\n    }\r\n\r\n    const unlockAchievementHandler = (key, msg) => unlockAchievement(key, msg, enqueueSnackbar);\r\n\r\n    if (playerCorrectAnswers === 5) {\r\n      unlockAchievementHandler(\"fiveCorrectSameRunCompetitive\", \"Achievement! Master Spotter!\");\r\n    }\r\n\r\n    if (playerCorrectAnswers === variables.roundsNumber) {\r\n      unlockAchievementHandler(\"allCorrectCompetitive\", \"Achievement! Perfectionist!\");\r\n    }\r\n\r\n    if (playerScore.total + playerScore.round > aiScore.total + aiScore.round) {\r\n      unlockAchievementHandler(\"firstCompetitiveWin\", \"Achievement! Competitive Winner!\");\r\n    }\r\n  }, [aiScore, enqueueSnackbar, gameEnded, playerCorrectAnswers, playerScore]);\r\n\r\n  /**\r\n   * Firestore image document listener\r\n   */\r\n  useEffect(() => {\r\n    if (fileId === -1) {\r\n      return () => {};\r\n    }\r\n\r\n    setImageData({ ...defaultImageData, clicks: [] });\r\n\r\n    const docName = fileId.toString();\r\n\r\n    const unsubscribe = firebase\r\n      .firestore()\r\n      .collection(constants.images(difficulty))\r\n      .doc(docName)\r\n      .onSnapshot(\r\n        (snapshot) => {\r\n          if (snapshot.exists) {\r\n            setImageData(snapshot.data() as FirestoreImageData);\r\n          }\r\n        },\r\n        (error) => handleFirestoreError(error)\r\n      );\r\n\r\n    return () => unsubscribe();\r\n  }, [difficulty, fileId]);\r\n\r\n  /**\r\n   * Called when the canvas is clicked\r\n   *\r\n   * @param event Mouse event, used to get click position\r\n   */\r\n  const onCanvasClick = (event: React.MouseEvent<HTMLCanvasElement, MouseEvent>) => {\r\n    if (!roundRunning) {\r\n      return;\r\n    }\r\n\r\n    setClick(mapClickToCanvas(context, event.clientX, event.clientY));\r\n    setEndRunning(true);\r\n    setRoundRunning(false);\r\n  };\r\n\r\n  /**\r\n   * Loads the annotation data for the given annotationId\r\n   *\r\n   * @param annotationId Number of the annotation to load\r\n   *\r\n   * @return Void promise\r\n   */\r\n  const loadAnnotation = async (annotationId: number): Promise<void> => {\r\n    const url = await firebase\r\n      .storage()\r\n      .ref(getAnnotationPath(annotationId, difficulty))\r\n      .getDownloadURL();\r\n\r\n    const response = await axios.get<AnnotationData>(url, { timeout: constants.axiosTimeout });\r\n\r\n    const annotation = response.data;\r\n\r\n    setTruth(mapRectangleToCanvasScale(context, annotation.truth));\r\n    setPredicted(mapRectangleToCanvasScale(context, annotation.predicted));\r\n  };\r\n\r\n  /**\r\n   * Loads the image from for the given imageId\r\n   *\r\n   * @param imageId Number of the image to load\r\n   *\r\n   * @return Void promise\r\n   */\r\n  const loadImage = (imageId: number): Promise<void> =>\r\n    new Promise((resolve, reject) => {\r\n      const image = new Image();\r\n\r\n      image.onload = () => {\r\n        context.clearRect(0, 0, context.canvas.width, context.canvas.height);\r\n        context.drawImage(image, 0, 0, context.canvas.width, context.canvas.height);\r\n\r\n        resolve();\r\n      };\r\n\r\n      image.onerror = (_ev, _src, _line, _col, error) => reject(error);\r\n\r\n      /* Set source after onload to ensure onload gets called (in case the image is cached) */\r\n      firebase\r\n        .storage()\r\n        .ref(getImagePath(imageId, difficulty))\r\n        .getDownloadURL()\r\n        .then((url) => {\r\n          image.src = url;\r\n        })\r\n        .catch((error) => reject(error));\r\n    });\r\n\r\n  /**\r\n   * Starts a new round, loading a new annotation - image pair\r\n   */\r\n  const startRound = async () => {\r\n    setRoundLoading(true);\r\n\r\n    setShowIncrement(false);\r\n\r\n    setPlayerScore(({ total, round }) => ({ total: total + round, round: 0 }));\r\n    setAiScore(({ total, round }) => ({ total: total + round, round: 0 }));\r\n\r\n    /* Get a new file id and load the corresponding annotation and image */\r\n    const newFileId = getNewFileId();\r\n\r\n    try {\r\n      await loadAnnotation(newFileId);\r\n      await loadImage(newFileId);\r\n\r\n      setFileId(newFileId);\r\n\r\n      if (gameMode === \"competitive\") {\r\n        setFileIds((prevState) => [...prevState, newFileId]);\r\n      }\r\n\r\n      setRoundNumber((prevState) => prevState + 1);\r\n\r\n      /* Reset game state */\r\n      setRoundTime(variables.roundDuration);\r\n      setEndTime(0);\r\n      setAnimationPosition(0);\r\n\r\n      setHintedCurrent(false);\r\n      setTimerColor(colors.timerInitial);\r\n\r\n      setClick(null);\r\n\r\n      setPlayerCorrectCurrent(false);\r\n\r\n      setShowHeatmap(false);\r\n\r\n      setRoundEnded(false);\r\n      setRoundRunning(true);\r\n    } catch (error) {\r\n      console.error(`Annotation/Image load error\\n fileId: ${newFileId}`);\r\n\r\n      if (isFirebaseStorageError(error)) {\r\n        handleFirebaseStorageError(error, enqueueSnackbar);\r\n      } else if (axios.isAxiosError(error)) {\r\n        handleAxiosError(error, enqueueSnackbar);\r\n      } else {\r\n        handleImageLoadError(error, enqueueSnackbar);\r\n      }\r\n    } finally {\r\n      setRoundLoading(false);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Load the data to display on the given heatmap instance\r\n   *\r\n   * @param instance Heatmap instance\r\n   */\r\n  const loadHeatmapData = useCallback(\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    async (instance: any) => {\r\n      setHeatmapLoading(true);\r\n\r\n      // eslint-disable-next-line no-underscore-dangle\r\n      const { ctx }: { ctx: CanvasRenderingContext2D } = instance._renderer;\r\n\r\n      const min = 0;\r\n      let max = 0;\r\n\r\n      const data = imageData.clicks.map(({ x, y, clickCount }) => {\r\n        max = Math.max(max, clickCount);\r\n\r\n        return { x: toCanvasScale(ctx, x), y: toCanvasScale(ctx, y), clickCount };\r\n      });\r\n\r\n      const heatmapData = { min, max, data };\r\n\r\n      instance.setData(heatmapData);\r\n\r\n      setHeatmapLoading(false);\r\n    },\r\n    [imageData.clicks]\r\n  );\r\n\r\n  /**\r\n   * Submit the achieved score for the given username\r\n   * (Over)write if achieved score is greater than stored one, or there is no stored value\r\n   *\r\n   * @param username Player username to identify achieved score\r\n   *\r\n   * @return True if successful, false otherwise\r\n   */\r\n  const submitScore = async (username: string): Promise<void> => {\r\n    const date = new Date();\r\n\r\n    const playerScoreFull = playerScore.total + playerScore.round;\r\n    const aiScoreFull = aiScore.total + aiScore.round;\r\n\r\n    const scoreData: FirestoreScoreData = {\r\n      user: username,\r\n      score: playerScoreFull,\r\n      ai_score: aiScoreFull,\r\n      correct_player_answers: playerCorrectAnswers,\r\n      usedHints: hinted,\r\n      correct_ai_answers: aiCorrectAnswers,\r\n      day: date.getDate(),\r\n      month: getMonthName(date.getMonth()),\r\n      year: date.getFullYear(),\r\n    };\r\n\r\n    const scores = gameMode === \"casual\" ? constants.scoresCasual : constants.scoresCompetitive;\r\n\r\n    const docName = `${scoreData.year}.${scoreData.month}.${scoreData.day}.${scoreData.user}`;\r\n\r\n    try {\r\n      const snapshot = await firebase.firestore().collection(scores).doc(docName).get();\r\n\r\n      /* Set if first time played today, or a higher score was achieved */\r\n      if (!snapshot.exists || (snapshot.data() as FirestoreScoreData).score < scoreData.score) {\r\n        await firebase.firestore().collection(scores).doc(docName).set(scoreData);\r\n      }\r\n\r\n      enqueueSnackbar(\"Score successfully submitted!\", constants.successSnackbarOptions);\r\n\r\n      if (playerScoreFull > aiScoreFull && gameMode === \"casual\") {\r\n        unlockAchievement(\"firstCasualWin\", \"Achievement! Casually Winning!\", enqueueSnackbar);\r\n      }\r\n\r\n      history.go(-2);\r\n    } catch (error) {\r\n      if (isFirestoreError(error)) {\r\n        handleFirestoreError(error, enqueueSnackbar);\r\n      } else {\r\n        handleUncaughtError(error, \"submitScore\", enqueueSnackbar);\r\n      }\r\n    }\r\n  };\r\n\r\n  const createChallenge = async () => {\r\n    const shortLinksUrl = `https://firebasedynamiclinks.googleapis.com/v1/shortLinks?key=${process.env.REACT_APP_FIREBASE_API_KEY}`;\r\n    const fileIdsString = JSON.stringify(fileIds);\r\n\r\n    const link = `http://${window.location.host}/spot-the-lesion/challenge?gameMode=${gameMode}&difficulty=${difficulty}&fileIds=${fileIdsString}`;\r\n\r\n    const title = \"Spot the Lesion\";\r\n\r\n    const description = `I just scored ${\r\n      playerScore.total + playerScore.round\r\n    }! Think you can beat that?`;\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        shortLinksUrl,\r\n        {\r\n          dynamicLinkInfo: {\r\n            domainUriPrefix: constants.domainUriPrefix,\r\n            link,\r\n            socialMetaTagInfo: {\r\n              socialTitle: title,\r\n              socialDescription: description,\r\n            },\r\n          },\r\n          suffix: {\r\n            option: \"SHORT\",\r\n          },\r\n        },\r\n        { timeout: constants.axiosTimeout }\r\n      );\r\n\r\n      setChallengeLink(response.data.shortLink);\r\n\r\n      setChallengeDialogOpen(true);\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        handleAxiosError(error, enqueueSnackbar);\r\n      } else {\r\n        handleUncaughtError(error, \"createInvite\", enqueueSnackbar);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onChallengeClose = () => setChallengeDialogOpen(false);\r\n\r\n  const onToggleHeatmap = () => {\r\n    setHeatmapLoading(!showHeatmap);\r\n    setShowHeatmap((prevState) => !prevState);\r\n  };\r\n\r\n  const onSubmitClick = () => setSubmitDialogOpen(true);\r\n\r\n  const onSubmitClose = () => setSubmitDialogOpen(false);\r\n\r\n  const onShareClick = () => setShareDialogOpen(true);\r\n\r\n  const onShareClose = () => setShareDialogOpen(false);\r\n\r\n  const onImageStatsClick = () => setImageStatsDialogOpen(true);\r\n\r\n  const onImageStatsClose = () => setImageStatsDialogOpen(false);\r\n\r\n  useHeatmap(\r\n    showHeatmap,\r\n    loadHeatmapData,\r\n    canvasContainer,\r\n    `${classes.canvas} ${classes.heatmapCanvas}`\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <NavigationAppBar showBack>\r\n        <Button color=\"inherit\" disabled={!roundEnded || roundLoading} onClick={onImageStatsClick}>\r\n          Show Image Stats\r\n        </Button>\r\n\r\n        <LoadingButton\r\n          color=\"inherit\"\r\n          disabled={!roundEnded || roundLoading}\r\n          loading={heatmapLoading}\r\n          onClick={onToggleHeatmap}\r\n        >\r\n          {showHeatmap ? \"Hide Heatmap\" : \"Show Heatmap\"}\r\n        </LoadingButton>\r\n      </NavigationAppBar>\r\n\r\n      <div className={classes.container}>\r\n        <div className={classes.emptyDiv} />\r\n\r\n        <div className={classes.topBarCanvasContainer}>\r\n          <GameTopBar\r\n            gameMode={gameMode}\r\n            hintDisabled={hintedCurrent || !roundRunning}\r\n            onHintClick={drawHint}\r\n            roundTime={roundTime}\r\n            timerColor={timerColor}\r\n          />\r\n\r\n          <Card className={classes.canvasContainer} ref={canvasContainer}>\r\n            <canvas\r\n              className={clsx(classes.canvas, classes.imageCanvas)}\r\n              ref={canvasRef}\r\n              height={constants.canvasSize}\r\n              width={constants.canvasSize}\r\n            />\r\n\r\n            <canvas\r\n              className={clsx(classes.canvas, classes.animationCanvas)}\r\n              ref={animationCanvasRef}\r\n              height={constants.canvasSize}\r\n              width={constants.canvasSize}\r\n              onClick={onCanvasClick}\r\n            />\r\n          </Card>\r\n        </div>\r\n\r\n        <GameSideBar\r\n          gameMode={gameMode}\r\n          gameStarted={roundNumber > 0}\r\n          gameEnded={gameEnded}\r\n          roundEnded={roundEnded}\r\n          roundLoading={roundLoading}\r\n          showIncrement={showIncrement}\r\n          onStartRound={startRound}\r\n          onSubmitClick={onSubmitClick}\r\n          onShareClick={onShareClick}\r\n          onChallenge={createChallenge}\r\n          playerScore={playerScore}\r\n          aiScore={aiScore}\r\n        />\r\n      </div>\r\n\r\n      <SubmitScoreDialog open={submitDialogOpen} onClose={onSubmitClose} onSubmit={submitScore} />\r\n\r\n      <ShareScoreDialog\r\n        open={shareDialogOpen}\r\n        onClose={onShareClose}\r\n        score={playerScore.total + playerScore.round}\r\n      />\r\n\r\n      <ChallengeDialog open={challengeDialogOpen} onClose={onChallengeClose} link={challengeLink} />\r\n\r\n      <ImageStatsDialog\r\n        open={imageStatsDialogOpen}\r\n        onClose={onImageStatsClose}\r\n        imageData={imageData}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Game;\r\n","import React from \"react\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport {\r\n  getDifficultyOrDefault,\r\n  getFileIdsOrDefault,\r\n  getGameModeOrDefault,\r\n} from \"../../utils/gameUtils\";\r\nimport Game from \"./Game\";\r\n\r\ntype GameRouteProps = Omit<RouteComponentProps<never>, \"match\">;\r\n\r\nconst GameRoute: React.FC<GameRouteProps> = ({ history, location }: GameRouteProps) => {\r\n  const query = new URLSearchParams(location.search);\r\n\r\n  const gameMode = getGameModeOrDefault(query.get(\"gameMode\"));\r\n  const difficulty = getDifficultyOrDefault(query.get(\"difficulty\"));\r\n  const fileIds = getFileIdsOrDefault(query.get(\"fileIds\"));\r\n\r\n  const gameModeParam = `gameMode=${fileIds ? \"competitive\" : gameMode}`;\r\n  const difficultyParam = `&difficulty=${difficulty}`;\r\n  const fileIdsParam = fileIds ? `&fileIds=${JSON.stringify(fileIds)}` : \"\";\r\n\r\n  const search = `?${gameModeParam}${difficultyParam}${fileIdsParam}`;\r\n\r\n  if (location.search !== search) {\r\n    history.replace(`/game${search}`);\r\n  }\r\n\r\n  return <Game gameMode={gameMode} difficulty={difficulty} challengeFileIds={fileIds} />;\r\n};\r\n\r\nexport default GameRoute;\r\n","export default __webpack_public_path__ + \"static/media/logo.dee84503.gif\";","export default __webpack_public_path__ + \"static/media/ct-scan.8d40826e.png\";","export default __webpack_public_path__ + \"static/media/brain.ce614ebc.png\";","import React, { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { NavigationAppBar } from \"../../components\";\r\nimport logo from \"../../res/images/home/logo.gif\";\r\nimport scan from \"../../res/images/home/ct-scan.png\";\r\nimport brain from \"../../res/images/home/brain.png\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"center\",\r\n    },\r\n    logo: {\r\n      marginTop: 16,\r\n      marginBottom: 24,\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        height: 200,\r\n      },\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        height: 300,\r\n      },\r\n    },\r\n    iconsAndButtonsContainer: {\r\n      width: \"100%\",\r\n      display: \"flex\",\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"center\",\r\n    },\r\n    image: {\r\n      width: 250,\r\n      [theme.breakpoints.down(\"sm\")]: {\r\n        display: \"none\",\r\n      },\r\n    },\r\n    button: {\r\n      margin: 8,\r\n      borderRadius: 20,\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        width: 250,\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        width: 300,\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        width: 320,\r\n        fontSize: \"1.25rem\",\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nconst Home: React.FC = () => {\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n  const classes = useStyles();\r\n\r\n  const onPlayClick = () => {\r\n    if (localStorage.getItem(\"firstSession\") === \"true\") {\r\n      history.push(\"/game-menu\");\r\n    } else {\r\n      localStorage.setItem(\"firstSession\", \"true\");\r\n\r\n      setDialogOpen(true);\r\n    }\r\n  };\r\n\r\n  const onTutorialClick = () => history.push(\"/tutorial\");\r\n\r\n  const onLeaderboardsClick = () => history.push(\"/leaderboards\");\r\n\r\n  const onAchievementsClick = () => history.push(\"/achievements\");\r\n\r\n  const onStatisticsClick = () => history.push(\"/statistics\");\r\n\r\n  const onCreditsClick = () => history.push(\"/credits\");\r\n\r\n  return (\r\n    <>\r\n      <NavigationAppBar />\r\n\r\n      <div className={classes.container}>\r\n        <img className={classes.logo} src={logo} alt=\"Spot the Lesion Logo\" />\r\n\r\n        <div className={classes.iconsAndButtonsContainer}>\r\n          <img className={classes.image} src={scan} alt=\"Scanner\" />\r\n\r\n          <ButtonGroup orientation=\"vertical\">\r\n            <Button\r\n              className={classes.button}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={onPlayClick}\r\n            >\r\n              Play\r\n            </Button>\r\n\r\n            <Button\r\n              className={classes.button}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={onTutorialClick}\r\n            >\r\n              Tutorial\r\n            </Button>\r\n\r\n            <Button\r\n              className={classes.button}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={onLeaderboardsClick}\r\n            >\r\n              Leaderboards\r\n            </Button>\r\n\r\n            <Button\r\n              className={classes.button}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={onAchievementsClick}\r\n            >\r\n              Achievements\r\n            </Button>\r\n\r\n            <Button\r\n              className={classes.button}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={onStatisticsClick}\r\n            >\r\n              Statistics\r\n            </Button>\r\n\r\n            <Button\r\n              className={classes.button}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={onCreditsClick}\r\n            >\r\n              Credits\r\n            </Button>\r\n          </ButtonGroup>\r\n\r\n          <img className={classes.image} src={brain} alt=\"Brain\" />\r\n        </div>\r\n\r\n        <Dialog open={dialogOpen}>\r\n          <DialogTitle>What about a short tutorial?</DialogTitle>\r\n\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              Hey. We have noticed that this is your first time playing on this browser. We want to\r\n              make sure you get a feeling of what is going on before jumping in the game, so we\r\n              suggest you take a look at the tutorial.\r\n            </DialogContentText>\r\n          </DialogContent>\r\n\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={onTutorialClick}>\r\n              Show me the tutorial\r\n            </Button>\r\n\r\n            <Button color=\"primary\" onClick={onPlayClick}>\r\n              I just want to play\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import firebase from \"firebase/app\";\r\nimport { getMonthName } from \"./firebaseUtils\";\r\nimport colors from \"../res/colors\";\r\nimport constants from \"../res/constants\";\r\n\r\n/**\r\n * Given a rank, returns its corresponding color\r\n *\r\n * @param rank Rank number, starting from 1\r\n *\r\n * @return Color string\r\n */\r\nconst getColorByRank = (rank: number): string => {\r\n  switch (rank) {\r\n    case 1:\r\n      return colors.gold;\r\n    case 2:\r\n      return colors.silver;\r\n    case 3:\r\n      return colors.bronze;\r\n    default:\r\n      return colors.rowDefault;\r\n  }\r\n};\r\n\r\n/**\r\n * Given a time index and game mode index, creates a firestore query for the corresponding entries,\r\n * ordered decreasingly on score\r\n *\r\n * @param timeIndex     Time index (0 - Daily, 1 - Monthly, 2 - All)\r\n * @param gameModeIndex Game mode index (0 - Casual, 1 - Competitive)\r\n *\r\n * @return Firestore query\r\n */\r\nconst getQueryOnTimeAndGameMode = (\r\n  timeIndex: number,\r\n  gameModeIndex: number\r\n): firebase.firestore.Query => {\r\n  const date = new Date();\r\n\r\n  const scores = gameModeIndex === 0 ? constants.scoresCasual : constants.scoresCompetitive;\r\n\r\n  const collectionRef = firebase.firestore().collection(scores);\r\n\r\n  switch (timeIndex) {\r\n    case 0:\r\n      return collectionRef\r\n        .where(\"year\", \"==\", date.getFullYear())\r\n        .where(\"month\", \"==\", getMonthName(date.getMonth()))\r\n        .where(\"day\", \"==\", date.getDate())\r\n        .orderBy(\"score\", \"desc\");\r\n    case 1:\r\n      return collectionRef\r\n        .where(\"year\", \"==\", date.getFullYear())\r\n        .where(\"month\", \"==\", getMonthName(date.getMonth()))\r\n        .orderBy(\"score\", \"desc\");\r\n    case 2:\r\n    default:\r\n      return collectionRef.orderBy(\"score\", \"desc\");\r\n  }\r\n};\r\n\r\nexport { getColorByRank, getQueryOnTimeAndGameMode };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  AppBar,\r\n  CircularProgress,\r\n  Paper,\r\n  Tab,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Tabs,\r\n  Theme,\r\n  useMediaQuery,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { FaMedal } from \"react-icons/fa\";\r\nimport clsx from \"clsx\";\r\nimport { HideFragment, NavigationAppBar } from \"../../components\";\r\nimport { handleFirestoreError } from \"../../utils/firebaseUtils\";\r\nimport { getColorByRank, getQueryOnTimeAndGameMode } from \"../../utils/leaderboardsUtils\";\r\nimport colors from \"../../res/colors\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    timeAppBar: {\r\n      backgroundColor: colors.primaryTabBar,\r\n    },\r\n    gameModeAppBar: {\r\n      backgroundColor: colors.secondaryTabBar,\r\n    },\r\n    tabIndicator: {\r\n      backgroundColor: colors.tabIndicator,\r\n    },\r\n    tab: {\r\n      fontSize: \"1rem\",\r\n    },\r\n    container: {\r\n      flex: 1,\r\n      height: 0,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      padding: 24,\r\n    },\r\n    tableContainer: {\r\n      width: \"81%\",\r\n    },\r\n    tableCell: {\r\n      borderBottom: `thin solid ${colors.rowBorder}`,\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        fontSize: \"1.5rem\",\r\n      },\r\n    },\r\n    tableCellHead: {\r\n      color: colors.headerText,\r\n      backgroundColor: colors.header,\r\n    },\r\n  })\r\n);\r\n\r\nconst Leaderboards: React.FC = () => {\r\n  const [timeTabIndex, setTimeTabIndex] = useState(0);\r\n  const [gameModeTabIndex, setGameModeTabIndex] = useState(0);\r\n\r\n  const [rows, setRows] = useState<LeaderboardRow[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const smallScreen = useMediaQuery((theme: Theme) => theme.breakpoints.down(\"xs\"));\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = getQueryOnTimeAndGameMode(timeTabIndex, gameModeTabIndex).onSnapshot(\r\n      (snapshot) => {\r\n        const seenUsers = new Set<string>();\r\n        const newRows: LeaderboardRow[] = [];\r\n        let prevRow: LeaderboardRow = { user: \"\", score: -1, rank: 0 };\r\n\r\n        snapshot.forEach((doc) => {\r\n          const { user, score } = doc.data() as FirestoreScoreData;\r\n\r\n          if (seenUsers.has(user)) {\r\n            return;\r\n          }\r\n\r\n          const { score: prevScore, rank: prevRank } = prevRow;\r\n\r\n          const rank = score === prevScore ? prevRank : prevRank + 1;\r\n\r\n          const row = { user, score, rank };\r\n\r\n          seenUsers.add(user);\r\n          newRows.push(row);\r\n          prevRow = row;\r\n        });\r\n\r\n        setRows(newRows);\r\n\r\n        setLoading(false);\r\n      },\r\n      (error) => handleFirestoreError(error)\r\n    );\r\n\r\n    return () => unsubscribe();\r\n  }, [gameModeTabIndex, timeTabIndex]);\r\n\r\n  const onTimeTabChange = (_event, newValue: number) => setTimeTabIndex(newValue);\r\n\r\n  const onGameModeTabChange = (_event, newValue: number) => setGameModeTabIndex(newValue);\r\n\r\n  return (\r\n    <>\r\n      <NavigationAppBar showBack />\r\n\r\n      <AppBar className={classes.timeAppBar} position=\"sticky\">\r\n        <Tabs\r\n          classes={{ indicator: classes.tabIndicator }}\r\n          variant={smallScreen ? \"fullWidth\" : \"standard\"}\r\n          centered\r\n          value={timeTabIndex}\r\n          onChange={onTimeTabChange}\r\n        >\r\n          <Tab className={classes.tab} label=\"Daily\" />\r\n\r\n          <Tab className={classes.tab} label=\"Monthly\" />\r\n\r\n          <Tab className={classes.tab} label=\"All Time\" />\r\n        </Tabs>\r\n      </AppBar>\r\n\r\n      <AppBar className={classes.gameModeAppBar} position=\"sticky\">\r\n        <Tabs\r\n          classes={{ indicator: classes.tabIndicator }}\r\n          variant={smallScreen ? \"fullWidth\" : \"standard\"}\r\n          centered\r\n          value={gameModeTabIndex}\r\n          onChange={onGameModeTabChange}\r\n        >\r\n          <Tab className={classes.tab} label=\"Casual\" />\r\n\r\n          <Tab className={classes.tab} label=\"Competitive\" />\r\n        </Tabs>\r\n      </AppBar>\r\n\r\n      <div className={classes.container}>\r\n        <HideFragment hide={!loading}>\r\n          <CircularProgress color=\"primary\" size={64} />\r\n        </HideFragment>\r\n\r\n        <HideFragment hide={loading}>\r\n          <TableContainer className={classes.tableContainer} component={Paper}>\r\n            <Table stickyHeader>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell\r\n                    className={clsx(classes.tableCell, classes.tableCellHead)}\r\n                    align=\"center\"\r\n                  >\r\n                    Rank\r\n                  </TableCell>\r\n\r\n                  <TableCell\r\n                    className={clsx(classes.tableCell, classes.tableCellHead)}\r\n                    align=\"center\"\r\n                  >\r\n                    Player\r\n                  </TableCell>\r\n\r\n                  <TableCell\r\n                    className={clsx(classes.tableCell, classes.tableCellHead)}\r\n                    align=\"center\"\r\n                  >\r\n                    Score\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                {rows.map(({ user, score, rank }) => (\r\n                  <TableRow key={user} style={{ backgroundColor: getColorByRank(rank) }}>\r\n                    <TableCell className={classes.tableCell} align=\"center\">\r\n                      {rank <= 3 ? <FaMedal /> : null} {rank}\r\n                    </TableCell>\r\n\r\n                    <TableCell\r\n                      className={classes.tableCell}\r\n                      component=\"th\"\r\n                      scope=\"row\"\r\n                      align=\"center\"\r\n                    >\r\n                      {user}\r\n                    </TableCell>\r\n\r\n                    <TableCell className={classes.tableCell} align=\"center\">\r\n                      {score}\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </HideFragment>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Leaderboards;\r\n","export default __webpack_public_path__ + \"static/media/notFound.3605c4a8.gif\";","import React from \"react\";\r\nimport { Button, Typography } from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport notFound from \"../../res/images/404/notFound.gif\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"center\",\r\n    },\r\n    gif: {\r\n      marginTop: 16,\r\n      marginBottom: 24,\r\n      [theme.breakpoints.down(\"xs\")]: {\r\n        height: 200,\r\n      },\r\n      [theme.breakpoints.up(\"sm\")]: {\r\n        height: 300,\r\n      },\r\n    },\r\n    error404Text: {\r\n      fontSize: \"3rem\",\r\n      fontWeight: \"bold\",\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        fontSize: \"150%\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        fontSize: \"1.5rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        fontSize: \"3rem\",\r\n      },\r\n    },\r\n    returnButton: {\r\n      borderRadius: 20,\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        width: 300,\r\n        height: 50,\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        width: 350,\r\n        height: 58,\r\n        fontSize: \"1rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        width: 370,\r\n        height: 61,\r\n        fontSize: \"1.25rem\",\r\n      },\r\n    },\r\n  })\r\n);\r\n\r\nconst PageNotFound: React.FC = () => {\r\n  const history = useHistory();\r\n\r\n  const classes = useStyles();\r\n\r\n  const onReturnClick = () => history.push(\"/\");\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <img className={classes.gif} src={notFound} alt=\"404 Not Found gif\" />\r\n\r\n      <Typography className={classes.error404Text}>404 - Page Not Found</Typography>\r\n\r\n      <Button\r\n        className={classes.returnButton}\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        size=\"large\"\r\n        onClick={onReturnClick}\r\n      >\r\n        Go To Main Menu\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageNotFound;\r\n","import React, { useEffect, useMemo, useState } from \"react\";\r\nimport {\r\n  AppBar,\r\n  Button,\r\n  ButtonGroup,\r\n  Card,\r\n  CircularProgress,\r\n  Slide,\r\n  Tab,\r\n  Tabs,\r\n  Theme,\r\n  Typography,\r\n  useMediaQuery,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { ArrowBack, ArrowForward } from \"@material-ui/icons\";\r\nimport firebase from \"firebase/app\";\r\nimport { ResponsivePie } from \"@nivo/pie\";\r\nimport { HideFragment, NavigationAppBar } from \"../../components\";\r\nimport { handleFirestoreError } from \"../../utils/firebaseUtils\";\r\nimport colors from \"../../res/colors\";\r\nimport constants from \"../../res/constants\";\r\n\r\nconst useStyles = makeStyles(() =>\r\n  createStyles({\r\n    appBar: {\r\n      backgroundColor: colors.primaryTabBar,\r\n    },\r\n    tabIndicator: {\r\n      backgroundColor: colors.tabIndicator,\r\n    },\r\n    tab: {\r\n      fontSize: \"1rem\",\r\n    },\r\n    container: {\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"center\",\r\n      overflowX: \"hidden\",\r\n    },\r\n    card: {\r\n      height: \"80%\",\r\n      width: \"80%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"center\",\r\n    },\r\n    title: {\r\n      fontWeight: \"bold\",\r\n    },\r\n    pieContainer: {\r\n      height: \"60vh\",\r\n      width: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n  })\r\n);\r\n\r\nconst defaultStatsData: StatsData = {\r\n  aiWins: 0,\r\n  humanWins: 0,\r\n  draws: 0,\r\n  hints: 0,\r\n  noHints: 0,\r\n};\r\n\r\nconst numSlides = 2;\r\n\r\nconst Statistics: React.FC = () => {\r\n  const [tabIndex, setTabIndex] = useState(0);\r\n\r\n  const [slideIndex, setSlideIndex] = useState(0);\r\n  const [slideIn, setSlideIn] = useState(true);\r\n  const [slideDirection, setSlideDirection] = useState<\"left\" | \"right\">(\"left\");\r\n\r\n  const [statsData, setStatsData] = useState(defaultStatsData);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const smallScreen = useMediaQuery((theme: Theme) => theme.breakpoints.down(\"xs\"));\r\n\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    const scores = tabIndex === 0 ? constants.scoresCasual : constants.scoresCompetitive;\r\n\r\n    const unsubscribe = firebase\r\n      .firestore()\r\n      .collection(scores)\r\n      .onSnapshot(\r\n        (snapshot) => {\r\n          let humanWins = 0;\r\n          let aiWins = 0;\r\n          let draws = 0;\r\n          let hints = 0;\r\n\r\n          snapshot.forEach((doc) => {\r\n            const { score, ai_score: aiScore, usedHints } = doc.data() as FirestoreScoreData;\r\n\r\n            if (score > aiScore) {\r\n              humanWins += 1;\r\n            } else if (aiScore > score) {\r\n              aiWins += 1;\r\n            } else {\r\n              draws += 1;\r\n            }\r\n\r\n            hints += usedHints ? 1 : 0;\r\n          });\r\n\r\n          setStatsData({\r\n            humanWins,\r\n            aiWins,\r\n            draws,\r\n            hints,\r\n            noHints: snapshot.size - hints,\r\n          });\r\n\r\n          setLoading(false);\r\n        },\r\n        (error) => handleFirestoreError(error)\r\n      );\r\n\r\n    return () => unsubscribe();\r\n  }, [tabIndex]);\r\n\r\n  const [title, data] = useMemo(() => {\r\n    const { aiWins, humanWins, draws, hints, noHints } = statsData;\r\n\r\n    if (slideIndex === 0) {\r\n      return [\r\n        \"Human vs AI\",\r\n        [\r\n          {\r\n            id: \"AI Wins\",\r\n            label: \"AI Wins\",\r\n            value: aiWins,\r\n            color: colors.pieAllAiWins,\r\n          },\r\n          {\r\n            id: \"Human Wins\",\r\n            label: \"Human Wins\",\r\n            value: humanWins,\r\n            color: colors.pieAllHumanWins,\r\n          },\r\n          {\r\n            id: \"Draws\",\r\n            label: \"Draws\",\r\n            value: draws,\r\n            color: colors.pieAllDraws,\r\n          },\r\n        ],\r\n      ];\r\n    }\r\n\r\n    return [\r\n      \"How many players used hints\",\r\n      [\r\n        {\r\n          id: \"Hints\",\r\n          label: \"Hints\",\r\n          value: hints,\r\n          color: colors.pieAllHints,\r\n        },\r\n        {\r\n          id: \"No hints\",\r\n          label: \"No hints\",\r\n          value: noHints,\r\n          color: colors.pieAllNoHints,\r\n        },\r\n      ],\r\n    ];\r\n  }, [slideIndex, statsData]);\r\n\r\n  const onTabChange = async (_event, newValue: number) => setTabIndex(newValue);\r\n\r\n  const onArrowClick = (direction: \"left\" | \"right\") => {\r\n    setSlideDirection(direction);\r\n    setSlideIn(false);\r\n  };\r\n\r\n  const onSlideExited = () => {\r\n    const increment = slideDirection === \"left\" ? -1 : 1;\r\n    const newIndex = (slideIndex + increment + numSlides) % numSlides;\r\n\r\n    setSlideIndex(newIndex);\r\n    setSlideDirection((prevState) => (prevState === \"left\" ? \"right\" : \"left\"));\r\n    setSlideIn(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <NavigationAppBar showBack />\r\n\r\n      <AppBar className={classes.appBar} position=\"sticky\">\r\n        <Tabs\r\n          classes={{ indicator: classes.tabIndicator }}\r\n          variant={smallScreen ? \"fullWidth\" : \"standard\"}\r\n          centered\r\n          value={tabIndex}\r\n          onChange={onTabChange}\r\n        >\r\n          <Tab className={classes.tab} label=\"Casual\" />\r\n\r\n          <Tab className={classes.tab} label=\"Competitive\" />\r\n        </Tabs>\r\n      </AppBar>\r\n\r\n      <div className={classes.container}>\r\n        <Slide\r\n          appear={false}\r\n          in={slideIn}\r\n          direction={slideDirection}\r\n          timeout={{ enter: 400, exit: 400 }}\r\n          onExited={onSlideExited}\r\n        >\r\n          <Card className={classes.card}>\r\n            <Typography className={classes.title}>{title}</Typography>\r\n\r\n            <div className={classes.pieContainer}>\r\n              <HideFragment hide={!loading}>\r\n                <CircularProgress color=\"secondary\" size={64} />\r\n              </HideFragment>\r\n\r\n              <HideFragment hide={loading}>\r\n                <ResponsivePie\r\n                  data={data}\r\n                  innerRadius={0.5}\r\n                  padAngle={0.7}\r\n                  cornerRadius={3}\r\n                  margin={{ top: 40, right: 80, bottom: 80, left: 80 }}\r\n                  colors={{ datum: \"data.color\" }}\r\n                  borderWidth={1}\r\n                  borderColor={{ from: \"color\", modifiers: [[\"darker\", 1]] }}\r\n                  enableRadialLabels={false}\r\n                  enableSliceLabels={false}\r\n                  defs={[\r\n                    {\r\n                      id: \"dots\",\r\n                      type: \"patternDots\",\r\n                      background: \"inherit\",\r\n                      color: \"rgba(255,255,255,0.3)\",\r\n                      size: 4,\r\n                      padding: 1,\r\n                      stagger: true,\r\n                    },\r\n                    {\r\n                      id: \"lines\",\r\n                      type: \"patternLines\",\r\n                      background: \"inherit\",\r\n                      color: \"rgba(255,255,255,0.3)\",\r\n                      rotation: -45,\r\n                      lineWidth: 6,\r\n                      spacing: 10,\r\n                    },\r\n                  ]}\r\n                  fill={[\r\n                    {\r\n                      match: {\r\n                        id: \"Human Wins\",\r\n                      },\r\n                      id: \"dots\",\r\n                    },\r\n                    {\r\n                      match: {\r\n                        id: \"AI Wins\",\r\n                      },\r\n                      id: \"lines\",\r\n                    },\r\n                  ]}\r\n                  legends={[\r\n                    {\r\n                      anchor: \"bottom\",\r\n                      direction: smallScreen ? \"column\" : \"row\",\r\n                      justify: false,\r\n                      translateY: 70,\r\n                      itemWidth: 75,\r\n                      itemHeight: 18,\r\n                      itemsSpacing: smallScreen ? 5 : 75,\r\n                      itemTextColor: colors.legendText,\r\n                      symbolSize: 18,\r\n                      symbolShape: \"circle\",\r\n                      effects: [\r\n                        {\r\n                          on: \"hover\",\r\n                          style: {\r\n                            itemTextColor: colors.legendTextHover,\r\n                          },\r\n                        },\r\n                      ],\r\n                    },\r\n                  ]}\r\n                />\r\n              </HideFragment>\r\n            </div>\r\n          </Card>\r\n        </Slide>\r\n\r\n        <ButtonGroup size=\"large\">\r\n          <Button color=\"primary\" variant=\"contained\" onClick={() => onArrowClick(\"left\")}>\r\n            <ArrowBack />\r\n          </Button>\r\n\r\n          <Button color=\"primary\" variant=\"contained\" onClick={() => onArrowClick(\"right\")}>\r\n            <ArrowForward />\r\n          </Button>\r\n        </ButtonGroup>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Statistics;\r\n","import React, { ReactNode } from \"react\";\r\nimport { Card, Typography } from \"@material-ui/core\";\r\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\";\r\n\r\ninterface TutorialCardProps {\r\n  tutorialItem: TutorialItem;\r\n  className?: string;\r\n  children?: ReactNode;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    container: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      boxSizing: \"border-box\",\r\n      padding: 24,\r\n    },\r\n    textContainer: {\r\n      flex: 1,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n    },\r\n    text: {\r\n      [theme.breakpoints.only(\"xs\")]: {\r\n        fontSize: \"1.25rem\",\r\n      },\r\n      [theme.breakpoints.only(\"sm\")]: {\r\n        fontSize: \"1.5rem\",\r\n      },\r\n      [theme.breakpoints.up(\"md\")]: {\r\n        fontSize: \"2rem\",\r\n      },\r\n    },\r\n    imageContainer: {\r\n      flex: 3,\r\n      height: \"0%\",\r\n      width: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n    image: {\r\n      maxWidth: \"100%\",\r\n      maxHeight: \"100%\",\r\n    },\r\n  })\r\n);\r\n\r\nconst TutorialCard = React.forwardRef<JSX.Element, TutorialCardProps>(\r\n  ({ children, className, tutorialItem: { text, imageSrc } }, ref) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n      <Card className={clsx(classes.container, className)} ref={ref}>\r\n        <div className={classes.textContainer}>\r\n          <Typography className={classes.text}>{text}</Typography>\r\n        </div>\r\n\r\n        <div\r\n          className={classes.imageContainer}\r\n          style={{ display: imageSrc === undefined ? \"none\" : \"\" }}\r\n        >\r\n          <img className={classes.image} src={imageSrc} alt=\"Tutorial card\" />\r\n        </div>\r\n\r\n        {children}\r\n      </Card>\r\n    );\r\n  }\r\n);\r\n\r\nTutorialCard.displayName = \"TutorialCard\";\r\n\r\nexport default TutorialCard;\r\n","export default __webpack_public_path__ + \"static/media/doctor.f4b8885c.png\";","export default __webpack_public_path__ + \"static/media/start screen.6f2b542d.png\";","export default __webpack_public_path__ + \"static/media/help.95632fe4.png\";","export default __webpack_public_path__ + \"static/media/answer.82e40a92.png\";","export default __webpack_public_path__ + \"static/media/scoring.3d7777e7.png\";","export default __webpack_public_path__ + \"static/media/hourglass.c3f5103b.png\";","export default __webpack_public_path__ + \"static/media/giftbox.a742d657.png\";","export default __webpack_public_path__ + \"static/media/wrong ai.db09e69c.png\";","export default __webpack_public_path__ + \"static/media/right ai.88e3cfbf.png\";","export default __webpack_public_path__ + \"static/media/calm.5ae04875.png\";","export default __webpack_public_path__ + \"static/media/mystery.0973cad0.png\";","export default __webpack_public_path__ + \"static/media/application.471e58b3.png\";","export default __webpack_public_path__ + \"static/media/lesion.0feb87cc.png\";","import doctor from \"../../res/images/tutorial/doctor.png\";\r\nimport start_screen from \"../../res/images/tutorial/start screen.png\";\r\nimport strategy_game from \"../../res/images/tutorial/strategy_game.png\";\r\nimport help from \"../../res/images/tutorial/help.png\";\r\nimport answer from \"../../res/images/tutorial/answer.png\";\r\nimport points from \"../../res/images/tutorial/scoring.png\";\r\nimport hourglass from \"../../res/images/tutorial/hourglass.png\";\r\nimport giftbox from \"../../res/images/tutorial/giftbox.png\";\r\nimport wrong_ai from \"../../res/images/tutorial/wrong ai.png\";\r\nimport ai_answer from \"../../res/images/tutorial/right ai.png\";\r\nimport calm from \"../../res/images/tutorial/calm.png\";\r\nimport hint from \"../../res/images/tutorial/mystery.png\";\r\nimport application from \"../../res/images/tutorial/application.png\";\r\nimport lesion from \"../../res/images/tutorial/lesion.png\";\r\n\r\nconst tutorialHowToPlayItems: TutorialItem[] = [\r\n  {\r\n    text: \"Welcome to Spot-the-Lesion!\",\r\n    imageSrc: doctor,\r\n  },\r\n  {\r\n    text:\r\n      \"You’ll receive a sample of a CT scan like this one below, and you’ll have to find the lesion present in it.\",\r\n    imageSrc: start_screen,\r\n  },\r\n  {\r\n    text: \"There are 2 game modes: competitive and casual\",\r\n    imageSrc: strategy_game,\r\n  },\r\n  {\r\n    text:\r\n      \"In the competitive mode you have 10 seconds to click on the region of the scan where you think the lesion is located.\",\r\n    imageSrc: start_screen,\r\n  },\r\n  {\r\n    text:\r\n      \"After 5 seconds, a hint will appear - the red circle indicates the part of the image which you should look at.\",\r\n    imageSrc: help,\r\n  },\r\n  {\r\n    text: \"When you click on the CT scan, an orange cross will appear\",\r\n    imageSrc: answer,\r\n  },\r\n  {\r\n    text:\r\n      \"If your click was correct, then you’ll see a green (+) and points added in the card near the CT scan\",\r\n    imageSrc: points,\r\n  },\r\n  {\r\n    text: \"The faster you answer, the more points you score (10 * time remaining)...\",\r\n    imageSrc: hourglass,\r\n  },\r\n  {\r\n    text: \"...and if you answer without a hint, you get double the points\",\r\n    imageSrc: giftbox,\r\n  },\r\n  {\r\n    text: \"You’ll also see the AI’s prediction on the lesion, marked in red\",\r\n    imageSrc: wrong_ai,\r\n  },\r\n  {\r\n    text: \"Finally, you will see the correct answer marked in green.\",\r\n    imageSrc: ai_answer,\r\n  },\r\n  {\r\n    text:\r\n      \"In the casual game mode, you can take your time when answering, as there is no time limit per picture\",\r\n    imageSrc: calm,\r\n  },\r\n  {\r\n    text: \"If you want some help, you can use the hint button located on top of the CT scan image\",\r\n    imageSrc: hint,\r\n  },\r\n  {\r\n    text: \"You can play as much as you want and when you are done you can just submit your score\",\r\n    imageSrc: application,\r\n  },\r\n  {\r\n    text: \"That's it! Now, can you spot more lesions than the AI?\",\r\n  },\r\n];\r\n\r\nconst tutorialLesionsItems: TutorialItem[] = [\r\n  {\r\n    text:\r\n      \"A lesion is any damage or abnormal change in the tissue, being of a different colour than surrounding tissue.\",\r\n    imageSrc: lesion,\r\n  },\r\n];\r\n\r\nexport { tutorialHowToPlayItems, tutorialLesionsItems };\r\n","export default \"data:image/png;base64,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\"","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  AppBar,\r\n  Button,\r\n  ButtonGroup,\r\n  Slide,\r\n  Tab,\r\n  Tabs,\r\n  Theme,\r\n  useMediaQuery,\r\n} from \"@material-ui/core\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { ArrowBack, ArrowForward } from \"@material-ui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { HideFragment, NavigationAppBar, TabPanel } from \"../../components\";\r\nimport TutorialCard from \"./TutorialCard\";\r\nimport { tutorialHowToPlayItems, tutorialLesionsItems } from \"./tutorialItems\";\r\nimport colors from \"../../res/colors\";\r\n\r\nconst useStyles = makeStyles(() =>\r\n  createStyles({\r\n    appBar: {\r\n      backgroundColor: colors.primaryTabBar,\r\n    },\r\n    tabIndicator: {\r\n      backgroundColor: colors.tabIndicator,\r\n    },\r\n    tab: {\r\n      fontSize: \"1rem\",\r\n    },\r\n    container: {\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"center\",\r\n      overflowX: \"hidden\",\r\n    },\r\n    tutorialCard: {\r\n      width: \"80%\",\r\n      height: \"80%\",\r\n    },\r\n    playButtonContainer: {\r\n      flex: 1,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n    },\r\n    playButton: {\r\n      borderRadius: 20,\r\n      fontSize: \"3rem\",\r\n    },\r\n  })\r\n);\r\n\r\nconst numSlides = tutorialHowToPlayItems.length;\r\n\r\nconst Tutorial: React.FC = () => {\r\n  const [tabIndex, setTabIndex] = useState(0);\r\n\r\n  const [slideIndex, setSlideIndex] = useState(0);\r\n  const [slideIn, setSlideIn] = useState(true);\r\n  const [slideDirection, setSlideDirection] = useState<\"left\" | \"right\">(\"left\");\r\n\r\n  const smallScreen = useMediaQuery((theme: Theme) => theme.breakpoints.down(\"xs\"));\r\n\r\n  const history = useHistory();\r\n\r\n  const classes = useStyles();\r\n\r\n  const onTabChange = async (_event, newValue: number) => setTabIndex(newValue);\r\n\r\n  const onArrowClick = (direction: \"left\" | \"right\") => {\r\n    setSlideDirection(direction);\r\n    setSlideIn(false);\r\n  };\r\n\r\n  const onSlideExited = () => {\r\n    const increment = slideDirection === \"left\" ? -1 : 1;\r\n    const newIndex = (slideIndex + increment + numSlides) % numSlides;\r\n\r\n    setSlideIndex(newIndex);\r\n    setSlideDirection((prevState) => (prevState === \"left\" ? \"right\" : \"left\"));\r\n    setSlideIn(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onKeyDown = (event: KeyboardEvent) => {\r\n      if (event.key === \"ArrowLeft\") {\r\n        onArrowClick(\"left\");\r\n      }\r\n\r\n      if (event.key === \"ArrowRight\") {\r\n        onArrowClick(\"right\");\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", onKeyDown);\r\n\r\n    return () => window.removeEventListener(\"keydown\", onKeyDown);\r\n  });\r\n\r\n  const onPlayClick = () => history.replace(\"/game-menu\");\r\n\r\n  return (\r\n    <>\r\n      <NavigationAppBar showBack />\r\n\r\n      <AppBar className={classes.appBar} position=\"sticky\">\r\n        <Tabs\r\n          classes={{ indicator: classes.tabIndicator }}\r\n          variant={smallScreen ? \"fullWidth\" : \"standard\"}\r\n          centered\r\n          value={tabIndex}\r\n          onChange={onTabChange}\r\n        >\r\n          <Tab className={classes.tab} label=\"How to Play\" />\r\n\r\n          <Tab className={classes.tab} label=\"Lesions\" />\r\n        </Tabs>\r\n      </AppBar>\r\n\r\n      <div className={classes.container}>\r\n        <TabPanel value={tabIndex} index={0}>\r\n          <Slide\r\n            appear={false}\r\n            in={slideIn}\r\n            direction={slideDirection}\r\n            timeout={{ enter: 400, exit: 400 }}\r\n            onExited={onSlideExited}\r\n          >\r\n            <TutorialCard\r\n              className={classes.tutorialCard}\r\n              tutorialItem={tutorialHowToPlayItems[slideIndex]}\r\n            >\r\n              <HideFragment hide={slideIndex !== 14}>\r\n                <div className={classes.playButtonContainer}>\r\n                  <Button\r\n                    className={classes.playButton}\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    size=\"large\"\r\n                    onClick={onPlayClick}\r\n                  >\r\n                    Play\r\n                  </Button>\r\n                </div>\r\n              </HideFragment>\r\n            </TutorialCard>\r\n          </Slide>\r\n\r\n          <ButtonGroup size=\"large\">\r\n            <Button color=\"primary\" variant=\"contained\" onClick={() => onArrowClick(\"left\")}>\r\n              <ArrowBack />\r\n            </Button>\r\n\r\n            <Button color=\"primary\" variant=\"contained\" onClick={() => onArrowClick(\"right\")}>\r\n              <ArrowForward />\r\n            </Button>\r\n          </ButtonGroup>\r\n        </TabPanel>\r\n\r\n        <TabPanel value={tabIndex} index={1}>\r\n          <TutorialCard className={classes.tutorialCard} tutorialItem={tutorialLesionsItems[0]} />\r\n        </TabPanel>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Tutorial;\r\n","import React, { useCallback } from \"react\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport ProtectedRoute from \"./components/ProtectedRoute\";\r\nimport { useSessionState } from \"./hooks\";\r\nimport Achievements from \"./screens/achievements/Achievements\";\r\nimport Admin from \"./screens/admin/Admin\";\r\nimport AdminAuthContext from \"./screens/admin/AdminAuthContext\";\r\nimport AdminLogin from \"./screens/admin/AdminLogin\";\r\nimport GameSettings from \"./screens/admin/GameSettings\";\r\nimport FileUpload from \"./screens/admin/FileUpload\";\r\nimport Credits from \"./screens/credits/Credits\";\r\nimport GameMenu from \"./screens/game/GameMenu\";\r\nimport GameRoute from \"./screens/game/GameRoute\";\r\nimport Home from \"./screens/home/Home\";\r\nimport Leaderboards from \"./screens/leaderboards/Leaderboards\";\r\nimport PageNotFound from \"./screens/404/PageNotFound\";\r\nimport Statistics from \"./screens/statistics/Statistics\";\r\nimport Tutorial from \"./screens/tutorial/Tutorial\";\r\n\r\nconst useStyles = makeStyles(() =>\r\n  createStyles({\r\n    container: {\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n    },\r\n  })\r\n);\r\n\r\nconst Router: React.FC = () => {\r\n  const [adminLoggedIn, setAdminLoggedIn] = useSessionState(false, \"adminLoggedIn\");\r\n\r\n  const classes = useStyles();\r\n\r\n  const adminLogIn = useCallback(() => setAdminLoggedIn(true), [setAdminLoggedIn]);\r\n\r\n  return (\r\n    <AdminAuthContext.Provider value={{ adminLoggedIn, adminLogIn }}>\r\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n        <div className={classes.container}>\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Home />\r\n            </Route>\r\n\r\n            <Route exact path=\"/achievements\">\r\n              <Achievements />\r\n            </Route>\r\n\r\n            <ProtectedRoute exact path=\"/admin\" show={adminLoggedIn} redirectTo=\"/admin-login\">\r\n              <Admin />\r\n            </ProtectedRoute>\r\n\r\n            <ProtectedRoute exact path=\"/admin-login\" show={!adminLoggedIn} redirectTo=\"/admin\">\r\n              <AdminLogin />\r\n            </ProtectedRoute>\r\n\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/admin/game-settings\"\r\n              show={adminLoggedIn}\r\n              redirectTo=\"/admin-login\"\r\n            >\r\n              <GameSettings />\r\n            </ProtectedRoute>\r\n\r\n            <ProtectedRoute\r\n              exact\r\n              path=\"/admin/file-upload\"\r\n              show={adminLoggedIn}\r\n              redirectTo=\"/admin-login\"\r\n            >\r\n              <FileUpload />\r\n            </ProtectedRoute>\r\n\r\n            <Route\r\n              exact\r\n              path=\"/challenge\"\r\n              render={({ history, location }) => {\r\n                history.replace(\"/\");\r\n                history.push(\"/game-menu\");\r\n                history.push(`/game${location.search}`);\r\n\r\n                return null;\r\n              }}\r\n            />\r\n\r\n            <Route exact path=\"/credits\">\r\n              <Credits />\r\n            </Route>\r\n\r\n            <Route\r\n              exact\r\n              path=\"/game\"\r\n              render={({ history, location }) => (\r\n                <GameRoute history={history} location={location} />\r\n              )}\r\n            />\r\n\r\n            <Route exact path=\"/game-menu\">\r\n              <GameMenu />\r\n            </Route>\r\n\r\n            <Route exact path=\"/leaderboards\">\r\n              <Leaderboards />\r\n            </Route>\r\n\r\n            <Route exact path=\"/statistics\">\r\n              <Statistics />\r\n            </Route>\r\n\r\n            <Route exact path=\"/tutorial\">\r\n              <Tutorial />\r\n            </Route>\r\n\r\n            <Route path=\"*\">\r\n              <PageNotFound />\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </BrowserRouter>\r\n    </AdminAuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport { SnackbarProvider } from \"notistack\";\r\nimport { getGlobalVariables, initializeFirebase } from \"./firebase/firebaseApp\";\r\nimport { HideFragment } from \"./components\";\r\nimport Loading from \"./screens/loading/Loading\";\r\nimport Router from \"./Router\";\r\nimport colors from \"./res/colors\";\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: colors.primary,\r\n    },\r\n    secondary: {\r\n      main: colors.secondary,\r\n    },\r\n  },\r\n});\r\n\r\nconst App: React.FC = () => {\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const initializeApp = async () => {\r\n      if (!(await initializeFirebase()) || !(await getGlobalVariables())) {\r\n        console.warn(\"App initialization unsuccessful\");\r\n      }\r\n\r\n      setLoading(false);\r\n    };\r\n\r\n    initializeApp().then(() => {});\r\n  }, []);\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <SnackbarProvider maxSnack={2} preventDuplicate>\r\n        <HideFragment hide={!loading}>\r\n          <Loading />\r\n        </HideFragment>\r\n\r\n        <HideFragment hide={loading}>\r\n          <Router />\r\n        </HideFragment>\r\n      </SnackbarProvider>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { ReportHandler } from \"web-vitals\";\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\r\n  if (onPerfEntry) {\r\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport \"@fontsource/roboto/300.css\";\r\nimport \"@fontsource/roboto/400.css\";\r\nimport \"@fontsource/roboto/500.css\";\r\nimport \"@fontsource/roboto/700.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}